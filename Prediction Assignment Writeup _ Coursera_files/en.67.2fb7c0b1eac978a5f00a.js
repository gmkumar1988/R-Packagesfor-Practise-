(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"0/vS":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedback"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedbackInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedback"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:158}};e.loc.source={body:"mutation AiCoach_UpdateWithUserFeedback($input: AiCoach_UpdateWithUserFeedbackInput!) {\n  AiCoach_UpdateWithUserFeedback(input: $input) {\n    messageId\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function unique(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)}))}function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}var t={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function oneQuery(e,n){var a={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=t[n]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){var n;r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}!function extractReferences(){e.definitions.forEach((function(e){if(e.name){var n=new Set;collectFragmentReferences(e,n),t[e.name.value]=n}}))}(),module.exports=e,module.exports.AiCoach_UpdateWithUserFeedback=oneQuery(e,"AiCoach_UpdateWithUserFeedback")},"1Tsj":function(module,e,n){"use strict";n.r(e);var t=n("lSNA"),a=n.n(t),i=n("J4zp"),r=n.n(i),o=n("VkAN"),c=n.n(o),s=n("AeFk"),d=n("q1tI"),l=n("MnCE"),u=n("8cuT"),m=n("sQ/U"),p=n("K7Vu"),g="onDemandSupplements.v1",supplementData=function(e){var n=e.itemId,t=e.courseId,a=e.courseSlug,i,r={includes:["asset"],fields:["openCourseAssets.v1(typeName)","openCourseAssets.v1(definition)"]};return new p.a({itemId:n,courseId:t,courseSlug:a}).getWithCourseItemId(g,r).then((function(e){return e.linked["openCourseAssets.v1"][0]}))},h=n("8Hdl"),f=n("SJ7i"),b=n("VDEC"),v=n("7GkZ"),w={NAME:"NAME",USER_ID:"USER_ID",HASHED_USER_ID:"HASHED_USER_ID"},k=w,x=w.NAME,O=w.USER_ID,C=w.HASHED_USER_ID,S=n("hUuC"),j=n("h4VP"),y=n("MKs7"),I=n("+rcu"),N=n("vXr1"),E=n("15pW"),A=n("6/Gu"),F=n("ZJgU"),T=n("/szJ"),R=n("/VB6"),L=n("S+eF"),M=n.n(L),D=n("TSOT"),P=Object(D.a)(E.d.supplementCompletionApi,{type:"rest"}),B=Object(D.a)(E.d.supplementStartApi,{type:"rest"});function updateSupplementProgress(e){var n=e.itemId,t=e.courseId,a=e.userId,i=e.api,r={data:{userId:a,courseId:t,itemId:n}};return M()(i.post("",r))}var U={markComplete:function markComplete(e,n,t){return updateSupplementProgress({itemId:e,courseId:n,userId:t,api:P})},markStarted:function markStarted(e,n,t){return updateSupplementProgress({itemId:e,courseId:n,userId:t,api:B})}},z=U,H=U.markComplete,V=U.markStarted,q=n("E4RX"),W=n("MC18"),G=n.n(W),Q,K,J,Y,X,Z,ee={readingCompleteContainer:function readingCompleteContainer(e){return Object(s.c)(Q||(Q=c()(["\n    margin-top: ",";\n  "])),e.spacing(32))},completed:function completed(e){return Object(s.c)(K||(K=c()(["\n    "," {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n  "])),e.breakpoints.down("xs"))},completedText:function completedText(e){return Object(s.c)(J||(J=c()(["\n    display: flex;\n    "," {\n      margin-top: ",";\n    }\n  "])),e.breakpoints.down("xs"),e.spacing(32))},text:function text(e){return Object(s.c)(Y||(Y=c()(["\n    margin-right: ",";\n    margin-left: ",";\n  "])),e.spacing(24),e.spacing(4))},nextItem:function nextItem(e){return Object(s.c)(X||(X=c()(["\n  "," {\n    margin-top: ",";\n"])),e.breakpoints.down("xs"),e.spacing(32))}},ne=function ReadingCompleteButton(e){var n=e.isComplete,t=e.nextItem,a=e.itemId,i=e.courseId,r=e.courseProgress,o=e.executeAction,c=Object(N.b)(),d=function markComplete(){var e;r.getItemProgress(a).setState(E.e),o(q.c,{courseProgress:r}),Object(q.b)(r.get("id"),r),z.markComplete(a,i,m.a.get().id).done()},l=function goToNextItem(){t&&c.push(t.getLink())};return Object(s.d)("div",{"data-testid":"reading-complete-container",css:ee.readingCompleteContainer},n?Object(s.d)(A.a,{container:!0,direction:"row","data-testid":"completed",css:ee.completed},Object(s.d)(A.a,{item:!0,alignItems:"center","data-testid":"completed-text",css:ee.completedText},Z||(Z=Object(s.d)(T.a,{size:"large",color:"success","aria-hidden":!0})),Object(s.d)(h.a,{variant:"h3bold",color:"success",css:ee.text},G()("Completed"))),!!t&&Object(s.d)(A.a,{item:!0},Object(s.d)(F.a,{"data-testid":"next-item",css:ee.nextItem,variant:"primary",type:"submit",onClick:l},G()("Go to next item")))):Object(s.d)("div",null,Object(s.d)(F.a,{"data-testid":"mark-complete",variant:"primary",type:"submit",onClick:d},G()("Mark as completed"))))},te=Object(l.b)(Object(R.a)())(ne),ae=n("kDtP"),ie=n("Q/rb"),re=n("j0VE"),oe=n("RuU6"),ce,se,de,le,ue;n.d(e,"ReadingItem",(function(){return ge}));var me=d.lazy((function(){return Promise.resolve().then(n.bind(null,"VDEC")).then((function(e){return e}))})),pe={negativeMarginLeft:Object(s.c)({marginLeft:"-16px"}),title:function title(e){return Object(s.c)(ce||(ce=c()(["\n    margin-bottom: ",";\n    "," {\n      margin-bottom: ",";\n    }\n  "])),e.spacing(32),e.breakpoints.up("md"),e.spacing(48))},cmlRestyling:Object(s.c)(se||(se=c()(["\n    max-width: 790px;\n  "]))),body:function body(e){return Object(s.c)(de||(de=c()(["\n    margin-bottom: ",";\n  "])),e.spacing(48))},embeddedContentAttribution:function embeddedContentAttribution(e){return Object(s.c)(le||(le=c()(["\n    margin-top: ",";\n  "])),e.spacing(16))}},ge=function ReadingItem(e){var n,t,i=e.branchId,o=e.computedItem,c=e.courseId,l=e.courseSlug,u=e.itemMetadata,p=e.courseMaterials,g=e.courseProgress,f=e.theme,w=Object(d.useState)(void 0),x=r()(w,2),O=x[0],C=x[1];Object(d.useEffect)((function(){var e=o.id;supplementData({itemId:e,courseId:c,courseSlug:l}).then((function(e){C(e)}))}),[o,c,l]);var N=O?Object(j.d)(O):void 0,E=!(N&&Object(j.j)(N,"1")&&S.c.getInnerContent(N)===o.name),A=k.NAME,F=k.USER_ID,T,R="CourseraCoach"===Object(oe.a)();I.a.get("showLearningAssistant");var L=null==p?void 0:null===(n=p.getNeighbors(u))||void 0===n?void 0:n.nextItemMetadataOrItemGroup;return Object(s.d)(ie.a,{className:"rc-ReadingItem",feedbackType:"reading",computedItem:o,courseId:c,css:pe.cmlRestyling},Object(s.d)("div",{css:pe.body(f)},O?Object(s.d)("div",null,E&&Object(s.d)("div",{className:"reading-title",css:pe.title(f)},Object(s.d)(h.a,{variant:"d2",component:"h1"},o.name),u.getEmbeddedContentSourceCourseId()&&Object(s.d)("div",{css:pe.embeddedContentAttribution},Object(s.d)(y.a,{embeddedContentSourceCourseId:u.getEmbeddedContentSourceCourseId(),includeCourseName:!0})),Object(s.d)("div",{css:pe.negativeMarginLeft},Object(s.d)(re.a,{courseId:c,courseBranchId:i,itemId:o.id,courseSlug:l}))),Object(s.d)(v.a,{cml:O,isCdsEnabled:!0,shouldApplyTracking:!0,variableData:(t={},a()(t,A,m.a.get().fullName),a()(t,F,m.a.get().id),t)}),Object(s.d)(te,{courseId:c,courseSlug:l,itemId:o.id,isComplete:o.isCompleted,nextItem:L,courseProgress:g})):ue||(ue=Object(s.d)(ae.a,null))),R&&Object(s.d)(d.Suspense,{fallback:null},Object(s.d)(me,{courseId:c,itemId:o.id,humanReadableItemType:b.HumanReadableItemType.READING})))},he=e.default=Object(l.b)(Object(u.a)(["CourseStore","ProgressStore","SessionStore"],(function(e){var n=e.CourseStore,t=e.ProgressStore,a=e.SessionStore;return{courseId:n.getCourseId(),branchId:a.getBranchId()||n.getCourseId(),courseSlug:n.getCourseSlug(),courseMaterials:n.getMaterials(),courseProgress:t.courseProgress}})),f.a)(ge)},"24m0":function(module,exports){exports.default={"ar":true,"de":true,"es":true,"fr":true,"id":true,"ja":true,"kk":true,"ko":true,"pt":true,"ru":true,"th":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"7h5H":function(module,exports){exports.default={"ar":true,"de":true,"es":true,"fr":true,"id":true,"ja":true,"kk":true,"ko":true,"pt":true,"ru":true,"th":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"8PY9":function(module,exports,e){e("Xb1k")},DxU6:function(module,exports,e){var n=e("7h5H"),t=n.default?n.default:{},a,i=(0,e("HdzH").default)(t);i.getLocale=function(){return"en"},module.exports=i},MC18:function(module,exports,e){var n=e("24m0"),t=n.default?n.default:{},a,i=(0,e("HdzH").default)(t);i.getLocale=function(){return"en"},module.exports=i},MKs7:function(module,e,n){"use strict";var t=n("VkAN"),a=n.n(t),i=n("AeFk"),r=n("q1tI"),o=n("Z3v1"),c=n("+TN3"),s=n("2yix"),d=n("fAYU"),l=n("VTZa"),u=n("8Hdl"),m=n("UYTu"),p,g,h=Object(m.a)(p||(p=a()(["\n  query OnDemandCoursesPartnerDataQuery($courseId: String!) {\n    OnDemandCoursesV1Resource {\n      get(id: $courseId) {\n        id\n        partnerIds\n        name\n        slug\n        partners {\n          elements {\n            id\n            name\n            squareLogo\n          }\n        }\n      }\n      __typename\n    }\n  }\n"]))),f=n("2aIb"),b=n.n(f),v,w,k,x,O,C,S={attributionContainer:Object(i.c)(v||(v=a()(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  "]))),logo:Object(i.c)(w||(w=a()(["\n    flex: none;\n    margin-right: var(--cds-spacing-50);\n    img {\n      vertical-align: baseline;\n    }\n  "]))),name:Object(i.c)(k||(k=a()(["\n    flex: initial;\n    min-width: 0;\n\n    overflow: hidden;\n    text-overflow: ellipsis;\n  "]))),courseNameLink:Object(i.c)(x||(x=a()(["\n    color: var(--cds-color-grey-700) !important;\n  "]))),loadingLogo:Object(i.c)(O||(O=a()(["\n    padding: 3px;\n    > * {\n      border-radius: 4px;\n    }\n  "])))},j=r.memo((function(e){var n=e.className,t=e.includeCourseName;return Object(i.d)("div",{"data-testid":"loading",css:S.attributionContainer,className:n},Object(i.d)("div",{css:[S.logo,S.loadingLogo]},C||(C=Object(i.d)(s.a,{variant:"rect",height:24,width:24}))),Object(i.d)(s.a,{variant:"text",width:t?300:100,css:S.name}))})),y=function EmbeddedSourceCourseAttribution(e){var n,t,a,r=e.embeddedContentSourceCourseId,s=e.partner,m=e.courseName,p=e.courseSlug,g=e.includeCourseName,f=void 0!==g&&g,v=e.loading,w=void 0!==v&&v,k=e.boldPartnerName,x=void 0!==k&&k,O=e.className,C=Object(c.a)(h,{variables:{courseId:r},skip:!!s}),y=C.data,I=C.loading,N;if(C.error)return null;if(I||w)return Object(i.d)(j,{includeCourseName:f,className:O});var E=s||(null==y?void 0:null===(n=y.OnDemandCoursesV1Resource)||void 0===n?void 0:null===(t=n.get)||void 0===t?void 0:null===(a=t.partners)||void 0===a?void 0:a.elements[0]);if(!E)return null;var A=x?Object(i.d)("strong",null,E.name):E.name;if(f){var F,T,R,L,M=m||(null==y?void 0:null===(F=y.OnDemandCoursesV1Resource)||void 0===F?void 0:null===(T=F.get)||void 0===T?void 0:T.name),D=p||(null==y?void 0:null===(R=y.OnDemandCoursesV1Resource)||void 0===R?void 0:null===(L=R.get)||void 0===L?void 0:L.slug),P=Object(i.d)(d.a,{href:"/learn/".concat(D),target:"_blank",css:S.courseNameLink},M);A=Object(i.d)(o.FormattedMessage,{message:b()("From {courseNameLink} by {partnerName}"),courseNameLink:P,partnerName:E.name})}return Object(i.d)("div",{css:S.attributionContainer,className:"rc-EmbeddedSourceCourseAttribution ".concat(O)},Object(i.d)(l.a,{variant:"organization",size:24,showBorder:!0,imgProps:{src:E.squareLogo||void 0},"aria-hidden":!0,"data-testid":"partner-logo",css:S.logo}),Object(i.d)(u.a,{variant:"body2",component:"span",color:"supportText",css:S.name},A))},I=e.a=y},VDEC:function(module,e,n){"use strict";n.r(e);var t=n("J4zp"),a=n.n(t),i=n("VkAN"),r=n.n(i),o=n("AeFk"),c=n("q1tI"),s=n("Gcrz"),d=n("/MKj"),l=n("agHs"),u=n("L1vm"),m=n("sQ/U"),p,g=Object(o.c)(p||(p=r()(["\n  .coach-glasses-fill-dark {\n    fill: #000;\n  }\n  .coach-glasses-fill-light {\n    fill: #fff;\n  }\n"])));function CoachSmileIcon(e){var n,t="light"===e.variant?"coach-glasses-fill-light":"coach-glasses-fill-dark";return Object(o.d)("svg",{css:g,xmlns:"http://www.w3.org/2000/svg",viewBox:"120.0 80.0 350.0 350.0",fill:"none",stroke:"none",strokeLinecap:"square",strokeMiterlimit:"10"},Object(o.d)("g",{clipPath:"url(#g1e02e13141a_0_86.0)"},Object(o.d)("path",{className:t,d:"m154.00131 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740158 -62.740143l0 0c16.639725 0 32.59793 6.6101074 44.364 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740158 62.740173l0 0c-34.650436 0 -62.740158 -28.089722 -62.740158 -62.740173zm17.99263 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.713379 0 44.747543 -20.03415 44.747543 -44.74756c0 -24.713364 -20.034164 -44.747528 -44.747543 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m310.5013 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740143 -62.740143l0 0c16.63974 0 32.59793 6.6101074 44.364014 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740173 62.740173l0 0c-34.65042 0 -62.740143 -28.089722 -62.740143 -62.740173zm17.992615 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.71341 0 44.74756 -20.03415 44.74756 -44.74756c0 -24.713364 -20.03415 -44.747528 -44.74756 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m257.64163 242.08545l0 0c6.5712585 -14.1698 20.832336 -23.177536 36.450928 -23.02359c15.618622 0.15396118 29.69934 9.441071 35.99002 23.73764l-17.426147 7.6677246c-3.2775574 -7.4487915 -10.613922 -12.287567 -18.751526 -12.367783c-8.137604 -0.080200195 -15.567902 4.6130066 -18.991669 11.995758z",fillRule:"evenodd"}),Object(o.d)("path",{id:"right-eye",cx:"257",cy:"257",className:t,d:"m216.4155 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.70079 -13.700775l0 0c3.6336823 0 7.1185303 1.4434662 9.687927 4.012863c2.569397 2.5694122 4.012863 6.054245 4.012863 9.687912l0 0c0 7.566742 -6.1340485 13.700806 -13.70079 13.700806l0 0c-7.5667267 0 -13.70079 -6.1340637 -13.70079 -13.700806z",fillRule:"evenodd"}),Object(o.d)("path",{id:"left-eye",className:t,d:"m343.0373 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.700806 -13.700775l0 0c3.633667 0 7.1184998 1.4434662 9.687897 4.012863c2.569397 2.5694122 4.0128784 6.054245 4.0128784 9.687912l0 0c0 7.566742 -6.1340637 13.700806 -13.700775 13.700806l0 0c-7.566742 0 -13.700806 -6.1340637 -13.700806 -13.700806z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m328.37347 333.21335l0 0c-6.8821106 12.243011 -19.701324 19.95874 -33.7417 20.308746c-14.040344 0.3499756 -27.228088 -6.7174683 -34.71164 -18.602386l8.925354 -5.619995l0 0c5.502655 8.738983 15.199585 13.935669 25.523468 13.678314c10.323883 -0.25732422 19.749847 -5.930725 24.810272 -14.932983z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m141.76114 235.90277l0 0c0 -5.5532227 4.5017853 -10.055008 10.055008 -10.055008l11.701004 0l0 0c2.6667633 0 5.224289 1.059372 7.10997 2.945053c1.8856812 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.50177 10.055008 -10.055008 10.055008l-11.701004 0c-5.5532227 0 -10.055008 -4.5017853 -10.055008 -10.055008z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m417.23877 235.90277l0 0c0 -5.5532227 4.50177 -10.055008 10.055023 -10.055008l11.700989 0l0 0c2.666748 0 5.224304 1.059372 7.1099854 2.945053c1.8856506 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.5018005 10.055008 -10.055023 10.055008l-11.700989 0c-5.553253 0 -10.055023 -4.5017853 -10.055023 -10.055008z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m319.48215 327.40158l0 0c1.4785767 -2.5309448 4.7289124 -3.3840942 7.259857 -1.9055176l0 0c1.2153931 0.710022 2.0989685 1.8737793 2.4562988 3.23526c0.35736084 1.3614807 0.15924072 2.8091736 -0.55078125 4.0245667l0 0c-1.4785767 2.5309448 -4.7289124 3.3840637 -7.259857 1.9055176l0 0c-2.5309448 -1.4785461 -3.3840637 -4.7289124 -1.9055176 -7.2598267z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m259.73413 329.27557l0 0c1.4785461 -2.5309448 4.728882 -3.3840637 7.2598267 -1.9055176l0 0c1.2154236 0.7100525 2.0989685 1.8738098 2.4563293 3.2352905c0.35736084 1.3614807 0.1592102 2.8091736 -0.55081177 4.0245667l0 0c-1.4785461 2.5309448 -4.728882 3.3840637 -7.2598267 1.9055176l0 0c-2.5309448 -1.4785767 -3.3840942 -4.7289124 -1.9055176 -7.259857z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,fillOpacity:"0.0",d:"m29.997375 27.0l46.401573 0l0 42.534775l-46.401573 0z",fillRule:"evenodd"})))}var h=n("DU3t"),f=n("xeAZ"),b=n.n(f),v=n("ANjH"),w=n("lSNA"),k=n.n(w),x=n("3tO9"),O=n.n(x),C=function createReducer(e,n,t){return e[t.type]?e[t.type](n,t):n},S="BEHAVIOR/TOGGLE_CHAT",j="BEHAVIOR/TOGGLE_FULLSCREEN",y="BEHAVIOR/TOGGLE_INPUT_DISABLED",I="BEHAVIOR/TOGGLE_MSG_LOADER",N="BEHAVIOR/SET_BADGE_COUNT",E="MESSAGES/ADD_NEW_USER_MESSAGE",A="MESSAGES/ADD_NEW_RESPONSE_MESSAGE",F="MESSAGES/ADD_NEW_LINK_SNIPPET",T="MESSAGES/ADD_COMPONENT_MESSAGE",R="MESSAGES/DROP_MESSAGES",L="MESSAGES/HIDE_AVATAR",M="MESSAGES/DELETE_MESSAGES",D="MESSAGES/MARK_ALL_READ",P="MESSAGE/FEEDBACK_SET_LIKE",B="MESSAGE/FEEDBACK_SET_UNLIKE",U="MESSAGE/FEEDBACK_UNSET",z="INPUT/SET_USER_INPUT_TEXT",H="SESSION/NEW_CHAT_SESSION",V,q={showChat:!1,isFullScreen:!1,disabledInput:!1,messageLoader:!1},W=(V={},k()(V,S,(function(e){return O()(O()({},e),{},{showChat:!e.showChat})})),k()(V,j,(function(e){return O()(O()({},e),{},{isFullScreen:!e.isFullScreen})})),k()(V,y,(function(e){return O()(O()({},e),{},{disabledInput:!e.disabledInput})})),k()(V,I,(function(e){return O()(O()({},e),{},{messageLoader:!e.messageLoader})})),V),reducers_behaviorReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,n=arguments.length>1?arguments[1]:void 0;return C(W,e,n)},G={inputText:""},Q=k()({},z,(function(e,n){return O()(O()({},e),{},{inputText:n.inputText})})),reducers_inputReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,n=arguments.length>1?arguments[1]:void 0;return C(Q,e,n)},K=n("RIqP"),J=n.n(K),Y=n("DxU6"),X=n.n(Y),Z={CLIENT:"client",RESPONSE:"response"},ee={TEXT:"text",SNIPPET:{LINK:"snippet"},CUSTOM_COMPONENT:"component"},ne="LIKE",te="DISLIKE",ae="UNSET",ie={VIDEO:"video",READING:"reading"},re=function getErrorMessageText(){return X()("Sorry, there was an error responding. Please try your message again.")},oe=400,ce="activeCourseraCoachSessionId",se=n("TNJZ"),de=n.n(se),le=n("1M3H"),ue=n.n(le),me=n("1+lQ"),pe=n.n(me),ge=n("MPo6"),he=n.n(ge),fe=n("e6bE"),be=n.n(fe);function Message(e){var n=e.message,t=ue()({break:!0}).use(de.a,{img:["rcw-message-img"]}).use(be.a).use(he.a).use(pe.a,{attrs:{target:"_blank",rel:"noopener"}}).render(n.text);return c.createElement("div",{className:"rcw-".concat(n.sender," rcw-message-text"),dangerouslySetInnerHTML:{__html:t.replace(/\n$/,"")}})}var ve=Message;function Snippet(e){var n=e.message;return(c.createElement("div",{className:"rcw-snippet"},c.createElement("h5",{className:"rcw-snippet-title"},n.title),c.createElement("div",{className:"rcw-snippet-details"},c.createElement("a",{href:n.link,target:n.target,className:"rcw-link"},n.link))))}var we=Snippet,ke;function createNewMessage(e){var n=e.text,t=e.sender,a=e.id,i=e.clipRecommendations,r=e.userFeedback,o=e.timestamp;return{type:ee.TEXT,component:ve,text:n,sender:t,timestamp:o?new Date(o):new Date,showAvatar:!0,customId:a,unread:t===Z.RESPONSE,clipRecommendations:i,userFeedback:r}}function createLinkSnippet(e,n){return{type:ee.SNIPPET.LINK,component:we,title:e.title,link:e.link,target:e.target||"_blank",sender:Z.RESPONSE,timestamp:new Date,showAvatar:!0,customId:n,unread:!0}}function createComponentMessage(e,n,t,a){return{type:ee.CUSTOM_COMPONENT,component:e,props:n,sender:Z.RESPONSE,timestamp:new Date,showAvatar:t,customId:a,unread:!0}}function sinEaseOut(e,n,t,a){return t*((e=e/a-1)*e*e+1)+n}function scrollWithSlowMotion(e,n,t){var a,i=null===(a=window)||void 0===a?void 0:a.requestAnimationFrame,r=0,o=function step(a){r||(r=a);var o=sinEaseOut(a-r,0,t,oe),c=n+o;e.scrollTop=c,c<n+t&&i(step)};i(o)}function scrollToBottom(e){if(!e)return;var n=e.clientHeight,t=e.scrollTop,a=e.scrollHeight-(t+n);a&&scrollWithSlowMotion(e,t,a)}var xe={messages:[],badgeCount:0},Oe=(ke={},k()(ke,E,(function(e,n){var t=n.text,a=n.id,i=n.timestamp;return O()(O()({},e),{},{messages:[].concat(J()(e.messages),[createNewMessage({text:t,sender:Z.CLIENT,id:a,timestamp:i})])})})),k()(ke,A,(function(e,n){var t=n.text,a=n.id,i=n.clipRecommendations,r=n.userFeedback,o=n.timestamp;return O()(O()({},e),{},{messages:[].concat(J()(e.messages),[createNewMessage({text:t,sender:Z.RESPONSE,id:a,clipRecommendations:i,userFeedback:r,timestamp:o})]),badgeCount:e.badgeCount+1})})),k()(ke,F,(function(e,n){var t=n.link,a=n.id;return O()(O()({},e),{},{messages:[].concat(J()(e.messages),[createLinkSnippet(t,a)])})})),k()(ke,T,(function(e,n){var t=n.component,a=n.props,i=n.showAvatar,r=n.id;return O()(O()({},e),{},{messages:[].concat(J()(e.messages),[createComponentMessage(t,a,i,r)])})})),k()(ke,R,(function(e){return O()(O()({},e),{},{messages:[],badgeCount:0})})),k()(ke,L,(function(e,n){var t=n.index;return e.messages[t].showAvatar=!1})),k()(ke,M,(function(e,n){var t=n.count,a=n.id,i=a?e.messages.filter((function(_,n){var i=e.messages.findIndex((function(e){return e.customId===a}));return n<i-t+1||n>i})):e.messages.slice(0,e.messages.length-t);return O()(O()({},e),{},{messages:i,badgeCount:i.filter((function(e){return e.unread})).length})})),k()(ke,N,(function(e,n){var t=n.count;return O()(O()({},e),{},{badgeCount:t})})),k()(ke,D,(function(e){return O()(O()({},e),{},{messages:e.messages.map((function(e){return O()(O()({},e),{},{unread:!1})})),badgeCount:0})})),k()(ke,P,(function(e,n){var t=n.id;return O()(O()({},e),{},{messages:e.messages.map((function(e){return O()(O()({},e),{},{userFeedback:t===e.customId?ne:e.userFeedback})}))})})),k()(ke,B,(function(e,n){var t=n.id;return O()(O()({},e),{},{messages:e.messages.map((function(e){return O()(O()({},e),{},{userFeedback:t===e.customId?te:e.userFeedback})}))})})),k()(ke,U,(function(e,n){var t=n.id;return O()(O()({},e),{},{messages:e.messages.map((function(e){return O()(O()({},e),{},{userFeedback:t===e.customId?ae:e.userFeedback})}))})})),ke),reducers_messagesReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,n=arguments.length>1?arguments[1]:void 0;return C(Oe,e,n)},Ce=v.b,Se=Object(v.a)({behavior:reducers_behaviorReducer,messages:reducers_messagesReducer,input:reducers_inputReducer}),je=Object(v.c)(Se,Ce());function actions_toggleChat(){return{type:S}}function actions_toggleFullScreen(){return{type:j}}function toggleInputDisabled(){return{type:y}}function addUserMessage(e,n,t){return{type:E,text:e,id:n,timestamp:t}}function addResponseMessage(e,n,t,a,i){return{type:A,text:e,id:n,clipRecommendations:t,userFeedback:a,timestamp:i}}function toggleMsgLoader(){return{type:I}}function addLinkSnippet(e,n){return{type:F,link:e,id:n}}function renderCustomComponent(e,n,t,a){return{type:T,component:e,props:n,showAvatar:t,id:a}}function dropMessages(){return{type:R}}function hideAvatar(e){return{type:L,index:e}}function deleteMessages(e,n){return{type:M,count:e,id:n}}function setBadgeCount(e){return{type:N,count:e}}function markAllMessagesRead(){return{type:D}}function setUserInput(e){return{type:z,inputText:e}}function setLike(e){return{type:P,id:e}}function setUnLike(e){return{type:B,id:e}}function setUnSet(e){return{type:U,id:e}}function dispatcher_addUserMessage(e,n,t){je.dispatch(addUserMessage(e,n,t))}function dispatcher_addResponseMessage(e,n,t,a,i){je.dispatch(addResponseMessage(e,n,t,a,i))}function dispatcher_addLinkSnippet(e,n){je.dispatch(addLinkSnippet(e,n))}function dispatcher_toggleMsgLoader(){je.dispatch(toggleMsgLoader())}function dispatcher_renderCustomComponent(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;je.dispatch(renderCustomComponent(e,n,t,a))}function toggleWidget(){je.dispatch(actions_toggleChat())}function dispatcher_toggleFullScreen(){je.dispatch(actions_toggleFullScreen())}function dispatcher_toggleInputDisabled(){je.dispatch(toggleInputDisabled())}function dispatcher_dropMessages(){je.dispatch(dropMessages())}function dispatcher_deleteMessages(e,n){je.dispatch(deleteMessages(e,n))}function markAllAsRead(){je.dispatch(markAllMessagesRead())}function dispatcher_setBadgeCount(e){je.dispatch(setBadgeCount(e))}function setUserInputText(e){je.dispatch(setUserInput(e))}function clearUserInputText(){je.dispatch(setUserInput(""))}function ChatHistoryLoader(e){var n=e.loading,t=e.error,a=e.data,i=e.children;if(n)return i;if(t){var r,o=t;if((null==o?void 0:null===(r=o.graphQLErrors)||void 0===r?void 0:r.length)>0){var c=o.graphQLErrors[0];l.captureMessage(JSON.stringify(c))}return i}if(null!=a&&a.AiCoach.queryByChatSessionId){var s=a.AiCoach.queryByChatSessionId.elements;s.length>0&&dispatcher_dropMessages();for(var d=s.length-1;d>=0;d-=1){var u=s[d];u&&(u.senderType===h.a.User?dispatcher_addUserMessage(u.message,u.id,u.createdAt):u.senderType===h.a.System&&dispatcher_addResponseMessage(u.message,u.id,u.clipRecommendations||void 0,u.userFeedback,u.createdAt))}markAllAsRead()}return i}function ChatConversationHistoryProvider(e){var n=e.historyLimit,t=e.chatSessionId,a=e.children;if(!t)return a;return(c.createElement(s.c,{query:b.a,variables:{chatSessionId:t,limit:n},fetchPolicy:"cache-and-network",context:{clientName:"gatewayGql"}},(function(e){var n=e.loading,t=e.error,i=e.data;return(c.createElement(ChatHistoryLoader,{loading:n,error:t,data:i},a))})))}ChatConversationHistoryProvider.displayName="ChatConversationHistory";var ye=ChatConversationHistoryProvider,Ie=n("TSYQ"),Ne=n.n(Ie),_e=n("kgYC"),Ee=n("6/Gu"),Ae=n("8Hdl"),Fe=n("ZJgU"),Te=n("sBcU"),Re=n("kyt0"),Le,Me={container:Object(o.c)({width:"25px",display:"inline-block",padding:"5px 0 0 0",margin:"0 6px 0 0"})},De=function ChatSessionCreateIcon(){return Object(o.d)("span",{css:Me.container},Le||(Le=Object(o.d)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.64 21.67"},Object(o.d)("defs",null,Object(o.d)("style",null,".cls-1{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;}")),Object(o.d)("g",null,Object(o.d)("path",{className:"cls-1",d:"m.5,16.25V2.95C.5,1.6,1.6.5,2.95.5h17.74c1.36,0,2.45,1.1,2.45,2.45v10.84c0,1.36-1.1,2.45-2.45,2.45H4.44"}),Object(o.d)("polyline",{className:"cls-1",points:"4.44 16.25 .5 21.17 .5 16.25"})),Object(o.d)("g",null,Object(o.d)("line",{className:"cls-1",x1:"7.39",y1:"8.38",x2:"16.25",y2:"8.38"}),Object(o.d)("line",{className:"cls-1",x1:"11.82",y1:"3.95",x2:"11.82",y2:"12.81"})))))};De.displayName="NewChatIcon";var Pe=De,Be=n("cAeq"),Ue=n("vUL0"),ze,He,Ve,qe,We,Ge,Qe,Ke,Je,Ye,Xe={headerButtons:Object(o.c)(ze||(ze=r()(["\n    justify-content: flex-end;\n  "])))};function Header(e){var n=e.toggleChat,t=e.isFullScreen,a=e.toggleFullScreen,i=e.showCloseButton,c=e.showFullScreenButton,s=e.handleNewSession,d=Object(_e.a)(),l=Object(u.b)();return Object(o.d)(Ee.a,{container:!0,className:"rcw-header",justifyContent:"space-between",css:Object(o.c)(He||(He=r()(["\n        border-radius: 10px 10px 0 0;\n        padding: ",";\n        align-items: center;\n      "])),d.spacing(4))},Object(o.d)(Ee.a,{item:!0,xs:7},Object(o.d)("div",{css:Object(o.c)(Ve||(Ve=r()(["\n            padding-top: 0px;\n            "," {\n              padding-top: 4px;\n            }\n          "])),d.breakpoints.down("xs"))},Object(o.d)(Ue.a,{hexColorCode:"#ffffff",css:Object(o.c)(qe||(qe=r()(["\n              height: 16px;\n              width: 130px;\n              margin-bottom: 5px;\n            "])))}),Object(o.d)(Ae.a,{variant:"h1semibold",color:"invertBody",css:Object(o.c)(We||(We=r()(["\n              font-weight: 300;\n              display: inline;\n            "])))},X()("coach")))),Object(o.d)(Ee.a,{item:!0,xs:5},Object(o.d)(Ee.a,{container:!0,alignItems:"center",justifyContent:"space-between",xs:12},Object(o.d)(Ee.a,{container:!0,item:!0,css:Xe.headerButtons},Object(o.d)(Ee.a,{item:!0},!!s&&Object(o.d)(Be.a,{message:X()("Start a new chat. This will clear your chat history so you can start fresh."),placement:"bottom"},Object(o.d)(Fe.a,{onClick:function onClick(){l({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_new_session_button",action:"click"}),s()},size:"small",icon:Ge||(Ge=Object(o.d)(Pe,null)),iconPosition:"after",css:Object(o.c)(Qe||(Qe=r()(["\n                      height: 48px;\n                      width: 48px;\n                    "])))})),c&&Object(o.d)(Te.a,{intent:t?"collapse":"expand",onClick:function onClick(){l({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_full_screen_".concat(t?"collapse":"expand","_button"),action:"click"}),a()},size:"medium",tooltipPlacement:"bottom","aria-label":t?X()("Minimize coursera coach chat."):X()("Maximize coursera coach chat."),tooltip:t?X()("Minimize"):X()("Maximize")}),i&&Object(o.d)(Be.a,{message:X()("Close chat."),placement:"bottom"},Object(o.d)(Fe.a,{onClick:function onClick(){l({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_close_button",action:"click"}),n()},size:"small",iconPosition:"after",icon:Object(o.d)("span",{css:Object(o.c)(Ke||(Ke=r()(["\n                          margin: 0 6px 0 0;\n                        "])))},Je||(Je=Object(o.d)(Re.a,{"aria-label":"close"}))),css:Object(o.c)(Ye||(Ye=r()(["\n                      height: 48px;\n                      width: 48px;\n                    "])))})))))))}var $e=Header,Ze=n("lPk7"),en=n("HDKb"),nn=n("5mFy"),tn=n("7Dw/"),an=n("pVnL"),rn=n.n(an),on=n("wd/R"),cn=n.n(on),sn=n("GXs9"),dn=n("JJfJ"),ln=n("fAYU"),un,mn,pn,gn,hn,fn,bn;function generateConsumerVideoPageLink(e,n,t){return"/lecture/".concat(e,"/").concat(n,"-").concat(t)}function Clip(e){var n=e.course,t=n.slug,a=n.name,i=e.duration,s=e.itemId,d=e.itemSlug,l=e.itemTitle,m=e.partners,p=e.previewImage,g=Object(_e.a)(),h=Object(u.b)(),f={alt:"",imgParams:{fit:"fill",auto:"format,compress",quality:"80"},width:"90px"},b={imgParams:{fit:"fill",auto:"format,compress",quality:"80"},width:"20px"};return Object(o.d)("div",{className:"rcw-citation-clip",css:Object(o.c)(un||(un=r()(["\n        display: flex;\n        margin: ",";\n      "])),g.spacing(4,0,16,0))},Object(o.d)("div",{css:Object(o.c)(mn||(mn=r()(["\n          width: 90px;\n          min-width: 90px;\n          max-width: 90px;\n          margin: ",";\n        "])),g.spacing(0,8))},Object(o.d)(sn.a,rn()({},f,{src:p,style:{border:"1px solid ".concat(g.palette.gray[300]),"border-radius":"4px"}}))),Object(o.d)("div",null,Object(o.d)("div",{css:Object(o.c)(pn||(pn=r()(["\n            display: flex;\n            flex-wrap: wrap;\n          "])))},m&&m.length>0&&Object(o.d)(c.Fragment,null,m[0].logo&&Object(o.d)("div",{css:Object(o.c)(gn||(gn=r()(["\n                    height: 22px;\n                    width: 22px;\n                    border: 1px solid ",";\n                    border-radius: 4px;\n                    margin: ",";\n                  "])),g.palette.gray[300],g.spacing(0,4,0,0))},Object(o.d)(sn.a,rn()({},b,{alt:"".concat(m[0].name," logo"),src:m[0].logo,style:{"margin-bottom":"4px"}}))),m.length>1&&m[1].logo&&Object(o.d)("div",{css:Object(o.c)(hn||(hn=r()(["\n                    height: 22px;\n                    width: 22px;\n                    border: 1px solid ",";\n                    border-radius: 4px;\n                    margin: ",";\n                  "])),g.palette.gray[300],g.spacing(0,4,0,0))},Object(o.d)(sn.a,rn()({},b,{alt:"".concat(m[1].name," logo"),src:m[1].logo,style:{"margin-bottom":"4px"}})))),Object(o.d)(Ae.a,{component:"span",variant:"body2",color:"supportText"},m&&m.length>1?X()("#{partner1}, #{partner2}",{partner1:m[0].name,partner2:m[1].name}):m&&m[0].name)),Object(o.d)(Ae.a,{variant:"h3semibold",css:Object(o.c)(fn||(fn=r()(["\n            margin: ",";\n          "])),g.spacing(4,0,4,0))},l),Object(o.d)(Ae.a,{component:"span",variant:"body2",color:"supportText"},X()("From the course: ")),Object(o.d)(Ae.a,{component:"span",variant:"body2",color:"supportText"},a),Object(o.d)(Ae.a,{variant:"body2",color:"supportText",css:Object(o.c)(bn||(bn=r()(["\n            margin: ",";\n          "])),g.spacing(0,0,4,0))},Object(dn.x)(cn.a.duration(i))),Object(o.d)(ln.a,{href:generateConsumerVideoPageLink(t,d,s)+"?backenabled=1",variant:"quiet",typographyVariant:"body2",onClick:function onClick(){h({trackingData:{course_slug:t,item_slug:d,item_id:s,timestamp:Date.now()},trackingName:"ai_course_coach_chat_clip_recommendation_clip_link",action:"click"})}},X()("Open video page"))))}var vn=Clip;function ClipRecommendations(e){var n=e.clips,t=Object(u.b)();return c.createElement(en.a,{variant:"silent",className:"rcw-ClipRecommendations",onChange:function onChange(e,n){var a=n?"expand":"collapse";t({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_clip_recommendation_accordion_".concat(a),action:"click"})}},c.createElement(nn.a,{label:X()("Explore this topic with related video clips")}),c.createElement(tn.a,null,n.map((function(e){return c.createElement(vn,e)}))))}var wn=u.a.withVisibilityTracking(ClipRecommendations),kn=function CoachAvatar(e){var n=e.imageUrl;return Object(o.d)("img",{src:n,className:"rcw-avatar",alt:"coach-profile"})};function isAlphaCharacters(e){var n,t,a;for(t=0,a=e.length;t<a;t++)if(!((n=e.charCodeAt(t))>64&&n<91||n>96&&n<123))return!1;return!0}function extractFirstAndLastNames(e){var n=0,t=e.length-1,a=[];if(!e||e.length<1)return["-","-"];if(e[0]&&!isAlphaCharacters(e[0][0])&&e.shift(),e[t]&&!isAlphaCharacters(e[t])&&e.pop(),e.length-1!==t)return extractFirstAndLastNames(e);if(e[0]){var i=e[0];a.push(i)}if(0!==t&&e[t]){var r=e[t];a.push(r)}return a}function initialsFromName(e){var n,t=extractFirstAndLastNames(e.split(" ")),i=a()(t,2),r=i[0],o=i[1],c=r?r[0]:"",s=o?o[0]:"";return"".concat(c).concat(s)}var xn=function LearnerAvatar(e){var n=e.imageUrl,t=e.fullName,a={borderRadius:"50px",width:"40x",height:"40x",alignItems:"center",justifyContent:"center",display:"flex",overflow:"hidden",verticalAlign:"middle",backgroundColor:"#3BAFDA",color:"#ffffff"},i=t&&initialsFromName(t)||"--";return n?Object(o.d)("img",{src:n,className:"rcw-avatar rcw-avatar-client",alt:"learner-profile"}):Object(o.d)(Ae.a,{component:"span",variant:"h3bold",css:a,className:"rcw-avatar rcw-avatar-client"},i)},On="hh:mm A";function Timestamp(e){var n=e.timestamp;return(c.createElement("span",{className:"rcw-timestamp"},Object(dn.w)(n,On)))}var Cn=Timestamp,Sn=n("4gsa"),jn=n("wD02"),yn,In=function Dislike(e){var n=e.selected,t=e.onSelect,a=e.onDeselect;return(c.createElement("div",null,n?c.createElement(Sn.a,{color:"interactive",onClick:a,className:"rcw-feedback-icon"}):c.createElement(jn.a,{color:"interactive",onClick:t,className:"rcw-feedback-icon"})))},Nn=n("QILm"),_n=n.n(Nn),En=n("7NTc"),An=n("dhC9"),Fn=["title","placeholder","onSubmit","onClose","onCancel"],Tn,Rn,Ln,Mn=function messagesContainer(e){return Object(o.c)(Tn||(Tn=r()(["\n    height: calc(100% - ",");\n  "])),e.spacing(24))},Dn,Pn=function FeedbackModal(e){var n,t=e.title,i=e.placeholder,s=e.onSubmit,d=e.onClose,l=e.onCancel,u=_n()(e,Fn),m=En.a.Content,p=En.a.Actions,g=c.useState(!0),h=a()(g,2),f=h[0],b=h[1],v=c.useRef(null),w=function handleOnClose(e){b(!1),d(e)},k=function handleOnSubmit(e){b(!1),s(e)},x=function handleOnCancel(e){b(!1),l(e)};return Object(o.d)(En.a,rn()({"aria-describedby":"dialog-content",open:f,sticky:"actions",onClose:w},u),Object(o.d)(m,{id:"dialog-content"},Object(o.d)(Ee.a,{container:!0},Object(o.d)(Ee.a,{item:!0,sm:12,xs:12},Object(o.d)(An.a,{maxLength:255,placeholder:i,inputRef:v,multiline:!0,fullWidth:!0,label:t,renderLabel:function renderLabel(){return n||(n=Object(o.d)(Ae.a,{variant:"h1semibold"},t))}})))),Object(o.d)(p,{css:Object(o.c)(Rn||(Rn=r()(["\n          display: flex;\n        "])))},Object(o.d)(Fe.a,{size:"medium",variant:"primary",onClick:function onClick(e){var n;return k(O()(O()({},e),{},{data:{userComments:null===(n=v.current)||void 0===n?void 0:n.value}}))},css:Object(o.c)(Ln||(Ln=r()(["\n            margin: 0 24px 0 0;\n          "])))},X()("Submit")),Object(o.d)(Fe.a,{size:"medium",variant:"secondary",onClick:x},X()("Cancel"))))},Bn=n("8/sX"),Un=n("LKFv"),zn,Hn=function Like(e){var n=e.selected,t=e.onSelect,a=e.onDeselect;return(c.createElement("div",null,n?c.createElement(Bn.a,{color:"interactive",onClick:a,className:"rcw-feedback-icon"}):c.createElement(Un.a,{color:"interactive",onClick:t,className:"rcw-feedback-icon"})))},Vn=n("0/vS"),qn=n.n(Vn),Wn,Gn=function Feedback(e){var n=e.message,t=Object(d.b)(),i=Object(u.b)(),r=c.useState(void 0),o=a()(r,2),l=o[0],m=o[1],p=n.customId,g=function handleTracking(e){i({trackingData:{message_id:p,coach_response:n.text,timestamp:Date.now()},trackingName:e,action:"click"})};if(n.text!==re()){var h="";return l===ne?h=X()("What do you like about this response?"):l===te&&(h=X()("How could this response be improved?")),c.createElement(c.Fragment,null,"response"===n.sender&&c.createElement(s.b,{mutation:qn.a,context:{clientName:"gatewayGql"}},(function(e){var a={messageId:p,userComments:void 0},i=function onLikeSelect(){g("ai_course_coach_chat_user_feedback_like_select"),m(ne),t(setLike(p)),e({variables:{input:O()(O()({},a),{},{userFeedback:ne})}})},r=function onDislikeSelect(){g("ai_course_coach_chat_user_feedback_dislike_select"),m(te),t(setUnLike(p)),e({variables:{input:O()(O()({},a),{},{userFeedback:te})}})},o=function onDeselect(){g("ai_course_coach_chat_user_feedback_remove_selection"),t(setUnSet(p)),e({variables:{input:O()(O()({},a),{},{userFeedback:ae})}}),m(void 0)},s=function onFeedbackSubmit(n){var t=n.userComments;e({variables:{input:O()(O()({},a),{},{userFeedback:l,userComments:t})}})};return c.createElement("div",{className:"rcw-feedback-container"},l&&c.createElement(Pn,{title:h,onSubmit:function onSubmit(e){var n;null!==(n=e.data)&&void 0!==n&&n.userComments&&s({userComments:e.data.userComments}),g("ai_course_coach_chat_user_feedback_feedback_form_submit")},onClose:function onClose(){g("ai_course_coach_chat_user_feedback_feedback_form_close")},onCancel:function onCancel(){g("ai_course_coach_chat_user_feedback_feedback_form_cancel")}}),c.createElement(Hn,{selected:n.userFeedback===ne,onSelect:i,onDeselect:o}),c.createElement(In,{selected:n.userFeedback===te,onSelect:r,onDeselect:o}))})))}return null},Qn,Kn={loaderContainer:Object(o.c)({padding:"15px 15px 15px 88px",textAlign:"left"}),cursor:function cursor(e){var n=e.color,t=void 0===n?"grey":n,a=Object(o.e)(Qn||(Qn=r()(["\n      0% {background: transparent}\n      50% {background: ","}}\n      100% {background: transparent}\n    "])),t);return Object(o.c)({animationName:a,animationIterationCount:"infinite",height:"1.3rem",width:"0.6rem",animationDuration:"1s",display:"inline-block"})}};function Loader(e){var n,t=e.typing?Kn.cursor({color:"grey"}):Object(o.c)({});return Object(o.d)("div",null,Object(o.d)("div",{css:Kn.loaderContainer},Object(o.d)("span",{css:t})))}var Jn=Loader,Yn,Xn,$n,Zn,et={messagesContainer:function messagesContainer(){return Object(o.c)(Yn||(Yn=r()(["\n    /* Hide scrollbar for Chrome, Safari and Opera */\n    ::-webkit-scrollbar {\n      display: none;\n    }\n\n    /* Hide scrollbar for IE, Edge and Firefox */\n    -ms-overflow-style: none; /* IE and Edge */\n    scrollbar-width: none; /* Firefox */\n  "])))}},nt,tt=function Messages(e){var n,t=e.profileAvatar,a=e.profileClientAvatar,i=e.showTimeStamp,s=e.homeView,l=Object(_e.a)(),u=Object(d.b)(),p=Object(d.c)((function(e){return{messages:e.messages.messages,badgeCount:e.messages.badgeCount,typing:e.behavior.messageLoader,showChat:e.behavior.showChat}})),g=p.messages,h=p.typing,f=p.showChat,b=p.badgeCount,v=Object(c.useRef)(null);Object(c.useEffect)((function(){null!=g&&g.length&&scrollToBottom(v.current),f&&b&&u(markAllMessagesRead())}),[u,b,f,g]),Object(c.useEffect)((function(){null!=g&&g.length&&scrollToBottom(v.current)}),[h,g]);var w=function getComponentToRender(e){var n=e.component;if("component"===e.type)return Object(o.d)(n,e.props);return Object(o.d)(n,{message:e})},k=function isClient(e){return e===Z.CLIENT},x=function isCoachResponse(e){return e===Z.RESPONSE},O,C=function isJSXElement(e){return"string"!=typeof e}(t)?t:Object(o.d)(kn,{imageUrl:t});return Object(o.d)("div",{id:"messages",className:"rcw-messages-container",ref:v,css:et.messagesContainer},!(null!=g&&g.length)&&s,null==g?void 0:g.map((function(e,t){var s,d;return Object(o.d)("div",{className:"rcw-message ".concat(k(e.sender)?"rcw-message-client":""),key:"".concat(t,"-").concat(e.timestamp.valueOf())},k(e.sender)?Object(o.d)(xn,{imageUrl:a,fullName:null===(s=m.a.get())||void 0===s?void 0:s.fullName}):n||(n=Object(o.d)("div",{className:"rcw-avatar rcw-avatar-client"},C)),Object(o.d)("div",{css:Object(o.c)(Xn||(Xn=r()(["\n              overflow: auto;\n            "])))},w(e),Object(o.d)("div",{css:Object(o.c)($n||($n=r()(["\n                display: flex;\n              "])))},i&&Object(o.d)(Cn,{timestamp:e.timestamp}),Object(o.d)(Gn,{message:e})),x(e.sender)&&e.clipRecommendations&&(null===(d=e.clipRecommendations)||void 0===d?void 0:d.length)>0&&Object(o.d)(c.Fragment,null,Object(o.d)(Ze.a,{color:"dark",css:Object(o.c)(Zn||(Zn=r()(["\n                    margin: ",";\n                  "])),l.spacing(8,0))}),Object(o.d)(wn,{clips:e.clipRecommendations,trackingName:"ai_course_coach_clips_recommendation"}))))})),Object(o.d)(Jn,{typing:h}))},at=n("IoQW"),it,rt,ot,ct=7,st={textBox:function textBox(e){return Object(o.c)(it||(it=r()(["\n    .cds-text-field-root {\n      margin-top: ",";\n    }\n    > label {\n      margin-bottom: 0;\n    }\n\n    /* Override CDS style to hide gray background of the Send button (non-standard use case) */\n    .cds-text-field-root .cds-inputAdornment-filled {\n      padding: 0;\n      background-color: white;\n    }\n  "])),e.spacing(8))},container:function container(e){return Object(o.c)(rt||(rt=r()(["\n    border-top: 1px solid ",";\n    padding: 0 ",";\n  "])),e.palette.gray[300],e.spacing(12))}};function Sender(e){var n=e.sendMessage,t=e.placeholder,a=e.disabledInput,i=e.autofocus,r=e.buttonAlt,s=e.onTextInputChange,l=Object(d.c)((function(e){return e.behavior.showChat})),m=Object(d.c)((function(e){return e.input.inputText})),p=Object(c.useRef)(null),g=Object(c.useRef)(null),h=Object(u.b)();Object(c.useEffect)((function(){var e;l&&i&&(null===(e=p.current)||void 0===e||e.focus())}),[i,l]);var f=function handleTextChange(e){var n=e.target.value;s&&s(n),setUserInputText(n)},b=function handleSendMessgeClick(){n(m),h({trackingData:{input_text:m,timestamp:Date.now()},trackingName:"ai_course_coach_chat_send_message",action:"click_send_message"}),clearUserInputText()},v=function handleKeyPress(e){13!==e.charCode||e.shiftKey||(e.preventDefault(),b())},w=function handlePaste(e){var n,t=null==e?void 0:null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/plain");t&&h({trackingData:{input_text:t,timestamp:Date.now()},trackingName:"ai_course_coach_chat_paste_message",action:"paste_message"})};Object(c.useEffect)((function(){var e=null;return p.current&&(e=p.current).addEventListener("paste",w),function(){e&&e.removeEventListener("paste",w)}}),[]);var k={onKeyPress:v};return Object(o.d)("div",{ref:g,css:st.container},Object(o.d)("div",{className:Ne()("rcw-new-message",{"rcw-message-disable":a})},Object(o.d)(An.a,{fullWidth:!0,multiline:!0,minRows:1,maxRows:ct,label:"",type:"text",readOnly:a,ref:p,placeholder:t,onChange:f,value:m,inputProps:k,css:st.textBox,suffix:Object(o.d)(Fe.a,{variant:"ghost",onClick:b,disabled:a,"aria-label":r},ot||(ot=Object(o.d)(at.a,{size:"large"})))})))}var dt=Object(c.forwardRef)(Sender),lt=n("Z3v1"),ut=n("cVIm"),mt,pt;function Footer(){var e=Object(_e.a)();return Object(o.d)(Ae.a,{variant:"body2",color:"supportText",css:Object(o.c)(mt||(mt=r()(["\n        margin: 4px 20px 13px 20px;\n      "])))},Object(o.d)(lt.FormattedMessage,{message:X()("Coach is limited to course-related questions and powered by AI, so surprises and mistakes are possible. View Coursera's {privacyNotice}."),privacyNotice:Object(o.d)("a",{href:"".concat(ut.a.url.base,"about/privacy?trk_ref=coach"),target:"_blank",rel:"noreferrer","aria-label":X()("Privacy Notice"),css:Object(o.c)(pt||(pt=r()(["\n              color: ",";\n              text-decoration: underline;\n            "])),e.palette.gray[700])},X()("Privacy Notice"))}))}var gt=Footer,ht,ft,bt,vt,wt,kt=.3,xt=.15,Ot=410,Ct=663,St="100vh",jt=50,yt=50,It=90,Nt=20,_t=Object(o.e)(ht||(ht=r()(["\n  100% {\n    height: 100%;\n    width: 100%;\n    right: 0;\n    bottom: 0;\n    max-width: 100vw;\n  }\n"]))),Et=Object(o.e)(ft||(ft=r()(["\n  0% {\n    height: 100%;\n    width: 100%;\n    right: 0;\n    bottom: 0;\n    max-width: 100vw;\n  }\n  100% {\n    height: ","px;\n    width: ","px;\n    right: ",";\n    bottom: ",";\n    max-width: ","px;\n  }\n"])),Ct,Ot,Nt,It,Ot),At={enterFullScreenAnimation:_t,exitFullScreenAnimation:Et,container:Object(o.c)(bt||(bt=r()(["\n    height: ","px;\n    width: ","px;\n    right: ",";\n    bottom: ",";\n    max-width: ","px;\n    max-height: ",";\n    @media screen and (max-width: 800px) {\n      width: 100vw !important;\n      max-width: 100vw !important;\n    }\n    @media screen and (max-width: 450px) {\n      height: 100vh !important;\n      top: 0 !important;\n      bottom: 0 !important;\n      right: 0 !important;\n      left: 0 !important;\n      position: fixed !important;\n    }\n    animation-fill-mode: both;\n    .rcw-messages-container {\n      max-height: 100%;\n      height: 100%;\n    }\n  "])),Ct,Ot,Nt,It,Ot,St),exitFullScreen:Object(o.c)(vt||(vt=r()(["\n    position: fixed !important;\n    right: 20px;\n    bottom: 90px;\n    z-index: 9999;\n    max-width: 100vw;\n    .rcw-messages-container {\n      max-width: 100% !important;\n      height: 100% !important;\n    }\n    background-color: white;\n    animation-property: bottom, right, min-width, min-height, max-width, max-height !important;\n    animation-name: "," !important;\n    animation-delay: ","s;\n    animation-duration: ","s;\n    animation-fill-mode: backwards;\n  "])),Et,.15,.3),fullScreen:Object(o.c)(wt||(wt=r()(["\n    position: fixed !important;\n    right: 20px;\n    bottom: 90px;\n    z-index: 9999;\n    max-width: 100vw;\n    background-color: white;\n\n    animation-fill-mode: forwards;\n\n    animation-property: bottom, right, min-width, min-height, max-width, max-height !important;\n    animation-name: "," !important;\n    animation-delay: ","s;\n    animation-duration: ","s;\n    .rcw-messages-container {\n      max-height: 100%;\n      height: 100%;\n    }\n  "])),_t,.15,.3)};function useFullScreenAnimation(e){var n=e.isFullScreen,t=Object(c.useState)([At.container]),i=a()(t,2),r=i[0],o=i[1];function toggleFullScreenAnimation(){var e=n?[At.container,At.exitFullScreen]:[At.container,At.fullScreen];o(e)}return{toggleFullScreenAnimation:toggleFullScreenAnimation,fullScreenCSS:r}}var Ft=n("WJ6c"),Tt=n("ar5r"),Rt=n("8aRC"),Lt=n("TsRu"),Mt,Dt,Pt,Bt=function QuickMessage(e){var n=e.message,t=e.onClick,a=Object(_e.a)();return Object(o.d)("div",null,Object(o.d)(Fe.a,{variant:"secondary",fullWidth:!1,size:"small",onClick:function onClick(){return t(n)},icon:Mt||(Mt=Object(o.d)(Lt.a,{size:"small"})),iconPosition:"before",css:Object(o.c)(Dt||(Dt=r()(["\n          text-align: left;\n          justify-content: flex-start;\n          padding: 6px ",";\n          max-width: 100%;\n          margin: ",";\n        "])),a.spacing(16),a.spacing(0,0,16,0))},n))},Ut,zt,Ht,Vt,qt,Wt={valueProp:function valueProp(e){return Object(o.c)(Ut||(Ut=r()(["\n    display: flex;\n    margin-bottom: ",";\n  "])),e.spacing(24))},valuePropIcon:function valuePropIcon(e,n){return[Object(o.c)(zt||(zt=r()(["\n      margin: ",";\n      width: 36px;\n      padding: 0;\n    "])),e.spacing(8,12,0,0)),n]}},Gt,Qt=function HomeView(e){var n=e.humanReadableItemType,t=e.onQuickMessageClick,a=Object(u.b)(),i=Object(_e.a)(),c=function handleQuickMessageClick(e){t(e),a({trackingData:{item_type:n,example_text:e,timestamp:Date.now()},trackingName:"ai_course_coach_chat_quick_example",action:"click"})};return Object(o.d)("div",{className:"rcw-home-view",css:Object(o.c)(Ht||(Ht=r()(["\n        padding: ",";\n      "])),i.spacing(24))},Object(o.d)("div",{css:Wt.valueProp},Object(o.d)(Ft.a,{color:"interactive",css:Wt.valuePropIcon}),Object(o.d)(Ae.a,{variant:"body1"},X()("Need an extra explanation? Coach answers your questions right beside what you're learning in Coursera."))),Object(o.d)("div",{css:Wt.valueProp},Object(o.d)(Tt.a,{color:"interactive",css:Wt.valuePropIcon}),Object(o.d)(Ae.a,{variant:"body1"},X()("Coach gives answers based on AI and on Coursera's content library from over 250 of the world's leading institutions."))),Object(o.d)("div",{css:Wt.valueProp},Object(o.d)(Rt.a,{css:Wt.valuePropIcon(i,Object(o.c)(Vt||(Vt=r()(["\n              margin-left: -2px;\n              margin-right: 8px;\n              path {\n                fill: ",";\n              }\n            "])),i.palette.blue[600]))}),Object(o.d)(Ae.a,{variant:"body1"},X()("Boost your learning by asking Coach for practice questions and lecture summaries."))),Object(o.d)(Ae.a,{variant:"body1",css:Object(o.c)(qt||(qt=r()(["\n          margin: ",";\n        "])),i.spacing(0,0,24,0))},X()("To get started, type a question or try one of these sample prompts:")),Object(o.d)(Bt,{message:X()("Can you explain this topic in simple terms?"),onClick:c}),Object(o.d)(Bt,{message:X()("Can you summarize this #{humanReadableItemType} for me?",{humanReadableItemType:n}),onClick:c}),Object(o.d)(Bt,{message:X()("Can you generate practice questions based on this #{humanReadableItemType}?",{humanReadableItemType:n}),onClick:c}))},Kt,Jt,Yt,Xt,$t,Zt,ea,na,ta,aa,ia,ra,oa,ca={globalDesktop:Object(o.c)(Kt||(Kt=r()(["\n      .hide-smart-scroll-container,\n      .show-smart-scroll-container,\n      .SmartScrollWrapper {\n        z-index: -1 !important;\n      }\n    "]))),globalSmDown:function globalSmDown(e){return Object(o.c)(Jt||(Jt=r()(["\n    "," {\n      .show-smart-scroll-container {\n        z-index: -1 !important;\n      }\n    }\n  "])),e.breakpoints.down("sm"))},conversationContainerHeight:function conversationContainerHeight(e){return Object(o.c)(Yt||(Yt=r()(["\n      ","\n    "])),!e&&Object(o.c)(Xt||(Xt=r()(["\n        max-height: 70vh;\n        @media screen and (max-width: 800px) {\n          max-height: 100vh;\n        }\n      "]))))},conversationContainer:Object(o.c)($t||($t=r()(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  "]))),conversationContainerCenterFullScreen:Object(o.c)(Zt||(Zt=r()(["\n    @media screen and (min-width: 800px) {\n      width: 770px;\n      margin: 0 auto;\n    }\n  "]))),headerContainer:Object(o.c)(ea||(ea=r()(["\n    flex-grow: 0;\n  "]))),messageContainer:Object(o.c)(na||(na=r()(["\n    flex-grow: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    justify-content: center;\n    max-width: 100%;\n    position: relative;\n  "]))),messageContainerConversationHistory:Object(o.c)(ta||(ta=r()([""]))),messageContainerResponses:Object(o.c)(aa||(aa=r()(["\n    height: 100%;\n    width: 100%;\n    max-width: 770px;\n    margin: 0 auto;\n  "]))),senderContainer:Object(o.c)(ia||(ia=r()(["\n    flex-grow: 0;\n    width: 100%;\n    max-width: 770px;\n    margin: 0 auto;\n  "]))),footerContainer:Object(o.c)(ra||(ra=r()(["\n    flex-grow: 0;\n    max-width: 770px;\n    margin: 0 auto;\n  "])))};function Conversation(e){var n=e.senderPlaceHolder,t=e.showCloseButton,a=e.showFullScreenButton,i=e.isFullScreen,r=e.disabledInput,c=e.autofocus,s=e.className,d=e.sendMessage,l=e.toggleChat,u=e.toggleFullScreen,m=e.profileAvatar,p=e.profileClientAvatar,g=e.onTextInputChange,h=e.sendButtonAlt,f=e.showTimeStamp,b=e.handleNewSession,v=e.humanReadableItemType,w=useFullScreenAnimation({isFullScreen:i}),k=w.fullScreenCSS,x=w.toggleFullScreenAnimation,O=function handleFullScreenToggle(){x(),u()};return Object(o.d)("div",{id:"rcw-conversation-container",className:Ne()("rcw-conversation-container",s),"aria-live":"polite",css:[k,ca.conversationContainerHeight(i)]},Object(o.d)(o.b,{styles:i?ca.globalDesktop:ca.globalSmDown}),Object(o.d)("div",{css:ca.conversationContainer},Object(o.d)("div",{css:ca.headerContainer},Object(o.d)($e,{toggleChat:l,showCloseButton:t,showFullScreenButton:a,toggleFullScreen:O,isFullScreen:i,handleNewSession:b})),Object(o.d)("div",{css:[i&&ca.conversationContainerCenterFullScreen,ca.messageContainer]},Object(o.d)("div",{css:ca.messageContainerResponses},Object(o.d)(tt,{profileAvatar:m,profileClientAvatar:p,showTimeStamp:f,homeView:Object(o.d)(Qt,{onQuickMessageClick:d,humanReadableItemType:v})}))),Object(o.d)("div",{css:[i&&ca.conversationContainerCenterFullScreen,ca.senderContainer]},Object(o.d)(dt,{sendMessage:d,placeholder:n,disabledInput:r,autofocus:c,onTextInputChange:g,buttonAlt:h})),Object(o.d)("div",{css:[i&&ca.conversationContainerCenterFullScreen,ca.footerContainer]},oa||(oa=Object(o.d)(gt,null)))))}var sa=Conversation;function Badge(e){var n=e.badge;return n>0?c.createElement("span",{className:"rcw-badge"},n):null}var da=Badge;function Launcher(e){var n=e.toggle,t=e.chatId,a=e.openLabel,i=e.closeLabel,r=e.showBadge,o=Object(d.b)(),s=Object(d.c)((function(e){return{showChat:e.behavior.showChat,badgeCount:e.messages.badgeCount}})),l=s.showChat,m=s.badgeCount,p=Object(u.b)(),g=function toggleChat(){p({trackingData:{badge_count:m,timestamp:Date.now()},trackingName:"ai_course_coach_chat_toggle",action:"click_".concat(l?"close":"open")}),n(),l||o(setBadgeCount(0))};return c.createElement("button",{type:"button",className:Ne()("rcw-launcher",{"rcw-hide-sm":l}),onClick:g,"aria-controls":t},!l&&r&&c.createElement(da,{badge:m}),l?c.createElement(Re.a,{size:"large",color:"invert",className:"rcw-close-launcher","aria-label":i}):c.createElement(CoachSmileIcon,{variant:"light","aria-label":a}))}var la=Launcher,ua,ma,pa,ga,ha;function NewFeatureTooltip(e){var n=e.onDismiss,t=Object(_e.a)();return Object(o.d)(Be.b,{placement:"top",id:"tooltip-introduce-coach",css:Object(o.c)(ua||(ua=r()(["\n        background-color: ",";\n        max-width: 400px;\n        width: 400px;\n        bottom: 75px;\n        right: 0;\n        padding: ",";\n        "," {\n          bottom: 95px;\n          right: 12px;\n        }\n        "," {\n          width: 300px;\n        }\n      "])),t.palette.blue[600],t.spacing(4,16,12,16),t.breakpoints.down("sm"),t.breakpoints.down("xs")),arrowCss:Object(o.c)(ma||(ma=r()(["\n        left: unset;\n        right: 24px;\n        border-top-color: ",";\n        "," {\n          right: 30px;\n        }\n      "])),t.palette.blue[600],t.breakpoints.down("sm"))},Object(o.d)("div",{css:Object(o.c)(pa||(pa=r()(["\n          text-align: left;\n        "])))},Object(o.d)(Ee.a,{container:!0,justifyContent:"space-between"},Object(o.d)(Ae.a,{variant:"h4bold",color:"invertBody",css:Object(o.c)(ga||(ga=r()(["\n              padding: ",";\n            "])),t.spacing(8,0,16,0))},X()("👋 Hi, I'm Coach!")),Object(o.d)(Te.a,{variant:"ghostInvert",intent:"close",size:"small",onClick:n})),Object(o.d)(Ae.a,{color:"invertBody",variant:"body2",css:Object(o.c)(ha||(ha=r()(["\n            margin-bottom: ",";\n          "])),t.spacing(16))},X()("I'm a learning assistant who can boost your progress by helping you understand whatever you're learning on Coursera.")),Object(o.d)(Ae.a,{color:"invertBody",variant:"body2"},X()("Have any questions so far? Click here to get started!"))))}var fa=NewFeatureTooltip,ba=n("IWWe"),va="coursera_coach_tooltip_dont_show";function WidgetLayout(e){var n=e.onSendMessage,t=e.onToggleConversation,i=e.onToggleFullScreen,r=e.senderPlaceHolder,s=e.profileAvatar,l=e.profileClientAvatar,u=e.showCloseButton,m=e.showFullScreenButton,p=e.autofocus,g=e.customLauncher,h=e.onTextInputChange,f=e.chatId,b=e.launcherOpenLabel,v=e.launcherCloseLabel,w=e.launcherCloseImg,k=e.launcherOpenImg,x=e.sendButtonAlt,O=e.showTimeStamp,C=e.showBadge,S=e.handleNewSession,j=e.humanReadableItemType,y=Object(d.c)((function(e){return{showChat:e.behavior.showChat,isFullScreen:e.behavior.isFullScreen,dissableInput:e.behavior.disabledInput}})),I=y.dissableInput,N=y.showChat,E=y.isFullScreen,A=Object(c.useRef)(null),F=Object(c.useState)(ba.a.getItem(va,(function(e){return"1"===e}),!1)),T=a()(F,2),R=T[0],L=T[1],M=function dontShowTooltipSaveToLocalStorage(){L(!0),ba.a.setItem(va,!0,(function(e){return e?"1":"0"}))};return Object(c.useEffect)((function(){return N&&(A.current=document.getElementById("messages")),function(){A.current=null}}),[N]),Object(o.d)("div",{className:Ne()("rcw-widget-container",{"rcw-close-widget-container ":!N})},!R&&Object(o.d)(fa,{onDismiss:M}),N&&Object(o.d)(sa,{sendMessage:n,senderPlaceHolder:r,profileAvatar:s,profileClientAvatar:l,toggleChat:t,showCloseButton:u,showFullScreenButton:m,isFullScreen:E,disabledInput:I,autofocus:p,className:N?"active":"hidden",onTextInputChange:h,sendButtonAlt:x,showTimeStamp:O,toggleFullScreen:i,handleNewSession:S,humanReadableItemType:j}),g?g(t):Object(o.d)(la,{toggle:function toggle(){R||M(),t()},chatId:f,openLabel:b,closeLabel:v,closeImg:w,openImg:k,showBadge:C}))}var wa=WidgetLayout;function Widget(e){var n=e.handleNewSession,t=e.senderPlaceHolder,a=e.profileAvatar,i=e.profileClientAvatar,r=e.showCloseButton,o=e.showFullScreenButton,s=e.autofocus,l=e.customLauncher,u=e.handleNewUserMessage,m=e.handleTextInputChange,p=e.chatId,g=e.handleToggle,h=e.handleFullScreenToggle,f=e.launcherOpenLabel,b=e.launcherCloseLabel,v=e.launcherCloseImg,w=e.launcherOpenImg,k=e.sendButtonAlt,x=e.showTimeStamp,O=e.handleSubmit,C=e.showBadge,S=e.humanReadableItemType,j=Object(d.b)(),y=Object(d.c)((function(e){return{showChat:e.behavior.showChat,isFullScreen:e.behavior.isFullScreen,dissableInput:e.behavior.disabledInput}})),I=y.showChat,N=y.isFullScreen,E=function toggleConversation(){j(actions_toggleChat()),g&&g(I)},A=function toggleFullScreen(){j(actions_toggleFullScreen()),h&&h(N)},F=function handleMessageRecieved(e){if(!e.trim())return;j(addResponseMessage(e))},T=function handleMessageSubmit(e){if(!e.trim())return;null==O||O(e),j(addUserMessage(e)),u(e)};return c.createElement(wa,{onToggleConversation:E,onToggleFullScreen:A,onSendMessage:T,senderPlaceHolder:t,profileAvatar:a,profileClientAvatar:i,showCloseButton:r,showFullScreenButton:o,handleNewSession:n,autofocus:s,customLauncher:l,onTextInputChange:m,chatId:p,launcherOpenLabel:f,launcherCloseLabel:b,launcherCloseImg:v,launcherOpenImg:w,sendButtonAlt:k,showTimeStamp:x,showBadge:C,humanReadableItemType:S})}var ka=Widget;function ConnectedWidget(e){var n=e.senderPlaceHolder,t=e.showFullScreenButton,a=e.autofocus,i=e.profileAvatar,r=e.profileClientAvatar,o=e.launcher,s=e.handleNewUserMessage,d=e.handleTextInputChange,l=e.chatId,u=e.handleToggle,m=e.launcherOpenLabel,p=e.launcherCloseLabel,g=e.launcherCloseImg,h=e.launcherOpenImg,f=e.sendButtonAlt,b=e.showTimeStamp,v=e.handleSubmit,w=e.showBadge,k=e.showCloseButton,x=e.handleNewSession,O=e.humanReadableItemType;return(c.createElement(ka,{handleNewUserMessage:s,senderPlaceHolder:n,profileAvatar:i,profileClientAvatar:r,showCloseButton:k,showFullScreenButton:t,autofocus:a,customLauncher:o,handleTextInputChange:d,chatId:l,handleToggle:u,launcherOpenLabel:m,launcherCloseLabel:p,launcherCloseImg:g,launcherOpenImg:h,sendButtonAlt:f,showTimeStamp:b,handleSubmit:v,showBadge:w,handleNewSession:x,humanReadableItemType:O}))}var xa={senderPlaceHolder:"Type a message...",showCloseButton:!0,showFullScreenButton:!0,autofocus:!0,chatId:"rcw-chat-container",launcherOpenLabel:"Open chat",launcherCloseLabel:"Close chat",launcherOpenImg:"",launcherCloseImg:"",sendButtonAlt:"Send",showTimeStamp:!0,zoomStep:80,showBadge:!0};ConnectedWidget.defaultProps=xa;var Oa=ConnectedWidget,Ca,Sa=Object(o.c)(Ca||(Ca=r()(["\n  .rcw-message {\n    margin: 10px;\n    display: flex;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    position: relative;\n  }\n  .rcw-timestamp {\n    font-size: 10px;\n    margin-top: 5px;\n  }\n  .rcw-client {\n    display: flex;\n    flex-direction: column;\n    margin-left: auto;\n  }\n\n  .rcw-response {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .rcw-message-text p {\n    margin: 0;\n  }\n  .rcw-message-text img {\n    width: 100%;\n    -o-object-fit: contain;\n    object-fit: contain;\n  }\n  .rcw-avatar {\n    width: 40px;\n    height: 40px;\n    border-radius: 100%;\n    margin-right: 10px;\n  }\n  .rcw-avatar-client {\n    margin: 0 0 0 10px;\n  }\n  .rcw-snippet {\n    border-radius: 10px;\n    max-width: 215px;\n    padding: 15px;\n    text-align: left;\n  }\n  .rcw-snippet-title {\n    margin: 0;\n  }\n  .rcw-snippet-details {\n    border-left: 2px solid #35e65d;\n    margin-top: 5px;\n    padding-left: 10px;\n  }\n  .rcw-link {\n    font-size: 12px;\n  }\n  .quick-button {\n    background: none;\n    border-radius: 15px;\n    border: 2px solid #35cce6;\n    font-weight: 700;\n    padding: 5px 10px;\n    cursor: pointer;\n    outline: 0;\n  }\n  .quick-button:active {\n    background: #35cce6;\n    color: #fff;\n  }\n  .loader {\n    margin: 10px;\n    display: none;\n  }\n  .loader.active {\n    display: flex;\n  }\n\n  .rcw-messages-container {\n    height: 50vh;\n    max-height: 410px;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n  }\n  .rcw-full-screen .rcw-messages-container {\n    height: 100%;\n    max-height: none;\n  }\n  @media screen and (max-width: 800px) {\n    .rcw-messages-container {\n      height: 100%;\n      max-height: none;\n    }\n  }\n  .rcw-sender {\n    align-items: flex-end;\n    background-color: #f4f7f9;\n    display: flex;\n    overflow: hidden;\n    padding: 10px;\n    position: relative;\n  }\n  .rcw-sender.expand {\n    height: 120px;\n  }\n  .rcw-new-message {\n    border: 0;\n    border-radius: 5px;\n    width: calc(100% - 75px);\n  }\n\n  .rcw-picker-btn,\n  .rcw-send {\n    background: #f4f7f9;\n    border: 0;\n    cursor: pointer;\n  }\n  .rcw-picker-btn .rcw-send-icon,\n  .rcw-send .rcw-send-icon {\n    height: 25px;\n  }\n  .rcw-message-disable {\n    background-color: #f4f7f9;\n    cursor: not-allowed;\n  }\n  @media screen and (max-width: 800px) {\n    .rcw-sender {\n      border-radius: 0;\n      flex-shrink: 0;\n    }\n  }\n  .quick-buttons-container {\n    background: #fff;\n    overflow-x: auto;\n    white-space: nowrap;\n    padding: 10px;\n  }\n  .quick-buttons-container .quick-buttons {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    text-align: center;\n  }\n  .quick-buttons-container .quick-buttons .quick-list-button {\n    display: inline-block;\n    margin-right: 10px;\n  }\n  @media screen and (max-width: 800px) {\n    .quick-buttons-container {\n      padding-bottom: 15px;\n    }\n  }\n  .rcw-conversation-container {\n    border-radius: 10px;\n    box-shadow: 0 2px 10px 1px #b5b5b5;\n    min-width: 320px;\n    max-width: 90vw;\n    position: relative;\n    background-color: #ffffff;\n  }\n  .rcw-conversation-container.active {\n    opacity: 1;\n    transform: translateY(0);\n    transition: opacity 0.3s ease, transform 0.3s ease;\n  }\n  .rcw-conversation-container.hidden {\n    z-index: -1;\n    pointer-events: none;\n    opacity: 0;\n    transform: translateY(10px);\n    transition: opacity 0.3s ease, transform 0.3s ease;\n  }\n  .rcw-conversation-resizer {\n    cursor: col-resize;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 5px;\n  }\n  .emoji-mart-preview {\n    display: none;\n  }\n  .rcw-full-screen .rcw-conversation-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  @media screen and (max-width: 800px) {\n    .rcw-conversation-container {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n  }\n  .rcw-launcher .rcw-badge {\n    position: fixed;\n    top: -10px;\n    right: -5px;\n    background-color: red;\n    color: #fff;\n    width: 25px;\n    height: 25px;\n    text-align: center;\n    line-height: 25px;\n    border-radius: 50%;\n  }\n  .rcw-launcher {\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: slide-in;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: slide-in;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: slide-in;\n    animation-fill-mode: forwards;\n    align-self: flex-end;\n    border: 0;\n    border-radius: 50%;\n    box-shadow: 0 2px 10px 1px #b5b5b5;\n    height: 60px;\n    margin-top: 10px;\n    cursor: pointer;\n    width: 60px;\n  }\n  .rcw-launcher:focus {\n    outline: none;\n  }\n  .rcw-open-launcher {\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: rotation-rl;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: rotation-rl;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: rotation-rl;\n    animation-fill-mode: forwards;\n  }\n  .rcw-close-launcher {\n    width: 20px;\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: rotation-lr;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: rotation-lr;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: rotation-lr;\n    animation-fill-mode: forwards;\n  }\n  @media screen and (max-width: 800px) {\n    .rcw-launcher {\n      bottom: 0;\n      margin: 20px;\n      position: fixed;\n      right: 0;\n    }\n    .rcw-hide-sm {\n      display: none;\n    }\n  }\n  .rcw-previewer-container {\n    width: 100vw;\n    height: 100vh;\n    background: rgba(0, 0, 0, 0.75);\n    overflow: hidden;\n    position: fixed;\n    z-index: 9999;\n    left: 0;\n    top: 0;\n  }\n  .rcw-previewer-container .rcw-previewer-image {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n    transition: all 0.3s ease;\n  }\n  .rcw-previewer-container .rcw-previewer-tools {\n    position: fixed;\n    right: 16px;\n    bottom: 16px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  .rcw-previewer-container .rcw-previewer-button {\n    padding: 0;\n    margin: 16px;\n    box-shadow: 0 3px 8px 0 rgba(0, 0, 0, 0.3);\n    border-radius: 50%;\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    outline: none;\n    background-color: #fff;\n    border: none;\n  }\n  .rcw-previewer-container .rcw-previewer-close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n  .rcw-previewer-container .rcw-previewer-veil {\n    width: 100%;\n    height: 100%;\n    overflow: scroll;\n    position: relative;\n  }\n  @-webkit-keyframes rotation-lr {\n    0% {\n      transform: rotate(-90deg);\n    }\n    to {\n      transform: rotate(0);\n    }\n  }\n  @keyframes rotation-lr {\n    0% {\n      transform: rotate(-90deg);\n    }\n    to {\n      transform: rotate(0);\n    }\n  }\n  @-webkit-keyframes rotation-rl {\n    0% {\n      transform: rotate(90deg);\n    }\n    to {\n      transform: rotate(0);\n    }\n  }\n  @keyframes rotation-rl {\n    0% {\n      transform: rotate(90deg);\n    }\n    to {\n      transform: rotate(0);\n    }\n  }\n  @-webkit-keyframes slide-in {\n    0% {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  @keyframes slide-in {\n    0% {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  @-webkit-keyframes slide-out {\n    0% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n    to {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n  }\n  @keyframes slide-out {\n    0% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n    to {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n  }\n  .rcw-widget-container {\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    margin: 0 20px 20px 0;\n    position: fixed;\n    right: 0;\n    z-index: 9999;\n  }\n  .rcw-full-screen {\n    height: 100vh;\n    margin: 0;\n    max-width: none;\n    width: 100%;\n  }\n  @media screen and (max-width: 800px) {\n    .rcw-widget-container {\n      height: 100%;\n      height: 100vh;\n      margin: 0;\n      max-width: none;\n      width: 100%;\n    }\n  }\n  .rcw-previewer .rcw-message-img {\n    cursor: pointer;\n  }\n  .rcw-close-widget-container {\n    height: -webkit-max-content;\n    height: -moz-max-content;\n    height: max-content;\n    width: -webkit-max-content;\n    width: -moz-max-content;\n    width: max-content;\n  }\n  .rcw-feedback-icon {\n    cursor: pointer;\n  }\n  .rcw-feedback-container {\n    display: flex;\n    gap: 16px;\n    margin-left: auto;\n    margin-right: 0;\n    padding-top: 4px;\n  }\n"]))),ja=n("b+Bk"),ya=n.n(ja),Ia=n("fsL8"),Na=n.n(Ia),_a=n("yXPU"),Ea=n.n(_a),Aa=n("Y74u"),Fa="Xpi8XRE5m7vf92d5iXCUPJdWQhw";function persistingCounter(e,n){var t=function get(){return ba.a.getItem(e,(function(e){var n=0;try{n=Number(e)}catch(e){n=0}return n}),n)},a=function set(n){ba.a.setItem(e,n,String)},i=function increment(){var e,n=t()+1;return a(n),n};return{get:t,set:a,increment:i}}function coachPendoTrigger(e){var n=e.triggerMessageCount,t=e.triggerOpenCount,a=persistingCounter("coach-open-count-pendo",0),i=persistingCounter("coach-message-count-pendo",0),r=function setComplete(){a.set(-1),i.set(-1)},o=m.a.get(),c=o.external_id,s=o.is_staff,d=o.is_superuser;Aa.b.init({visitor:{id:c,isStaff:s,isSuperuser:d}},Aa.a);var u=function isComplete(){return-1===a.get()&&-1===i.get()},p=function(){var e=Ea()(Na()().mark((function _callee(){var e,o,c;return Na()().wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if(!(e=u())){s.next=3;break}return s.abrupt("return");case 3:if(o=a.get(),c=i.get(),o>=t&&c>=n)try{Aa.b.showGuideById(Fa),r()}catch(e){l.captureException(e)}case 6:case"end":return s.stop()}}),_callee)})));return function conditionalTriggerPendo(){return e.apply(this,arguments)}}(),g=function handleIncrement(e){return function(){!1===u()&&e()}};return{messageIncrement:g(i.increment),openIncrement:g(a.increment),conditionalTriggerPendo:p}}var Ta=n("vDB9"),Ra,La;n.d(e,"overrideStyles",(function(){return Ma})),n.d(e,"ChatWidget",(function(){return Da})),n.d(e,"HumanReadableItemType",(function(){return ie}));var Ma=function overrideStyles(e){var n;return Object(o.c)(Ra||(Ra=r()(["\n    .rcw-full-screen .rcw-close-button,\n    .rcw-conversation-container .rcw-header,\n    .rcw-conversation-container .rcw-close-button,\n    .rcw-launcher {\n      background-color: ",";\n    }\n    .rcw-conversation-container {\n      width: 540px;\n      z-index: 10;\n    }\n    .rcw-message {\n      margin: ",";\n      padding: ",";\n      display: flex;\n      gap: ",";\n    }\n    .rcw-message.rcw-message-client {\n      background-color: ",";\n      flex-direction: row;\n    }\n    .rcw-message.rcw-message-client .rcw-client {\n      display: block;\n      margin-left: ",";\n    }\n    .rcw-message .rcw-response {\n      display: block;\n    }\n    .rcw-client.rcw-message-text {\n      max-width: none;\n      padding: ",";\n    }\n    .rcw-response.rcw-message-text {\n      max-width: none;\n      padding: ",";\n    }\n    .rcw-message-text p {\n      ","\n      color: ",";\n    }\n    .rcw-avatar {\n      margin-right: ",";\n    }\n    .rcw-avatar-client {\n      margin-left: ",";\n      flex-shrink: 0;\n    }\n    .rcw-header {\n      color: ",";\n    }\n    .rcw-picker-btn {\n      display: none;\n    }\n    .rcw-new-message {\n      width: 100%;\n    }\n    .rcw-input {\n      height: 60px;\n    }\n  "])),e.palette.blue[600],e.spacing(0),e.spacing(12,24,12),e.spacing(24),e.palette.gray[100],e.spacing(0),e.spacing(0),e.spacing(0),e.typography.body1,e.palette.black[500],e.spacing(0),e.spacing(0),e.palette.white)};function handleSubmitMessageCompleted(e,n){dispatcher_toggleMsgLoader();var t=e.AiCoach_CreateUserMessageAndReturnResponse,a=t.chatSessionId,i=t.messageByAiCoach,r=t.clipRecommendations;a&&Ta.a.setItem(ce,a,(function(e){return e})),i&&(n(a),dispatcher_addResponseMessage(i.message,i.messageId,r))}function handleError(e){if(dispatcher_toggleMsgLoader(),dispatcher_addResponseMessage(re()),e.graphQLErrors&&e.graphQLErrors.length>0){var n=e.graphQLErrors[0];l.captureMessage(JSON.stringify(n))}}function isFirstImpression(){var e=ba.a.getItem("ccfi",(function(e){return"1"!==e}),!0);return e&&ba.a.setItem("ccfi","1",(function(e){return e})),e}var Da=function ChatWidget(e){var n=e.itemId,t=e.courseId,i=e.humanReadableItemType,r=e.cssOverrides,l=coachPendoTrigger({triggerMessageCount:3,triggerOpenCount:3}),p=Object(u.b)();Object(c.useEffect)((function(){p({trackingData:{timestamp:Date.now()},trackingName:"ai-course-coach-widget",action:"visible"}),isFirstImpression()&&toggleWidget()}),[]);var g=Ta.a.getItem(ce,(function(e){return e}),""),h=g&&"undefined"!==g?g:void 0,f=c.useState(h),b=a()(f,2),v=b[0],w=b[1];function handleNewSession(){Ta.a.removeItem(ce),w(void 0),dispatcher_dropMessages()}return Object(o.d)("div",{"data-testid":"coursera-coach-widget",css:[Sa,r,Ma]},Object(o.d)(d.a,{store:je},Object(o.d)(ye,{historyLimit:5,chatSessionId:v},Object(o.d)(s.b,{mutation:ya.a,onCompleted:function onCompleted(e){return handleSubmitMessageCompleted(e,w)},onError:handleError,context:{clientName:"gatewayGql"}},(function(e){return Object(o.d)("div",null,Object(o.d)(Oa,{showTimeStamp:!0,showCloseButton:!0,profileAvatar:La||(La=Object(o.d)(CoachSmileIcon,{variant:"dark"})),profileClientAvatar:m.a.get().photo_120,handleNewSession:handleNewSession,handleNewUserMessage:function handleNewUserMessage(a){var i,r;l.messageIncrement(),e({variables:{input:{userId:String(null===m.a||void 0===m.a?void 0:null===(i=m.a.get)||void 0===i?void 0:null===(r=i.call(m.a))||void 0===r?void 0:r.id),message:a,courseId:t,itemId:n,chatSessionId:v}}}),setTimeout((function(){dispatcher_toggleMsgLoader()}),300)},handleToggle:function handleToggle(e){e||(l.openIncrement(),l.conditionalTriggerPendo())},autofocus:!1,senderPlaceHolder:X()("Ask Coach a question"),showFullScreenButton:!0,humanReadableItemType:i}))})))))},Pa=u.a.withVisibilityTracking(Da);Da.displayName="ChatWidget";var Ba=e.default=Pa},Xb1k:function(module,exports,e){},"b+Bk":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponse"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponseInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponse"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageByAiCoach"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"senderType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"chatSessionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clipRecommendations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"partners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"abbreviatedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"itemTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:519}};e.loc.source={body:"mutation AiCoach_CreateUserMessageAndReturnResponse($input: AiCoach_CreateUserMessageAndReturnResponseInput!) {\n  AiCoach_CreateUserMessageAndReturnResponse(input: $input) {\n    messageByAiCoach {\n      message\n      senderType\n      messageId\n    }\n    chatSessionId\n    clipRecommendations {\n      course {\n        id\n        slug\n        name\n      }\n      partners {\n        abbreviatedName\n        name\n        logo\n      }\n      itemTitle\n      itemSlug\n      itemId\n      previewImage\n      duration\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function unique(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)}))}function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}var t={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function oneQuery(e,n){var a={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=t[n]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){var n;r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}!function extractReferences(){e.definitions.forEach((function(e){if(e.name){var n=new Set;collectFragmentReferences(e,n),t[e.name.value]=n}}))}(),module.exports=e,module.exports.AiCoach_CreateUserMessageAndReturnResponse=oneQuery(e,"AiCoach_CreateUserMessageAndReturnResponse")},j0VE:function(module,e,n){"use strict";var t=n("VbXa"),a=n.n(t),i=n("q1tI"),r=n.n(i),o=n("MnCE"),c=n("ZJgU"),s=n("KXbA"),d=n("G2Rf"),l=n("PamN"),u=n("9A5E"),m=n("NzvK"),p=n.n(m),g,h=function(e){function LabSandboxLauncherButton(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).handleClick=function(){var e=n.props.courseSlug,t=Object(l.c)(e);window.open(t,"_blank")},n}var n;return a()(LabSandboxLauncherButton,e),LabSandboxLauncherButton.prototype.render=function render(){var e=this.props,n=e.courseId,t=e.courseBranchId,a=e.itemId,r=e.ownsCourse,o=e.isFreeTrial;if(!Object(l.b)(n,t,a,r,o))return null;return(i.createElement("div",{className:"rc-LabSandboxLauncherButton"},i.createElement(c.a,{variant:"ghost",component:u.a,iconPosition:"before",trackingName:"lab_sandbox",href:"/learn/".concat(this.props.courseSlug,"/lab-sandbox"),target:"_blank",icon:g||(g=i.createElement(s.a,{size:"small"})),"aria-label":p()("open lab sandbox")},p()("Practice with Lab Sandbox"))))},LabSandboxLauncherButton}(i.Component);e.a=Object(o.b)(d.a)(h)},kDtP:function(module,e,n){"use strict";var t=n("VbXa"),a=n.n(t),i=n("q1tI"),r=n.n(i),o=n("37kS"),c=n.n(o),s=n("8PY9"),d=n.n(s),l=function(e){function LoadingIndicator(){return e.apply(this,arguments)||this}var n;return a()(LoadingIndicator,e),LoadingIndicator.prototype.render=function render(){return i.createElement("div",{className:"rc-LoadingIndicator"},c()("Loading"))},LoadingIndicator}(i.Component);e.a=l},xeAZ:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AiCoach_ChatMessagesPaginatedResult"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"chatSessionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryByChatSessionId"},arguments:[{kind:"Argument",name:{kind:"Name",value:"chatSessionId"},value:{kind:"Variable",name:{kind:"Name",value:"chatSessionId"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pagination"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalElements"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"elements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userFeedback"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userComments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"senderType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"courseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clipRecommendations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"partners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"abbreviatedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImage"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:714}};e.loc.source={body:"query AiCoach_ChatMessagesPaginatedResult($chatSessionId: ID!, $limit: Int!) {\n  AiCoach {\n    queryByChatSessionId(chatSessionId: $chatSessionId, limit: $limit) {\n      pagination {\n        totalElements\n        cursor\n      }\n      elements {\n        userFeedback\n        userComments\n        senderType\n        message\n        itemId\n        createdAt\n        courseId\n        id\n        clipRecommendations {\n          course {\n            id\n            slug\n            name\n          }\n          partners {\n           abbreviatedName\n           name\n           logo\n          }\n          duration\n          itemId\n          itemSlug\n          itemTitle \n          previewImage\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function unique(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)}))}function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}var t={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function oneQuery(e,n){var a={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=t[n]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){var n;r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}!function extractReferences(){e.definitions.forEach((function(e){if(e.name){var n=new Set;collectFragmentReferences(e,n),t[e.name.value]=n}}))}(),module.exports=e,module.exports.AiCoach_ChatMessagesPaginatedResult=oneQuery(e,"AiCoach_ChatMessagesPaginatedResult")}}]);
//# sourceMappingURL=en.67.2fb7c0b1eac978a5f00a.js.map
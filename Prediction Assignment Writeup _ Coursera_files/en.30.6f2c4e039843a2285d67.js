/*! For license information please see 30.6f2c4e039843a2285d67.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"+lOM":function(module,exports){exports.default={"ar":true,"de":true,"es":true,"fr":true,"id":true,"ja":true,"kk":true,"ko":true,"pseudo":true,"pt":true,"ru":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"06Ht":function(module,exports,e){e("EGbX")},"0VHx":function(module,exports,e){},"2P4+":function(module,exports,e){e("p6xx")},"2RWD":function(module,exports,e){},"3Vaj":function(module,exports,e){e("yUSy")},"3blG":function(module,exports,e){},"3w12":function(module,exports,e){},"4Vr2":function(module,exports,e){e("U4Db")},"4suC":function(module,e,t){"use strict";t.r(e);var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),s=t("F/us"),o=t.n(s),c=t("8cuT"),u=t("pR6o"),d=t("L1vm"),l=t("sQ/U"),m=t("EdUP"),p=t("17x9"),h=t.n(p),b=t("welz"),f=t.n(b),g=t("RIqP"),v=t.n(g),S=t("Af4h"),I=t.n(S),y=t("47m/"),w=t.n(y),C=t("oYk5"),E=t.n(C),P=t("BVC1"),A=t("yiR1"),O=t.n(A),R=t("i8i4"),T=t.n(R),j=t("1mBx"),N=t.n(j),x=t("3Hqd"),k=t("tta6");function createMountNode(e){var t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,document.body.appendChild(t)),t}function runTrackingRouter(e,t){return Object(k.a)({routes:e}).then((function(e){return T.a.render(r.createElement(N.a,e),t),e.router}))}var D,M={createMountNode:createMountNode,runTrackingRouter:runTrackingRouter},V,U,L,H,B=function App(e){var t=e.children;return(a.a.createElement("div",null,V||(V=a.a.createElement("div",{"data-js":"origami"})),t))};B.propTypes={children:a.a.PropTypes.node};var q=function(e){function NotFoundRedirect(){return e.apply(this,arguments)||this}i()(NotFoundRedirect,e);var t=NotFoundRedirect.prototype;return t.componentWillMount=function componentWillMount(){H.trigger("error",404)},t.render=function render(){return null},NotFoundRedirect}(a.a.Component),W=function legacyRouteHandler(e,t,n){var r;return(r=function(r){function LegacyRouteHandler(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))||this).state={userConfirmed:!1},e.routerWillLeave=function(t){if(e.state.userConfirmed)return!0;if(t)return e.setState({nextLocation:t}),H.trigger("routerWillLeave",(function(t){t?e.setState({userConfirmed:t},(function(){e.context.router.push(e.state.nextLocation)})):e.setState({nextLocation:null,userConfirmed:!1})})),!1},e}i()(LegacyRouteHandler,r);var s=LegacyRouteHandler.prototype;return s.componentDidMount=function componentDidMount(){this.executeLegacyRoute()},s.componentDidUpdate=function componentDidUpdate(e){this.props.location.key!==e.location.key&&this.executeLegacyRoute()},s.executeLegacyRoute=function executeLegacyRoute(){var i=t(e,this.context.router.params);n.apply(this,i.concat(this.context.router.location.query)),this.context.router.setRouteLeaveHook(this.props.route,this.routerWillLeave)},s.render=function render(){return U||(U=a.a.createElement("div",null))},LegacyRouteHandler}(a.a.Component)).propTypes={location:a.a.PropTypes.object.isRequired,route:a.a.PropTypes.object.isRequired},r.contextTypes={router:a.a.PropTypes.object.isRequired},r},F,G=H=new(function(){function ReactRouterAdapter(){this.routes={},this.nativeRoutes=[],this.visitedFragments=[],O.a.emitter(this)}var e=ReactRouterAdapter.prototype;return e.addRoutes=function addRoutes(e,t){t?Object.assign(this.routes,o()(e).mapObject(t)):Object.assign(this.routes,e)},e.addNativeRoutes=function addNativeRoutes(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.nativeRoutes.push(e)},e.getLegacyRoutes=function getLegacyRoutes(e){var t=this;return o()(this.routes).map((function(n,i){return i?a.a.createElement(w.a,{key:i,path:i,component:W(i,t.getLegacyRouteParams,n)}):a.a.createElement(I.a,{key:"index:".concat(e),component:W(i,t.getLegacyRouteParams,n)})}))},e.getRoutes=function getRoutes(e){if(!this.getLegacyRoutes(e).length&&this.nativeRoutes.length)return this.nativeRoutes;var t=[].concat(v()(this.getLegacyRoutes(e)),v()(this.nativeRoutes),[L||(L=a.a.createElement(w.a,{path:"*",key:"notFoundRoute",component:q}))]);return(a.a.createElement(w.a,{path:e,component:B},t))},e.getLegacyRouteParams=function getLegacyRouteParams(e,t){var n=/\:\w*/g,i=e.match(n);return i?o()(i).chain().compact().invoke("slice",1).reduce((function(e,n){return e.concat(t[n])}),[]).value():[]},e.setupLinks=function setupLinks(e,t){this.routePrefix=e,this.linkSelector=t,E()("body").on("click","a"+this.linkSelector,function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),this.navigate(E()(e.currentTarget).attr("href"),!0))}.bind(this))},e.navigate=function navigate(e,t){var n=e;0!==n.indexOf(this.routePrefix)&&(n=P.a.join(this.routePrefix,n)),t&&t.replace||this.addFragmentToVisited(n),!0===t||t&&!0===t.trigger?t&&t.replace?this.rr.replace(n):this.rr.push(n):t&&t.replace?window.history.replaceState(null,null,n):window.history.pushState(null,null,n)},e.navigateTo=function navigateTo(e,t){if(!e&&""!==e)throw new Error("router.navigateTo received no href");this.navigate(e.replace(this.routePrefix,""),t)},e.addFragmentToVisited=function addFragmentToVisited(e){this.visitedFragments.push(e)},e.start=function start(e,t){var n=this,i=createMountNode("rendered-content");runTrackingRouter(this.getRoutes(e),i).then((function(e){n.rr=e}))},ReactRouterAdapter}()),z=t("3tO9"),Q=t.n(z),Y=t("cDf5"),X=t.n(Y),J=t("S+eF"),K=t.n(J),Z=t("rC9M"),ee=t.n(Z),te=function(e){function ContextProvider(t){var n;n=e.call(this,t)||this;var i={};return Object.keys(t.customContext).forEach((function(e){i[e]=h.a.any})),ContextProvider.childContextTypes=Q()(Q()({},ContextProvider.childContextTypes),i),n}i()(ContextProvider,e);var t=ContextProvider.prototype;return t.getChildContext=function getChildContext(){return Object.assign({},this.props.customContext)},t.render=function render(){return r.cloneElement(this.props.children,this.props)},ContextProvider}(r.Component);te.displayName=te,te.childContextTypes={};var ne=te,ie=t("5lq0");function provideRequestCountryCode(e){var t=e.displayName||e.name,n=function(t){function RequestCountryCodeContextProvider(){return t.apply(this,arguments)||this}i()(RequestCountryCodeContextProvider,t);var n=RequestCountryCodeContextProvider.prototype;return n.getChildContext=function getChildContext(){return{requestCountryCode:ie.a}},n.render=function render(){return r.createElement(e,this.props)},RequestCountryCodeContextProvider}(r.Component);return n.displayName=t+"RequestCountryCodeContextProvider",n.childContextTypes={requestCountryCode:h.a.string},n}var re=t("ROEb"),ae=t("zdiy"),se=t.n(ae),oe=t("JpaV"),ce=t.n(oe),ue=t("HTi0"),de=0,le=1,me={defaults:{autofocus:!0,"bind.open":"click","bind.close":"click","bind.action":"click","attribute.open":"data-modal","attribute.close":"data-modal-close","attribute.iframe":"data-modal-iframe","attribute.action":"data-modal-action","attribute.focus":"data-modal-focus","attribute.focus.index":1e4,"animate.modal.open":null,"animate.modal.close":null,"animate.modal.duration":250,"animate.overlay.open":null,"animate.overlay.close":null,"animate.overlay.duration":250,"overlay.show":!0,"overlay.class":"overlay","overlay.close":!0,"z.index":9999,"position.top":"50%","position.left":"50%",position:"fixed","iframe.autoclose":!0},$overlay:null,count:0,prevScroll:null,prevModal:null,getModal:function getModal(e,t){var n=E()(e).data("modal.me");return n&&n.constructor==pe.prototype.constructor?t?n.customize(t):n:null},makeModal:function makeModal(e,t){var n=E()(e),i=me.getModal(n);return i||(i=new pe(n,t),n.data("modal.me",i)),i},setOverlayHeight:function setOverlayHeight(){E()(window).height()<E()(document).height()?me.$overlay.css({height:E()(document).height()+"px"}):me.$overlay.css({height:"100%"})},observeKeyPress:function observeKeyPress(e){this.options["overlay.close"]&&(27==e.keyCode||27==e.DOM_VK_ESCAPE&&0===e.which)&&(this.emitter.trigger("action",!1,this),this.close()),this.emitter.trigger("key",e)},cycleTabs:function cycleTabs(e){var t=this.$el.find("a,input,select,textarea,button").filter(":visible");9==e.keyCode&&E()(e.target).is(t.last())&&window.setTimeout((function(){t.first().focus()}),0)},actionTrigger:function actionTrigger(e){var t,n=E()(e.currentTarget).attr(this.options["attribute.action"]);this.emitter.trigger("action",n,this)},open:function open(){if("fixed"!=this.options.position&&(me.prevScroll={top:E()(document).scrollTop(),left:E()(document).scrollLeft()},window.scrollTo(0,0)),this.$iframe){var e=this.options["iframe.url"]||E()(this.anchor).attr(this.options["attribute.iframe"]);this.$iframe.attr("src",e),this.$iframe.focus()}else{for(var t=this.$el.find("["+this.options["attribute.focus"]+"]"),n=this.$el.find("a,input,select,textarea,button"),i=0;i<n.length;i++)n.eq(i).attr("tabindex",this.options["attribute.focus.index"]+1+i);this.options.autofocus&&(t.size()>0?(t.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),t.filter(":visible").eq(0).focus()):n.size()>0&&(n.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),n.filter(":visible").eq(0).focus()))}this.state=1,this.$el.on(this.options["bind.action"],"["+this.options["attribute.action"]+"]",ce()(me.actionTrigger,this)),this.emitter.trigger("open")},close:function close(){var e=this.$el.find("iframe");this.$el.off(".modal").hide(),this.options["iframe.autoclose"]&&e.size()&&e.attr({src:"about:blank"}),me.prevScroll&&(window.scrollTo(me.prevScroll.left,me.prevScroll.top),me.prevScroll=null),this.anchor=null,this.$parent.append(this.$el),this.state=0,this.emitter.trigger("close")}},pe=function Modal(e,t){var n=this;this.$el=E()(e),this.state=0,this.$parent=this.$el.parent(),this.customize(t),this.emitter=O.a.emitter(this)};pe.prototype.customize=function(e){return this.options=se()({},ue.a.parse(this.$el,me.defaults,"data-modal-"),e),this},pe.prototype.open=function(){var e=this,t;if(this.anchor&&(t=E()(this.anchor).attr(this.options["attribute.iframe"])),this.options["iframe.url"]&&(t=this.options["iframe.url"]),t&&(this.$iframe=this.$el.find("iframe"),/^https?:\/\/|^\/|^\.\.\//.test(t)&&(this.$iframe.size()&&this.$iframe.attr("src")==t||(this.$iframe.attr("src","about:blank").remove(),this.$iframe=E()("<iframe>").css({height:"100%",width:"100%"}).attr({scrolling:"no",frameborder:0}),this.$el.append(this.$iframe),0!=this.state&&this.$iframe.attr("src",t)))),0!=this.state)return;return this.options["overlay.show"]&&(me.$overlay&&"none"!=me.$overlay.css("display")&&me.$overlay.hasClass(this.options["overlay.class"])?this.$overlay=me.$overlay:(me.$overlay&&me.$overlay.off(".modal").hide().remove(),this.$overlay=me.$overlay=E()("<div>").addClass(this.options["overlay.class"]).hide(),this.$overlay.css({position:"fixed",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:this.options["z.index"]++}),E()("body").append(this.$overlay)),me.setOverlayHeight(),this.reposition(),this.options["animate.overlay.open"]?this.$overlay.animate(this.options["animate.overlay.open"],{duration:this.options["animate.overlay.duration"]}):this.$overlay.show(),me.count++,this.$overlay.data("modal",this)),this.emitter.trigger("opening"),"fixed"==this.options.position&&0!==this.$el.closest("html").length||this.$el.appendTo("body"),this.reposition(),this.$el.show(),this.options["animate.modal.open"]?this.$el.animate(this.options["animate.modal.open"],{duration:this.options["animate.modal.duration"],complete:function complete(){me.open.call(e)}}):me.open.call(this),E()(window).on("resize.modal",ce()(me.setOverlayHeight,e)).on("resize.modal",ce()(e.reposition,e)).on("scroll.modal",ce()(e.reposition,e)),this.$el.on("keydown.modal",ce()(me.cycleTabs,e)),E()(window).on("keyup.modal",ce()(me.observeKeyPress,e)),this.options["overlay.close"]&&this.$overlay.on(this.options["bind.close"]+".modal",(function(t){e.emitter.trigger("action",!1,e),e.close()})),this.options["attribute.close"]&&this.$el.on(this.options["bind.close"]+".modal","["+this.options["attribute.close"]+"]",(function(t){var n=E()(t.currentTarget);"disabled"!=n.attr("disabled")&&(void 0===n.attr(e.options["attribute.action"])&&e.emitter.trigger("action",!1,e),e.close())})),this},pe.prototype.reposition=function(){var e=this.options["position.left"],t=this.options["position.top"];return e&&this.$el.css({position:this.options.position,left:e,marginLeft:/%/.test(e)?this.$el.outerWidth()/2*-1:0,zIndex:this.options["z.index"]++}),t&&this.$el.css({position:this.options.position,top:t,marginTop:/%/.test(t)?this.$el.outerHeight()/2*-1:0,zIndex:this.options["z.index"]++}),this},pe.prototype.close=function(){var e=this;if(1!=this.state)return;if(!1===this.trigger("closeRequest"))return;return this.$el.off(".modal"),E()(window).off(".modal"),this.emitter.trigger("closing"),this.options["animate.modal.close"]?this.$el.animate(this.options["animate.modal.close"],{duration:this.options["animate.modal.duration"],complete:function complete(){me.close.call(e)}}):me.close.call(this),0==--me.count&&this.options["overlay.show"]&&this.$overlay&&(this.$overlay.off(".modal"),this.options["animate.overlay.close"]?this.$overlay.animate(this.options["animate.overlay.close"],{duration:this.options["animate.overlay.duration"],complete:function complete(){this.$overlay.hide().remove()}}):this.$overlay.hide().remove()),this};var he=function external(){return me.getModal.apply(null,arguments)||me.makeModal.apply(this,arguments)};he.start=function(e,t){var n=E()(e),i=se()({},me.defaults,t);if(n.data("modals-initialized"))return;n.data("modals-initialized",1),n.on(i["bind.open"]+".modal","["+i["attribute.open"]+"]",(function(e){var t=E()(this),r=t.attr(i["attribute.open"]),a=n.find(r);i=se()({},i,ue.a.parse(a,me.defaults,"data-modal-"));var s=me.getModal(a,i)||me.makeModal(a,i);!/^https?:\/\/|^\/|^\.\.\//.test(t.attr("href"))||e.ctrlKey||e.metaKey||e.preventDefault(),s.anchor=this,me.prevModal=a[0],s.open()}))},he.stop=function(e){var t=E()(e);t.unbind(".modal"),t.data("modals-initialized",0),me.prevModal&&pe(me.prevModal).close()},he.start("body");var be=he,require,fe="backbone_region",ge="react_region";f.a.View.prototype._super=function(e){return this.constructor.__super__[e].apply(this,o.a.rest(arguments))};var ve=null,Se={current:null,body:"#origami",views:{},openDepth:0,beforeUnloadMessage:"There are unsaved changes that will be lost if you reload or leave this page.",regionHasUnsavedModel:function regionHasUnsavedModel(e){if(!e)return!1;var t;if(!(!e.view||!e.view.hasUnsavedModel)&&e.view.hasUnsavedModel())return!0;for(var n in e.regions){var i=e.regions[n];if(Se.regionHasUnsavedModel(i))return!0}return!1}},Ie=f.a.Router.extend({initialize:function initialize(){var e=this;this.routePrefix="",this.visitedFragments=[],this.$confirmNavigation=E()(ee()({})),E()("body").append(this.$confirmNavigation),E()(window).on("beforeunload.origami",(function(){if(Se.regionHasUnsavedModel(Se.current))return Se.beforeUnloadMessage}))},setupLinks:function setupLinks(e,t){var n=this;this.routePrefix=e,this.linkSelector=t,E()("body").on("click","a"+this.linkSelector,(function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),n.navigateTo(E()(e.currentTarget).attr("href"),!0))}))},addFragmentToVisited:function addFragmentToVisited(e,t){if("object"===X()(t)&&t.replace)return;this.visitedFragments?this.visitedFragments.push(e):this.visitedFragments=[e]},navigateTo:function navigateTo(e,t){e||re.a.error("router.navigateTo received no href"),this.navigate(e.replace(this.routePrefix,""),t)},navigate:function navigate(e,t){var n,i,r;Se.current&&Se.regionHasUnsavedModel(Se.current)?(E()(".confirm-navigation-message").text(Se.beforeUnloadMessage),E()(".confirm-navigation-leave").one("click",function(n){this.addFragmentToVisited(e),f.a.Router.prototype.navigate.call(n.currentTarget,e,t)}.bind(this)),be(".confirm-navigation",{"overlay.class":"coursera-overlay"}).open()):(this.addFragmentToVisited(e,t),f.a.Router.prototype.navigate.call(this,e,t))},addRoutes:function addRoutes(e,t){var n=this;for(var i in e){var r=e[i];t&&(r=t(r)),n.route(i,i,r),n.route(i+"/",i+"/",(function(){var e,t=f.a.history.getFragment().replace(/\/(?:\?.*)*$/,"");n.navigate(t,{trigger:!0,replace:!0})}))}},start:function start(e){var t;f.a.history.start({pushState:!0,hashChange:!1,root:e})||this.trigger("error",404)},unsavedWarningModal:function unsavedWarningModal(e){if(Se.current&&Se.regionHasUnsavedModel(Se.current)){var t={"overlay.class":"coursera-overlay"},n;E()(".confirm-navigation-message").text(Se.beforeUnloadMessage);var i=be(".confirm-navigation",t);i.once("action",(function(t){e(t)})),i.open()}else e(!0)}}),ye=function region(e,t){var n=this,i=t||{};this.type=e,this.regions=i.regions||{},this.initialize=i.initialize||{},this.to=i.to,this.options={},this.props=t.props||{},this.context=t.context||{},this.fluxibleContext=t.fluxibleContext,this.reactRouter=t.reactRouter,this.id=i.id||e.prototype.name,this.name=e.prototype.name||i.name,this.view=null,this.regions=E.a.extend({},e.prototype.subregions,i.regions||{})};ye.prototype.close=function(e){var t=this;o.a.each(t.regions,(function(n,i){delete t.regions[i],n&&n.close(e)})),t.view.trigger("view:closed"),e||t.view.remove(),t.view.undelegateEvents(),t.view.off("view")},ye.prototype.closing=function(){this.view.trigger("view:closing"),delete Se.views[this.view.cid]},ye.prototype.render=function(e){var t=this,n=o.a.compact(o.a.values(t.regions));return o.a.each(n,(function(e){e.render(),e.parent=t})),this.type.prototype.isReactComponent?(this.kind=ge,this.renderReactComponent()):(this.kind=fe,this.renderBackboneView()),o.a.each(n,(function(e){var n=e.view&&e.view.el,i=e.to||e.view&&e.view.to;o.a.isFunction(i)&&(i=i()),i&&!E.a.contains(document,n)&&(t.view.$(i).append(n),e.appended())})),e&&t.view.on("view:appended",(function(){e.trigger("region:appended",{name:t.name})})),t},ye.prototype.renderBackboneView=function(){this.view=new this.type(this.initialize),this.view.region=this,this.view.render(this.render)},ye.prototype.renderReactComponent=function(){var e=this.context.fluxibleContext,t=this.context.router,n=Object.assign({},e?Q()({fluxibleContext:e},e):{},t?{router:t}:{}),i=o.a.compose(provideRequestCountryCode)(this.type);this.view=new f.a.View,this.view.region=this;var r=a.a.createElement(ne,{customContext:n},a.a.createElement(i,this.props));this.view.remove=function(){return T.a.unmountComponentAtNode(this.el),f.a.View.prototype.remove.call(this),this},this.view.on("view:appended",(function(){T.a.render(r,this.el)}))},ye.prototype.appended=function(){var e=this;e.view&&setTimeout((function(){e.view.trigger("view:appended")}),0)},ye.prototype.append=function(e,t){var n=this,i=K.a.defer();this.regions||(this.regions={});var r=function renderAndAppend(r){for(var a=e,s=0,c;n.regions[a];)a+=++s;if(n.regions[a]=r,r.render(ve),c=t.to?o.a.isElement(t.to)?n.view.$(t.to):t.to:n.view.$el,o()(t).has("position")){var u=c.children().eq(t.position);u.length>0?E()(u[0]).before(r.view.el):c.append(r.view.el)}else c.append(r.view.el);r.appended(),ve.renderedRegions.push(r),ve.trigger("region:rendered",{name:r}),i.resolve(r)};return void 0!==e&&("string"==typeof e?ve.region.fetch(e,t,r):r(new ye(e,t))),i.promise},ye.prototype.is=function(e){return e.type==this.type&&e.id==this.id},ye.prototype.replace=function(e,t){this.view.$el.replaceWith(e.view.el),t&&t()},ye.prototype.merge=function(e,t){var n=this;n.is(e)?o.a.each(e.regions,(function(e,i){var r=n.regions[i];r&&e?(r.view.trigger("view:merging",e.initialize),r.merge(e,t),r.view.trigger("view:merged",e.initialize)):r&&!e&&(r.closing(),r.parent&&delete r.parent.regions[r.name],r.close())})):n.name==e.name&&(n.closing(),e.render(t),n.replace(e,(function(){n.parent&&(n.parent.regions[e.name]=e,e.parent=n.parent,n.parent.appended()),n.close(),e.appended()})))};var we=function Origami(e,n){if(ve)return ve;this.renderedRegions=[],ve=this,Se.body=e,Se.current=n,E()(window).on("resize",(function(){for(var e in Se.views)Se.views[e].trigger("view:resize")})),this.region={make:function make(e,t){return new ye(e,t)},fetch:function fetch(e,n,i){var r=o.a.uniqueId();ve.trigger("region:fetching",{name:e,uid:r});var a=function returnRegion(t){ve.trigger("region:fetched",{name:e,uid:r}),i(new ye(t,n))},module=n.module,s=n.async;if(module&&module.lazy||module&&s)module(a);else if(module)a(module);else{var c,u;u=null!==(c=jest)&&void 0!==c&&c.requireActual?function req(e,n){var i;return n(t("AbQT")(e[0]))}:void 0,ve.trigger("deprecatedUsage",{type:"asyncRequire",name:e}),u([e],a)}},getSingleton:function getSingleton(){return ve},append:function append(e,t,n,i){e||(e={regions:{}});var r=function renderAndAppend(n){for(var r=t,a=0;e.regions[r];)r+=++a;return e.regions[r]=n,n.render(ve),i&&i(n),n.appended(),ve.renderedRegions.push(n),ve.trigger("region:rendered",{name:n}),n};if(void 0!==t){if("string"!=typeof t)return r(new ye(t,n));ve.region.fetch(t,n,r)}},open:function open(e,t){var n=e,i={};0===Se.openDepth&&ve.trigger("open"),Se.openDepth++;var r=function onFetch(e){var n=[];o.a.each(e.regions,(function(t,i){if(!t)return;var r=K.a.defer();ve.region.open(t,(function(t){t.kind==fe&&i!=t.name&&re.a.error("Region configured with name "+i+" but has name "+t.name),e.regions[i]=t,r.resolve(t)})),n.push(r.promise)})),K.a.allSettled(n).then((function(){if(t)return t(e);if(Se.current){if(Se.current.is(e))return void Se.current.merge(e,ve);if(Se.current.name==e.name)return e.render(ve),void Se.current.replace(e,(function(){Se.current.close(),Se.current=e,Se.current.appended()}));Se.current.close(!0)}ve.dontRender||(Se.current=e,E()(Se.body).html(Se.current.render(ve).view.$el),Se.current.appended())})).done((function(){--Se.openDepth<=0&&(ve.on("close",(function(){ve.renderedRegions=[],Se.current&&(Se.current.view.once("view:closed",(function(){Se.current=void 0})),Se.current.close.call(Se.current))})),ve.trigger("opened"))}))};ye.prototype.isPrototypeOf(e)?r(e):(o.a.isObject(e)&&(i=e[n=o.a.keys(e)[0]]),ve.region.fetch(n,i,r))}},this.interruptRender=function(){this.dontRender=!0}.bind(this),this.cancelInterrupt=function(){this.dontRender=!1}.bind(this),this.router=new Ie,this.store={},this.tracker=[]};o.a.extend(we.prototype,f.a.Events);var Ce=we,Ee=t("DzKf"),Pe=new Ce("[data-js=origami]");Pe.router.on("route",(function(){Object(Ee.b)()})),Pe.enableRR=function(){var e=Pe.router;Pe.router=G,Pe.router.on("routerWillLeave",(function(t){e.unsavedWarningModal(t)})),f.a.history={}},Pe.on("deprecatedUsage",Ee.a);var Ae=Pe;function ScrollTracker(e,t){this.scrollHash=o.a.extend({},e),this.ROUTE_EVENT=t&&t.routeEvent||"route",this.$el=E()(window)}function _getCurrentRoute(){var e;return(f.a.history.fragment||"").replace(/[#?].+/g,"")}function _updateRoute(){this.lastRoute=_getCurrentRoute()}ScrollTracker.prototype.start=function(e){this.router=e,_updateRoute.call(this),this.router.on(this.ROUTE_EVENT,function(e,t){this.set(this.lastRoute),_updateRoute.call(this)}.bind(this))},ScrollTracker.prototype.stop=function(){this.router.off(this.ROUTE_EVENT)},ScrollTracker.prototype.get=function(e){return void 0===e&&(e=_getCurrentRoute()),this.scrollHash[e]||0},ScrollTracker.prototype.set=function(e){void 0===e&&(e=_getCurrentRoute()),this.scrollHash[e]=this.$el.scrollTop()},ScrollTracker.prototype.restore=function(e){this.$el.scrollTop(this.get(e))},ScrollTracker.prototype.scroll=function(e){this.$el.scrollTop(e),this.set()};var Oe,Re=new ScrollTracker;Re.start(Ae.router);var Te=Re,je=function(e){function AssignmentSubmitWrapper(){return e.apply(this,arguments)||this}i()(AssignmentSubmitWrapper,e);var t=AssignmentSubmitWrapper.prototype;return t.componentDidMount=function componentDidMount(){Te.scroll(0)},t.render=function render(){return this.props.isSubmitted?this.props.submittedView:this.props.editView},AssignmentSubmitWrapper}(r.Component);je.propTypes={isSubmitted:h.a.bool.isRequired,submittedView:h.a.node.isRequired,editView:h.a.node.isRequired};var Ne=je,xe=t("VMeS"),ke=t("JAmU"),De=t("pVnL"),_e=t.n(De),Me=t("J4zp"),Ve=t.n(Me),Ue=t("Y+p1"),Le=t.n(Ue),He=t("sEfC"),Be=t.n(He),qe=t("AeFk"),We=t("+LJP"),Fe=t("kwmr"),Ge=t("W1i5"),$e=t("fAYU"),ze=t("HulD"),Qe=t("gNwb"),Ye=t("HXet"),Xe=t.n(Ye),Je=Object(Qe.d)({type:"BUTTON"})($e.a),Ke="https://learner.coursera.help/hc/articles/209818863",Ze,et=function HonorCodeNotification(){return r.createElement(ze.a,{inlineAction:r.createElement(Je,{href:Ke,variant:"quiet",typographyVariant:"body1",target:"_blank",rel:"noopener noreferrer",trackingName:"clicked_link_to_honor_code",role:"link"},Xe()("View Honor Code")),severity:"information"},Xe()("Protect the academic integrity of your work and that of fellow learners by following Coursera’s Honor Code."))},tt,nt=function HonorCodeRejectedNotification(){return r.createElement(ze.a,{severity:"warning"},Xe()("To submit your assignment, you’ll need to agree to the Coursera Honor Code."))},it=t("HOoY"),rt,at,st;!function(e){e.GIBBERISH="GIBBERISH",e.TEXTSIMILARITY="TEXTSIMILARITY"}(rt||(rt={})),function(e){e.TEXT="TEXT"}(at||(at={})),function(e){e.INTEGRITY_CHECK_ACTIVE="INTEGRITY_CHECK_ACTIVE",e.INTEGRITY_CHECK_NONE="INTEGRITY_CHECK_NONE",e.INTEGRITY_CHECK_PASSIVE="INTEGRITY_CHECK_PASSIVE"}(st||(st={}));var ot=t("Qp/S"),ct=function hasPlagiarism(e){if(!e)return!1;return!!e.deterredChecks.find((function(e){return e===rt.TEXTSIMILARITY}))},ut=function hasGibberish(e){if(!e)return!1;return!!e.deterredChecks.find((function(e){return e===rt.GIBBERISH}))},dt=function isActiveDetterence(e){if(!e)return!1;return e.deterrence===st.INTEGRITY_CHECK_ACTIVE},lt=function getOrderedChecks(e){var t=[];return Object(ot.b)(e)&&t.push({checkType:rt.GIBBERISH,withFiltering:!0}),Object(ot.e)(e)&&t.push({checkType:rt.TEXTSIMILARITY,withFiltering:!0}),t},mt=function hasPlagiarismInSomeParts(e){if(!e||e.length<=0)return!1;return e.some(ct)},pt=function hasGibberishInSomeParts(e){if(!e||e.length<=0)return!1;return e.some(ut)},ht=function processIntegrityStatusResults(e){var t,n,i=e.courseId,r=e.eventData,a=e.integrityContext,s=e.latestSubmissionAndRelated,o=e.integrityStatus,c=e.scrollToTop,u=e.showSubmitDialog,d=null==o?void 0:null===(t=o.IntegrityCheck)||void 0===t?void 0:t.queryIntegrityChecks,m=s.submission.versionedAssignmentId,p=null!==(n=null==m?void 0:m.split("@"))&&void 0!==n?n:[],h,b=Ve()(p,1)[0];a.setAssignmentId(b),a.setScoreResults(d),(mt(null==d?void 0:d.promptResults)||pt(null==d?void 0:d.promptResults))&&c(),u();var f={user_id:l.a.get().id,course_id:i,peer_assignment_id:b};dt(d)&&mt(null==d?void 0:d.promptResults)&&it.a.trackComponent(r,f,"simtext_active_deterrence","deterrence"),dt(d)&&pt(null==d?void 0:d.promptResults)&&it.a.trackComponent(r,f,"gibberish_active_deterrence","deterrence"),null==d||d.promptResults.forEach((function(e){var t=Q()(Q()({},f),{},{peer_assignment_submission_schema_part_id:e.promptId});ct(e)&&it.a.trackComponent(r,t,"simtext_deterrence","deterrence"),ut(e)&&it.a.trackComponent(r,t,"gibberish_deterrence","deterrence")}))},bt=Object(r.createContext)({isChecking:!1,scoreResults:void 0,assignmentId:void 0,hasLocalChanges:!1,setScoreResults:function setScoreResults(){return},setIsChecking:function setIsChecking(){return},setHasLocalChanges:function setHasLocalChanges(){return},setAssignmentId:function setAssignmentId(){return},getHasPlagiarismInPart:function getHasPlagiarismInPart(){return!1},getHasGibberishInPart:function getHasGibberishInPart(){return!1},getHasPlagiarismInSubmission:function getHasPlagiarismInSubmission(){return!1},getHasGibberishInSubmission:function getHasGibberishInSubmission(){return!1},getShouldDeterLearnerFromSubmitting:function getShouldDeterLearnerFromSubmitting(){return!1},clearResults:function clearResults(){return}}),ft=function useIntegrityStatusContext(){return Object(r.useContext)(bt)},gt=function IntegrityStatusContextProvider(e){var t=e.children,n=Object(r.useState)(!1),i=Ve()(n,2),a=i[0],s=i[1],o=Object(r.useState)(!1),c=Ve()(o,2),u=c[0],d=c[1],l=Object(r.useState)(void 0),m=Ve()(l,2),p=m[0],h=m[1],b=Object(r.useState)(void 0),f=Ve()(b,2),g=f[0],v=f[1],S=function getHasPlagiarismInPart(e){var t,n=null==g?void 0:null===(t=g.promptResults)||void 0===t?void 0:t.find((function(t){return t.promptId===e}));return ct(n)},I=function getHasGibberishInPart(e){var t=null==g?void 0:g.promptResults.find((function(t){return t.promptId===e}));return ut(t)},y=function getHasPlagiarismInSubmission(){return mt(null==g?void 0:g.promptResults)},w=function getHasGibberishInSubmission(){return pt(null==g?void 0:g.promptResults)},C=function getShouldDeterLearnerFromSubmitting(){return dt(g)},E=function clearResults(){v(void 0),d(!1)};return r.createElement(bt.Provider,{value:{scoreResults:g,isChecking:a,assignmentId:p,hasLocalChanges:u,setHasLocalChanges:d,setIsChecking:s,setScoreResults:v,setAssignmentId:h,getHasPlagiarismInPart:S,getHasGibberishInPart:I,getHasPlagiarismInSubmission:y,getHasGibberishInSubmission:w,getShouldDeterLearnerFromSubmitting:C,clearResults:E}},t)},vt=t("VkAN"),St=t.n(vt),It=t("Gcrz"),yt=t("UYTu"),wt,Ct=Object(yt.a)(wt||(wt=St()(["\n  query GetIntegrityStatus(\n    $submission: IntegrityCheck_SubmissionInput!\n    $orderedChecks: [IntegrityCheck_StageDefinitionInput!]!\n  ) {\n    IntegrityCheck {\n      queryIntegrityChecks(submission: $submission, orderedChecks: $orderedChecks) {\n        deterrence\n        promptResults {\n          promptId\n          deterredChecks\n        }\n      }\n    }\n  }\n"]))),Et,Pt=function IntegrityStatusAPI(e){var t=e.children,n=e.queryData,i=e.onDataLoaded,a=function onCompleted(e){var t;null!=e&&null!==(t=e.IntegrityCheck)&&void 0!==t&&t.queryIntegrityChecks?i(e):i(void 0)};return r.createElement(It.c,{query:Ct,notifyOnNetworkStatusChange:!0,fetchPolicy:"no-cache",variables:n,skip:!n,context:{clientName:"gatewayGql"},onCompleted:a},(function(){return t}))},At=t("E+oP"),Ot=t.n(At),Rt=function parseRichText(e){if("cml"===(null==e?void 0:e.typeName))return e.definition.value;if("html"===(null==e?void 0:e.typeName))return e.definition;return e};function createIntegrityQuery(e){var t,n=e.submission,i=n.definition,r=n.versionedAssignmentId,a=["richText","plainText"],s=i.parts,o=Object.entries(s).filter((function(e){var t,n=Ve()(e,2)[1];return a.includes(n.typeName)})).map((function(e){var t=Ve()(e,2),n=t[0],i=t[1],r=i.typeName,a=i.definition;return{promptId:n,content:{typeTag:at.TEXT,textContent:"richText"===r?Rt(a.richText):a.plainText}}})).filter((function(e){return!Ot()(e.promptId)})),c=null!==(t=null==r?void 0:r.split("@"))&&void 0!==t?t:[],u=Ve()(c,2),d=u[0],m=u[1];return{assignmentId:d,submitterId:String(l.a.get().id),prompts:o,version:Number(m)}}var Tt=t("+c4W"),jt=t.n(Tt),Nt=t("MJIl"),xt=t.n(Nt),kt=t("3WF5"),Dt=t.n(kt),_t=t("mRsi"),Mt=t.n(_t),Vt=t("TSYQ"),Ut=t.n(Vt),Lt=t("yhVA"),Ht=t.n(Lt),Bt=function(e){function AssignmentSubmitAlertsView(){return e.apply(this,arguments)||this}var t;return i()(AssignmentSubmitAlertsView,e),AssignmentSubmitAlertsView.prototype.render=function render(){var e=this.props,t=e.isSubmitted,n=e.submissionAppState,i=n.submitState,a=n.saveState,s=n.showValidation,o=n.errorMessage,c=e.errorTree;if(!c||!s)return null;if(t)return r.createElement("div",{className:"rc-AssignmentSubmitAlertsView"},Ht()("Your work is submitted."));var u=xt()(AssignmentSubmitAlertsView.getAllErrors(c),jt()("blocksSubmit")),d=!!o,l=!o&&"ready"===i&&"ready"===a&&u,m=!o&&"saveError"===a&&!o,p=!o&&"submitError"===i&&"ready"===a&&u,h=!o&&"submitError"===i&&"ready"===a&&!u,b=Ut()("rc-AssignmentSubmitAlertsView","bt3-alert",{"bt3-alert-warning":l,"bt3-alert-danger":d||m||p||h});if(!(d||l||m||p||h))return null;return(r.createElement("div",{className:b},d&&r.createElement("span",null,o),p&&r.createElement("span",null,Ht()("Error submitting assignment: please fix the errors below before submitting.")),l&&r.createElement("span",null,Ht()("Your assignment was saved, but please fix the errors below before submitting.")),h&&r.createElement("span",null,Ht()("Your assignment was saved, but an unknown error occurred while submitting.\n              Please refresh the page and try again.")),m&&r.createElement("span",null,Ht()("Save error. Please try again."))))},AssignmentSubmitAlertsView}(r.Component);Bt.getAllErrors=function(e){if(!e)return[];var t=Mt()(Dt()(e.children,(function(e){return Bt.getAllErrors(e)})));return e.errors.concat(t)};var qt=Bt,Wt,Ft=function EditView(e){var t=e.submissionAppState,n=e.errorTree,i=e.isSubmitted,a=e.children;return(r.createElement("div",{className:"rc-AssignmentEditView rc-AssignmentSubmit"},r.createElement(qt,{isSubmitted:i,submissionAppState:t,errorTree:n}),r.createElement("div",null,a)))},Gt=t("xPfO"),$t=t("hbUA"),zt=t("IG+7"),Qt=t("5ijc"),Yt=t("Zr0k"),Xt=t("xmcF"),Jt=t("tVsT"),Kt=t("ZSJn"),Zt,en=function(e){function AlicePeerReviewSaveEvent(t){var n,i=t.courseBranchId,r=t.itemId;return(n=e.call(this,{type:Jt.g,courseBranchId:i})||this).itemId=r,n.id="".concat(Jt.g,"~").concat(i,"~").concat(r),n}return i()(AlicePeerReviewSaveEvent,e),AlicePeerReviewSaveEvent}(Kt.a),tn,nn=function(e){function AlicePeerReviewSubmitEvent(t){var n,i=t.courseBranchId,r=t.itemId;return(n=e.call(this,{type:Jt.h,courseBranchId:i})||this).itemId=r,n.id="".concat(Jt.h,"~").concat(i,"~").concat(r),n}return i()(AlicePeerReviewSubmitEvent,e),AlicePeerReviewSubmitEvent}(Kt.a),rn=Object(Xt.a)((function(e){var t=e.itemId,n=e.courseBranchId,i=e.courseId,r=e.hasSaved,a=e.hasSubmitted;if(r)return new en({courseBranchId:n,itemId:t});if(a)return new nn({courseBranchId:n,itemId:t});return null}),(function(e){var t;return{course_id:e.courseId}}))((function(){return null})),an=t("nNSt"),sn,on=function IntegrityStatusResult(){var e=ft(),t=e.getShouldDeterLearnerFromSubmitting,n=e.getHasPlagiarismInSubmission,i=e.getHasGibberishInSubmission;if(t())return r.createElement(an.a,{severity:"error"},Xe()("Review the notifications below and update your responses before submitting to complete this assignment."));if(n()||i())return r.createElement(an.a,{severity:"warning"},Xe()("Review the notifications below and consider updating your responses before submitting."));return null},cn=t("7NQo"),un=t("7Pyc"),dn=t("ZJgU"),ln=t("8Hdl"),mn=t("PSZr"),pn=t("POo7"),hn,bn,fn,gn=Object(Qe.d)({type:"BUTTON"})(dn.a),vn={flagStyle:function flagStyle(e){return Object(qe.c)(hn||(hn=St()(["\n    padding: ",";\n  "])),e.spacing(4,0,4,0))},successIcon:function successIcon(e){return Object(qe.c)(bn||(bn=St()(["\n    margin-bottom: calc("," * -1);\n  "])),e.spacing(4))}},Sn,In=function GibberishPromptResult(e){var t=e.partId,n=e.trackingData,i=ft(),a=i.getHasGibberishInPart,s=i.assignmentId,o=Object(r.useState)(!1),c=Ve()(o,2),u=c[0],d=c[1];if(a(t))return Object(qe.d)("div",null,Object(qe.d)(an.a,{severity:"warning"},Xe()("It looks like this response doesn’t answer the original question. Make sure it’s a a full sentence answer so that reviewers can better assess your submission.")),u?Object(qe.d)("div",{css:vn.flagStyle},Object(qe.d)(mn.a,{size:"small",color:"success",css:vn.successIcon})," ",Object(qe.d)(ln.a,{variant:"body2",display:"inline"},Xe()("Thanks for your input! We’ll use it to improve the experience."))):Object(qe.d)("div",{css:vn.flagStyle},Object(qe.d)(ln.a,{variant:"body2",display:"inline"},Xe()("Do you believe you received this in error?"))," ",Object(qe.d)(gn,{trackingName:"gibberish_deterrence_user_flagged_false_positive",trackingData:Q()(Q()({},n),{},{assignment_id:s,user_id:l.a.get().id,part_id:t}),"data-test":"flag-false-positive-button",variant:"ghost",size:"small",icon:fn||(fn=Object(qe.d)(pn.a,{size:"small"})),iconPosition:"before",onClick:function onClick(){return d(!0)}},Xe()("Let us know"))));return null},yn,wn,Cn,En=Object(Qe.d)({type:"BUTTON"})(dn.a),Pn={flagStyle:function flagStyle(e){return Object(qe.c)(yn||(yn=St()(["\n    padding: ",";\n  "])),e.spacing(4,0,4,0))},successIcon:function successIcon(e){return Object(qe.c)(wn||(wn=St()(["\n    margin-bottom: calc("," * -1);\n  "])),e.spacing(4))}},An,On=function PlagiarismPromptResult(e){var t=e.partId,n=e.trackingData,i=ft(),a=i.getHasPlagiarismInPart,s=i.assignmentId,o=Object(r.useState)(!1),c=Ve()(o,2),u=c[0],d=c[1];if(a(t))return Object(qe.d)("div",null,Object(qe.d)(an.a,{severity:"warning"},Xe()("Is your response your original work? It looks similar to another learner’s previous submission. Update your response before submitting.")),u?Object(qe.d)("div",{css:Pn.flagStyle},Object(qe.d)(mn.a,{size:"small",color:"success",css:Pn.successIcon})," ",Object(qe.d)(ln.a,{variant:"body2",display:"inline"},Xe()("Thanks for your input! We’ll use it to improve the experience."))):Object(qe.d)("div",{css:Pn.flagStyle},Object(qe.d)(ln.a,{variant:"body2",display:"inline"},Xe()("Do you believe you received this in error?"))," ",Object(qe.d)(En,{trackingName:"simtext_deterrence_user_flagged_false_positive",trackingData:Q()(Q()({},n),{},{assignment_id:s,user_id:l.a.get().id,part_id:t}),"data-test":"flag-false-positive-button",variant:"ghost",size:"small",icon:Cn||(Cn=Object(qe.d)(pn.a,{size:"small"})),iconPosition:"before",onClick:function onClick(){return d(!0)}},Xe()("Let us know"))));return null},Rn=t("3H1I"),Tn=t("fiqM"),jn,Nn=function PlainTextEditView(e){var t=e.submissionPart,n=e.update,i=e.disabled,a=e.id,s=e.ariaLabelledBy,o=e.ariaDescribedby;if("plainText"!==t.typeName)return null;return(r.createElement("textarea",{id:a,defaultValue:t.definition.plainText,className:"c-peer-review-submit-text-field bt3-form-control","aria-labelledby":s,"aria-describedby":o,onChange:function onChange(e){var i=E.a.extend(!0,{},t);i.definition.plainText=e.target.value,n(i)},disabled:i}))},xn=t("BkRI"),kn=t.n(xn),Dn=t("ZFE0"),_n=t("EqTq"),Mn=t("kvW3"),Vn=t("DuzF"),Un=t("h4VP"),Ln=t("qC2T"),Hn=t.n(Ln),Bn=t("Tqty"),qn=1,Wn=Object(_n.a)("MinWordCount"),Fn=function wordCount(e){if(!e)return 0;if("string"==typeof e){var t=new Vn.a,n=Object(Un.a)(t.toCML(e,!0,!0));return Object(Un.h)(n)}return Object(Un.h)(e)},Gn,$n=function MinWordCount(e){var t=e.minWordCount,n=e.content,i=Fn(n),a=t||1,s=t?Hn()("Minimum {minWordCount, plural, one{# word} other{# words}}: {currentWordCount, number}"):Hn()("Your answer needs to be a little bit longer. Write a few sentences to complete your assignment.");return r.createElement("div",{className:Wn()},i<a&&r.createElement(Mn.b,{message:s,minWordCount:t,currentWordCount:i}))},zn="cml",Qn={dtdId:"assess/1",value:"<co-content><text></text></co-content>"};function getImageUploadOptions(e,t){return{context:{courseId:e,itemId:t},pendingAssetCreation:{assetType:"image",typeName:"pending",tags:[]},assetCreationUrl:"/api/onDemandPeerAssetCreationAttempts.v1"}}var Yn={getImageUploadOptions:getImageUploadOptions},Xn=t("IbxQ"),Jn=t("9AH0"),Kn=t("8kAM"),Zn={notificationContainer:function notificationContainer(e){return Object(qe.c)({marginBottom:e.spacing(8)})}},ei=function RichTextEditView(e){var t,n,i,a=e.courseId,s=e.submissionPart,o=e.update,c=e.disabled,u=e.submissionSchemaPart,d=e.ariaLabelledBy,m=e.ariaDescribedby,p=e.eventData,h=e.versionedAssignmentId,b=e.dtdIdOverride,f=e.itemId,g=s.definition.richText,v=Object(r.useState)(!1),S=Ve()(v,2),I=S[0],y=S[1],w,C=Object(Xn.a)(g,b).cmlContent;if("richText"!==s.typeName||"string"==typeof g)return null;var E=null==u?void 0:null===(t=u.details)||void 0===t?void 0:null===(n=t.definition)||void 0===n?void 0:n.minWordCount,P=null!==(i=null==h?void 0:h.split("@"))&&void 0!==i?i:[],A,O=Ve()(P,1)[0],R="min-word-count-warn-".concat(null==u?void 0:u.id);return Object(qe.d)("div",{className:"rc-RichTextEditView",onPaste:function onPaste(e){var t=e.clipboardData.getData("text").length,n=l.a.get().id;it.a.trackComponent(p,{clipboardTextLength:t,userId:n,peer_assignment_id:O},"pasting_detection","paste"),y(!0)}},I&&Object(qe.d)("div",{css:Zn.notificationContainer},Object(qe.d)(Dn.a,{onDismiss:function onDismiss(){return y(!1)}})),Object(qe.d)(Jn.a,{initialCML:C,readOnly:c,shouldDebounceChanges:!1,isLearnerUpload:!0,uploadOptions:{asset:Yn.getImageUploadOptions(a,f)},onContentChange:function onContentChange(e){var t=kn()(s);t.definition.richText=e,o(t)},customTools:[Kn.a.BOLD,Kn.a.ITALIC,Kn.a.MATH,Kn.a.LINK,Kn.a.UNLINK,Kn.a.UNORDERED_LIST,Kn.a.ORDERED_LIST,Kn.a.IMAGE,Kn.a.SUBSCRIPT,Kn.a.SUPERSCRIPT],ariaLabelledBy:d,ariaDescribedBy:"".concat(R," ").concat(m)}),Object(qe.d)("div",{id:R},Object(qe.d)($n,{minWordCount:E,content:C})))},ti=function RichTextEditViewContainer(e,t){return Object(qe.d)(ei,_e()({eventData:t._eventData},e))};ti.contextTypes={_eventData:h.a.object};var ni=ti,ii,ri=function(e){function UrlEditView(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).onChangeUrl=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=E.a.extend(!0,{},i);a.definition.url=e.currentTarget.value,r(a)},t.onChangeTitle=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=E.a.extend(!0,{},i);a.definition.title=e.currentTarget.value,r(a)},t.onChangeCaption=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=E.a.extend(!0,{},i);a.definition.caption=e.currentTarget.value,r(a)},t}var t;return i()(UrlEditView,e),UrlEditView.prototype.render=function render(){var e=this.props,t=e.submissionPart,n=e.id,i=e.ariaLabelledBy,a=e.ariaDescribedby;if("url"!==t.typeName)return null;return(r.createElement("div",{className:"rc-UrlEditView"},r.createElement("input",{id:n,className:Ut()("c-peer-review-submit-text-field",{"c-peer-review-submit-text-field-group-top":!!t.definition.url},"bt3-form-control"),type:"text",placeholder:Ht()("https://example.com"),"aria-labelledby":i,"aria-describedby":a,defaultValue:t.definition.url,onChange:this.onChangeUrl,disabled:this.props.disabled}),t.definition.url&&r.createElement("div",null,r.createElement("div",{className:"c-peer-review-submit-text-field-container"},r.createElement("input",{className:Ut()("c-peer-review-submit-text-field","c-peer-review-submit-text-field-group-middle","bt3-form-control"),type:"text",placeholder:Ht()("Title"),defaultValue:t.definition.title,onChange:this.onChangeTitle,disabled:this.props.disabled}),!t.definition.title&&r.createElement("div",{className:"c-peer-review-submit-text-field-annotation"},Ht()("optional"))),r.createElement("div",{className:"c-peer-review-submit-text-field-container"},r.createElement("textarea",{className:Ut()("c-peer-review-submit-textarea-field","c-peer-review-submit-text-field-group-bottom","bt3-form-control"),placeholder:Ht()("Caption"),defaultValue:t.definition.caption,onChange:this.onChangeCaption,disabled:this.props.disabled}),!t.definition.caption&&r.createElement("div",{className:"c-peer-review-submit-text-field-annotation"},Ht()("optional"))))))},UrlEditView}(r.Component),ai=t("beC1"),si=t("WMAa"),oi,ci,ui=function(e){function SubmissionPartEditView(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).promptId="prompt-".concat(t.props.partId),t.inputId="input-".concat(t.props.partId),t.validationLabelId="submission-part-label-".concat(t.inputId),t.state={hasUnsavedChanges:!1,showCopyDeterrenceNotification:!1},t.updatePart=function(e){var n=t.props.update;t.setState({hasUnsavedChanges:!0}),n(e)},t.preventAction=function(e){Object(ot.f)()&&(e.preventDefault(),t.toggleCopyDeterrenceNotification(!0))},t.toggleCopyDeterrenceNotification=function(e){t.setState({showCopyDeterrenceNotification:e})},t}i()(SubmissionPartEditView,e);var t=SubmissionPartEditView.prototype;return t.componentDidUpdate=function componentDidUpdate(e){var t=this.props.draftHasLocalChanges,n=this.state.hasUnsavedChanges;e.draftHasLocalChanges&&!t&&n&&this.setState({hasUnsavedChanges:!1})},t.renderEditor=function renderEditor(){var e=this.props,t=e.courseId,n=e.submissionPart,i=e.update,a=e.blockSubmit,s=e.disabled,o=e.isPartReceivingInlineFeedback,c=e.submissionSchemaPart,u=e.versionedAssignmentId,d=e.dtdIdOverride,l=e.itemId;switch(n.typeName){case"plainText":return r.createElement(Nn,{submissionPart:n,ariaLabelledBy:this.promptId,ariaDescribedby:this.validationLabelId,id:this.inputId,update:i,disabled:s});case"richText":return r.createElement(ni,{submissionPart:n,update:this.updatePart,disabled:s,courseId:t,submissionSchemaPart:c,ariaLabelledBy:this.promptId,ariaDescribedby:this.validationLabelId,versionedAssignmentId:u,dtdIdOverride:d,itemId:l});case"url":return r.createElement(ri,{submissionPart:n,id:this.inputId,update:this.updatePart,disabled:s,ariaLabelledBy:this.promptId,ariaDescribedby:this.validationLabelId});case"fileUpload":return r.createElement(Rn.a,{id:this.inputId,submissionPart:n,update:this.updatePart,blockSubmit:a,disabled:s,isPartReceivingInlineFeedback:o,ariaDescribedby:this.validationLabelId});case"offPlatform":return oi||(oi=r.createElement(Tn.a,null));default:return!1}},t.render=function render(){var e=this,t=this.props,n=t.submissionSchemaPart,i=t.errorTree,a=t.showValidation,s=t.renderInlineNode,o=t.partId,c=t.courseId,u=n.id,d=this.state.showCopyDeterrenceNotification;return r.createElement("div",{className:"rc-SubmissionPartEditView",id:u},r.createElement("div",{className:"c-peer-review-submit-prompt"},r.createElement("div",{"data-test":"question-content",onCut:this.preventAction,onCopy:this.preventAction},r.createElement(ai.a,{content:n.prompt,assumeStringIsHtml:!0,contentId:this.promptId,display:"inline-block"})),s&&s(o,n.prompt)),Object(ot.f)()&&d&&r.createElement("div",{className:"deterrence-notification"},r.createElement(un.a,{onDismiss:function onDismiss(){return e.toggleCopyDeterrenceNotification(!1)}})),Object(ot.b)(c)&&r.createElement("div",{className:"deterrence-notification"},r.createElement(In,{partId:this.props.partId})),Object(ot.e)(c)&&r.createElement("div",{className:"deterrence-notification"},r.createElement(On,{partId:this.props.partId})),a&&i&&r.createElement(cn.a,{id:this.validationLabelId,errorTree:i}),this.renderEditor())},SubmissionPartEditView}(r.Component),di=t("jcHc"),li,mi,pi=function(e){function AssignmentSubmitEditView(t){var n;return(n=e.call(this,t)||this).handleTitleChange=function(e){var t=n.props.updateSubmissionTitle;e.target instanceof HTMLInputElement&&(n.setState({inputValue:e.target.value}),t(e.target.value))},n.handleInputWithErrorFocus=function(){var e,t,i=(n.props.submissionAppState||{}).showValidation,r=n.state,a=r.firstSubmissionSchemaPartWithError,s=r.titleHasError;if(i){var o=document.getElementById("input-".concat((a||{}).id));if(s)return void(n.titleInputRef&&n.titleInputRef.focus());a&&o&&o.focus()}},n.getFirstSubmissionSchemaPartWithError=function(){var e=n.props,t=e.submissionSchema,i=e.errorTree;return t.parts.find((function(e){var t=e.id;return(((i.children||{})[t]||{}).errors||[]).length>0}))},n.updateFirstValidationError=function(){var e=n.props,t=e.submissionAppState,i=e.errorTree,r=t.showValidation,a=null;if(r){var s=n.state,o=s.firstSubmissionSchemaPartWithError,c;s.titleHasError?a=i.errors&&i.errors.map((function(e){return e.errorMessage})).join(" "):o&&(a=(((i.children||{})[o.id]||{}).errors||[]).map((function(e){return e.errorMessage})).join(" "))}n.handleInputWithErrorFocus(),setTimeout((function(){n.setState({firstValidationError:a})}),1500)},n.state={firstValidationError:null,titleHasError:!1,firstSubmissionSchemaPartWithError:null,inputValue:t.submission.title?t.submission.title:""},n}i()(AssignmentSubmitEditView,e);var t=AssignmentSubmitEditView.prototype;return t.componentDidUpdate=function componentDidUpdate(e){var t=this.props,n=t.submissionAppState,i=t.errorTree,r=n.showValidation;if(e.submissionAppState.showValidation!==r){var a=this.getFirstSubmissionSchemaPartWithError(),s;a&&(s=a),this.setState(Q()({titleHasError:i.errors&&i.errors.length>0},{firstSubmissionSchemaPartWithError:s}),this.updateFirstValidationError)}},t.render=function render(){var e=this,t=this.props,n=t.courseId,i=t.submission,a=t.submissionSchema,s=t.errorTree,o=t.isSubmitted,c=t.submissionAppState,u=c.saveState,d=c.submitState,l=c.showValidation,m=t.renderInlineNode,p=t.updateSubmissionPartGenerator,h=t.blockSubmitPartGenerator,b=t.itemId,f=t.versionedAssignmentId,g=t.creatorId,v=t.draftHasLocalChanges,S=t.dtdIdOverride,I=this.state,y=I.firstValidationError,w=I.inputValue,C="saving"===u||"submitting"===d||o,E="submission-part-label-title-".concat(b),P=Hn()("Project Title"),A=Object(ot.e)(n)||Object(ot.b)(n);return r.createElement("div",{className:"rc-AssignmentSubmitEditView"},A&&(li||(li=r.createElement("div",{className:"simtext-submission-result"},r.createElement(on,null)))),r.createElement("div",{className:"project-title",id:"titleLabel"},P," *"),l&&r.createElement(cn.a,{id:E,errorTree:s}),r.createElement("input",{className:"c-peer-review-submit-text-field bt3-form-control",type:"text","aria-label":P,defaultValue:i.title,placeholder:w.length?"":Hn()("Give your project a descriptive title"),onChange:this.handleTitleChange,"aria-required":!0,"aria-describedby":E,disabled:C,id:"title",ref:function ref(t){e.titleInputRef=t}}),r.createElement("div",{className:"parts"},a.parts.map((function(e){var t=null;return t=i.parts&&i.parts[e.id]?i.parts[e.id]:i.invalidParts[e.id],r.createElement(ui,{courseId:n,key:e.id,partId:e.id,submissionSchemaPart:e,submissionPart:t,update:p(e.id),blockSubmit:h(e.id),disabled:C,errorTree:s&&s.children[e.id],showValidation:l,renderInlineNode:m,itemId:b,versionedAssignmentId:f,creatorId:g,draftHasLocalChanges:v,dtdIdOverride:S})}))),r.createElement("div",{className:"sr-only","aria-live":"polite",role:"region"},l&&y))},AssignmentSubmitEditView}(r.Component),hi=t("MnCE"),bi=t("kgYC"),fi=t("37kS"),gi=t.n(fi),vi=t("06Ht"),Si=function(e){function AssignmentUpgradeChanges(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).renderChange=function(e,n){if("AddsPart"===e.typeName)return t.renderChangeItem(n,"cif-plus-square",gi()("Added question."),r.createElement("tr",{className:"bt3-success"},r.createElement("th",null,gi()("Added")),r.createElement("td",{className:"change-contents"},r.createElement("div",null,r.createElement(ai.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))));if("RemovesPart"===e.typeName)return t.renderChangeItem(n,"cif-minus-square",gi()("Removed question."),r.createElement("tr",{className:"bt3-danger"},r.createElement("th",null,gi()("Removed")),r.createElement("td",{className:"change-contents"},r.createElement("div",null,r.createElement(ai.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))));if("ChangesPart"===e.typeName){var i=e.definition.changes,a=i.find((function(e){return"ChangesPrompt"===e.typeName})),s=i.filter((function(e){return"ChangesPrompt"!==e.typeName}));return t.renderChangeItem(n,"cif-square",gi()("Changed question."),[r.createElement("tr",{className:Ut()({"bt3-danger":!!a}),key:"changedQuestionPrompt"},r.createElement("th",null,gi()("Original")),r.createElement("td",{className:"change-contents"},r.createElement("div",null,r.createElement(ai.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))),a&&t.renderPartChange(a,"promptChange"),s.map(t.renderPartChange),0===i.length&&gi()("Unknown change.")])}return null},t.renderPartChange=function(e,t){var n="ChangesPrompt"===e.typeName?gi()("New"):"",i=!1;return"ChangesPrompt"===e.typeName?i=r.createElement("div",{key:t},r.createElement(ai.a,{assumeStringIsHtml:!0,content:e.definition.newPrompt})):"ChangesPoints"===e.typeName?i=gi()("The new version of this question has different point values."):"ChangesOptions"===e.typeName?i=gi()("The new version of this multiple choice question has different options."):"ChangesValidationRules"===e.typeName&&(i=gi()("The new version of this question allows a different set of responses.")),r.createElement("tr",{className:"ChangesPrompt"===e.typeName?"bt3-success":"bt3-warning",key:t},r.createElement("th",null,n),r.createElement("td",{className:"change-contents"},i))},t}i()(AssignmentUpgradeChanges,e);var t=AssignmentUpgradeChanges.prototype;return t.excludeNoChangeChanges=function excludeNoChangeChanges(e){return e.filter((function(e){return"NoChange"!==e.typeName}))},t.renderChangeGroup=function renderChangeGroup(e,t){var n=this.excludeNoChangeChanges(e);return 0!==n.length&&r.createElement("div",null,r.createElement("h2",null,t),r.createElement("ul",{className:"cif-list-ul"},n.map(this.renderChange)))},t.renderChangeItem=function renderChangeItem(e,t,n,i){return r.createElement("li",{className:"change-item",key:e},r.createElement("i",{className:t}),r.createElement("span",{className:"type-of-change"},n),r.createElement("div",{className:"change-table-container"},r.createElement("table",{className:"bt3-table"},r.createElement("tbody",null,i))))},t.render=function render(){return r.createElement("div",{className:"rc-AssignmentUpgradeChanges"},this.renderChangeGroup(this.props.upgradeToCurrentAssignment.submissionSchemaChanges,gi()("Assignment question changes")),this.renderChangeGroup(this.props.upgradeToCurrentAssignment.reviewSchemaChanges,gi()("Review question changes")))},AssignmentUpgradeChanges}(r.Component);Si.propTypes={upgradeToCurrentAssignment:h.a.object.isRequired};var Ii=Si,yi=t("+2ZD"),wi,Ci=function AssignmentUpgradeModal(e){var t=e.onClickUpgrade,n=e.modalOpen,i=e.onModalClose,a=e.upgradeToCurrentAssignment,s=!1,o=!1;if(!n)return null;return null!=a&&("NotifiesUser"===a.severity?(s=gi()("Upgrade assignment"),o=r.createElement("p",null,gi()('\n            The assignment changed since you started working on it. Click\n            "Upgrade assignment" to get the new assignment. Please read the\n            new assignment carefully and update your submission to follow\n            the new instructions.\n          '))):"ClearsSubmission"===a.severity&&(s=gi()("Delete draft and upgrade assignment"),o=r.createElement("p",null,gi()("\n            The assignment changed since you started working on it. We need\n            to delete your draft to give you the new assignment.\n          ")," ",r.createElement("strong",null,gi()("\n              Please save a copy of your submission outside Coursera before\n              continuing.\n            "))," ",gi()('\n            Click "Delete draft and upgrade assignment" to get the new\n            assignment. If you’d like to not update your assignment, you can click “Cancel” and submit your answers on the old version.\n          ')))),r.createElement(yi.a,{handleClose:i,modalName:gi()("New assignment version")},r.createElement("div",{className:"rc-AssignmentUpgradeNotification assignment-upgrade-explanation"},r.createElement("h3",null,gi()("New assignment version")),o,null!=a&&r.createElement(Ii,{upgradeToCurrentAssignment:a}),r.createElement("div",{className:"c-modal-action-bar"},r.createElement("button",{type:"button",className:"bt3-btn c-modal-action-button",onClick:i},gi()("Cancel")),r.createElement("button",{type:"button",className:"bt3-btn bt3-btn-success c-modal-action-button",onClick:t},s))))},Ei,Pi=function AssignmentUpgradeNotification(e){var t=e.upgradeToCurrentAssignment,n=e.onRequestUpgrade,i=e.showStaleAssignmentVersionError,a=Object(bi.a)(),s=Object(r.useState)(!1),o=Ve()(s,2),c=o[0],u=o[1],d=Ut()({"bt3-alert":!0,"bt3-alert-info":!i,"bt3-alert-danger":i});if(!t||"AutomaticallyUpgrades"===t.severity)return null;return(r.createElement("div",{className:"rc-AssignmentUpgradeNotification"},r.createElement("div",{style:{background:a.palette.blue[100],border:"none",color:a.palette.black[500]},className:d},gi()("A new version of this assignment exists.")," ",r.createElement("button",{type:"button",style:{color:a.palette.blue[600]},className:"button-link",onClick:function onClick(){return u(!0)}},gi()("Click here to see the changes and get the new version."))),c&&r.createElement(Ci,{upgradeToCurrentAssignment:t,modalOpen:c,onModalClose:function onModalClose(){return u(!1)},onClickUpgrade:function onClickUpgrade(){n(),u(!1)}})))},Ai=function(e){function PeerItemUpgradeNotification(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).onRequestUpgrade=function(){var e=t.props,n=e.courseId,i=e.courseSlug,r=e.computedItem.id,a=e.submission,s=e.assignmentVersion,o=e.forceUpgradeToAssignmentVersion;t.context.executeAction(Yt.g,{itemId:r,submission:a,assignmentVersion:s,forceUpgradeToAssignmentVersion:o,courseId:n,courseSlug:i,userId:l.a.get().id})},t}var t;return i()(PeerItemUpgradeNotification,e),PeerItemUpgradeNotification.prototype.render=function render(){if(null==this.props.upgradeToCurrentAssignment)return null;return(r.createElement("div",{className:"rc-PeerItemUpgradeNotification"},r.createElement(Pi,{onRequestUpgrade:this.onRequestUpgrade,upgradeToCurrentAssignment:this.props.upgradeToCurrentAssignment,showStaleAssignmentVersionError:this.props.showStaleAssignmentVersionError})))},PeerItemUpgradeNotification}(r.Component);Ai.contextTypes={executeAction:h.a.func.isRequired};var Oi=Object(hi.b)(Object(c.a)(["PeerSubmissionDraftStore","CourseStore"],(function(e){var t=e.PeerSubmissionDraftStore,n=e.CourseStore,i,r=t.getState().latestSubmissionAndRelated,a=null,s=null,o=null;return null!=r&&(a=r.upgradeToCurrentAssignment,s=r.submissionSchema.assignmentVersion,o=r.upgradeToCurrentAssignment&&r.upgradeToCurrentAssignment.upgradeToVersion),{submission:r&&r.submission,upgradeToCurrentAssignment:a,assignmentVersion:s,forceUpgradeToAssignmentVersion:o,courseId:n.getCourseId(),courseSlug:n.getCourseSlug()}})))(Ai),Ri=t("SJ7i"),Ti=t("aFpJ"),ji=t("sldo"),Ni=t("JJfJ"),xi=t("AWZ4"),ki=t("PB6g"),Di=t("q5zD"),_i=t("rQpo"),Mi=t("lrid"),Vi,Ui,Li=Object(Qe.d)({type:"BUTTON"})(xi.b),Hi=function(e){function AssignmentSubmitControls(){return e.apply(this,arguments)||this}var t;return i()(AssignmentSubmitControls,e),AssignmentSubmitControls.prototype.render=function render(){var e=Ut()("rc-AssignmentSubmitControls","horizontal-box","align-items-right","align-items-vertical-center"),t=this.props,n=t.computedItem,i=t.courseId,a=t.lastSaveTime,s=t.isSaving,o=t.isSubmitting,c=t.submitMessage,u=Object($t.n)(n),d=s?Ht()("Saving draft..."):Ht()("Submitting assignment...");return r.createElement("div",{className:e},r.createElement("div",{className:"save-state-display horizontal-box",id:"last-saved-text"},a&&a>0?r.createElement("div",{className:"color-secondary-text caption-text"},r.createElement(Mn.b,{message:Ht()("Last saved on {lastSaveDate} at {lastSaveTime}"),lastSaveDate:Object(Ni.w)(a,Ni.c),lastSaveTime:Object(Ni.w)(a,Ni.s)})):r.createElement("div",{className:"color-secondary caption-text"},Ht()("This project has not been saved."))),r.createElement(ki.b,{tagName:"span","aria-live":"polite"},s||o?d:null),u&&r.createElement(_i.a,{courseId:i}),!u&&r.createElement("div",null,r.createElement(Li,{type:"secondary",rootClassName:"save-draft","data-e2e":"save-draft",disabled:s||o,onClick:this.props.onSave,trackingName:"save",htmlAttributes:{"aria-label":Ht()("Save draft"),"aria-describedby":"last-saved-text"}},r.createElement("span",{"aria-hidden":!0},s?Vi||(Vi=r.createElement(Di.a,{name:"spinner",className:"cif-spin"})):Ht()("Save draft"))),r.createElement(Li,{type:"primary",rootClassName:"preview","data-e2e":"preview",onClick:this.props.onSubmit,disabled:s||o||this.props.isSubmitDisabled,trackingName:"submit",htmlAttributes:{"aria-label":c}},r.createElement("span",{"aria-hidden":!0},o?Ui||(Ui=r.createElement(Di.a,{name:"spinner",className:"cif-spin"})):c))))},AssignmentSubmitControls}(r.Component);Hi.defaultProps={submitMessage:Ht()("Submit for review"),isSubmitDisabled:!1};var Bi=Object(hi.b)(Object(c.a)(["CourseStore"],(function(e){var t;return{courseId:e.CourseStore.getCourseId()}})))(Hi),qi={SUBMITTING:"submitting",SUBMIT_ERROR:"submitError",READY:"ready",SAVING:"saving",SAVE_ERROR:"saveError"},Wi=qi,Fi=qi.SUBMITTING,Gi=qi.SUBMIT_ERROR,$i=qi.READY,zi=qi.SAVING,Qi=qi.SAVE_ERROR,Yi=t("yU7s"),Xi=t("aUWt"),Ji=t("Q/np"),Ki=t("O+1n"),Zi=t("4uky"),er=t("6/Gu"),tr=t("8xbv"),nr=t("iNi2"),ir=t("IDuc"),rr=t("yOiu"),ar=t.n(rr),sr,or=function(e){function PurchaseCoursePromptButton(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.onClick=function(){return t.setState({showModal:!0})},t.onClose=function(){return t.setState({showModal:!1})},t}var t;return i()(PurchaseCoursePromptButton,e),PurchaseCoursePromptButton.prototype.render=function render(){var e=this.state.showModal,t=this.props,n=t.className,i=t.courseId,a=t.buttonText,s=t.buttonClassName;return r.createElement("div",{className:Ut()("rc-PurchaseCoursePromptButton",n)},r.createElement(ir.a,{className:Ut()("c-open-single-page-action-button",s||"primary"),onClick:this.onClick,trackingName:"upgrade"},a||ar()("Upgrade to submit")),e&&r.createElement(nr.a,{courseId:i,onClose:this.onClose}))},PurchaseCoursePromptButton}(r.Component),cr,ur,dr,lr,mr,pr={root:function root(){return Object(qe.c)(cr||(cr=St()(["\n    text-align: right;\n    margin-top: var(--cds-spacing-300);\n  "])))},saveStateDisplay:function saveStateDisplay(){return Object(qe.c)(ur||(ur=St()(["\n    margin-right: var(--cds-spacing-300);\n    display: inline-block;\n  "])))},saveDraftButton:function saveDraftButton(){return Object(qe.c)(dr||(dr=St()(["\n    margin-right: var(--cds-spacing-200);\n  "])))}},hr=function PeerReviewAssignmentSubmitControls(e){var t=e.computedItem,n=e.courseId,i=e.lastSaveTime,a=e.isSaving,s=e.isSubmitting,o=e.onSave,c=e.onSubmit,u=e.submitMessage,d=void 0===u?Ht()("Submit"):u,l=e.isSubmitDisabled,m=void 0!==l&&l,p=Object($t.n)(t),h=a?Ht()("Saving draft..."):Ht()("Submitting assignment...");return Object(qe.d)(er.a,{css:pr.root},Object(qe.d)(ln.a,{variant:"body2",color:"supportText",css:pr.saveStateDisplay,id:"last-saved-text"},i&&i>0?Object(qe.d)(Mn.b,{message:Ht()("Last saved on {lastSaveDate} at {lastSaveTime}"),lastSaveDate:Object(Ni.w)(i,Ni.c),lastSaveTime:Object(Ni.w)(i,Ni.s)}):Ht()("This project has not been saved.")),Object(qe.d)(ki.b,{tagName:"span","aria-live":"polite"},a||s?h:null),p&&Object(qe.d)(or,{courseId:n}),!p&&Object(qe.d)(r.Fragment,null,Object(qe.d)(Qe.b,{variant:"secondary","data-e2e":"save-draft",disabled:a||s,onClick:o,trackingName:"save","aria-label":Ht()("Save draft"),"aria-describedby":"last-saved-text",css:pr.saveDraftButton,size:"small"},Object(qe.d)("span",{"aria-hidden":!0},a?lr||(lr=Object(qe.d)(tr.a,{size:"small"})):Ht()("Save draft"))),Object(qe.d)(Qe.b,{variant:"primary","data-e2e":"preview",onClick:c,disabled:a||s||m,trackingName:"submit","aria-label":d,size:"small"},Object(qe.d)("span",{"aria-hidden":!0},s?mr||(mr=Object(qe.d)(tr.a,{size:"small"})):d))))},br=Object(hi.b)(Object(c.a)(["CourseStore"],(function(e){var t;return{courseId:e.CourseStore.getCourseId()}})))(hr),fr=t("iqnZ"),gr,vr=function PreviewModal(e){var t=e.handleClose;return Object(qe.d)(fr.a,{title:Ht()("Preview before submitting"),content:Object(qe.d)(ln.a,{variant:"body1"},Ht()("Take a moment to preview your work before you submit it, to make sure the work is completely your own and to see how it will look to your peers when they review it.")),primaryButtonContents:Ht()("Preview"),hideCancelButton:!0,onPrimaryButtonClick:t,onCancelButtonClick:t})},Sr=t("wd/R"),Ir=t.n(Sr),yr=t("kWps"),wr,Cr=function SubmitModal(e){var t=e.remainingAttempts,n=e.submissionDeadline,i=e.handleSubmit,r=e.handleCancel,a=t||0;return Object(qe.d)(fr.a,{title:Ht()("Ready to submit your assignment?"),content:Object(qe.d)(ln.a,{variant:"body1"},Object(qe.d)(Mn.b,{message:a>0?Ht()("Your submission counts as an attempt. You'll have {attemptsLeftAfterSubmission, plural, =1 {# more attempt} other {# more attempts available}}{deadline}."):Ht()("This is your last attempt. You'll have no more attempts after you submit."),attemptsLeftAfterSubmission:Math.max(a,0),deadline:n?Ht()(" until the deadline on #{formattedDeadline}",{formattedDeadline:yr.a.getFormattedDeadline(Ir()(n))}):""})),primaryButtonContents:Ht()("Submit"),hideCancelButton:!1,onPrimaryButtonClick:i,onCancelButtonClick:r})},Er=t("lSNA"),Pr=t.n(Er),Ar=t("7NTc"),Or=t("uhOI"),Rr=t("TSwX"),Tr=Ar.a.HeadingGroup,jr=Ar.a.Content,Nr=Ar.a.Actions,xr={title:function title(e){return Object(qe.c)({margin:e.spacing(12,0,32,0)})},notification:function notification(e){return Object(qe.c)({marginBottom:e.spacing(24)})},buttons:function buttons(e){return Object(qe.c)(Pr()({},e.breakpoints.down("xs"),{display:"flex",flexDirection:"column",alignItems:"flex-start"}))},button:function button(e){return Object(qe.c)({marginRight:e.spacing(24),marginBottom:e.spacing(16)})},message:function message(e){return Object(qe.c)({paddingTop:e.spacing(12)})}},kr=function renderHeadline(e){if(e)return Ht()("Missing or invalid answers");return Ht()("Ready to submit?")},Dr,_r=function SubmitModalV2(e){var t=e.handleSubmit,n=e.handleCancel,i=e.isSubmitting,a=e.isInvalid,s=e.remainingAttempts,o=e.submissionDeadline,c=e.isPeerReviewAttemptsLimitsEpicEnabled,u=e.loadingIntegrityStatus,d=e.isActivelyDeterred,l=e.isPassivelyDeterred,m=Ht()("Submit"),p=s||0,h=i||u,b=kr(a||d||l);return Object(qe.d)(Ar.a,{open:!0,onClose:n,"aria-describedby":b},Object(qe.d)(Tr,null,b),Object(qe.d)(jr,null,Object(qe.d)("div",{"data-e2e":"SubmitDialog__content"},(a||d)&&Object(qe.d)(an.a,{css:xr.notification,severity:"error","data-e2e":"SubmitDialog__notification"},Ht()("Your assignment couldn’t be submitted for grading.")),l&&!d&&Object(qe.d)(r.Fragment,null,Object(qe.d)(an.a,{css:xr.notification,severity:"warning","data-e2e":"SubmitDialog__notification"},Ht()("We found potential content issues.")),Object(qe.d)(ln.a,{variant:"body1"},Ht()("Do you still want to submit this assessment?"))),d&&Object(qe.d)(ln.a,{variant:"body1"},Ht()("We found content issues in your assignment. Check the notifications and make any required changes before you submit your assignment again.")),!l&&!d&&Object(qe.d)(ln.a,{variant:"body1"},Ht()("You won’t be able to make changes after submitting. Do you still want to submit this assessment?")),c&&Object(qe.d)(ln.a,{variant:"body1",css:xr.message},Object(qe.d)(Mn.b,{message:p>0?Ht()("Your submission counts as an attempt. You'll have {attemptsLeftAfterSubmission, plural, =1 {# more attempt} other {# more attempts available}}{deadline}."):Ht()("This is your last attempt. You'll have no more attempts after you submit."),attemptsLeftAfterSubmission:Math.max(p,0),deadline:o?Ht()(" until the deadline on #{formattedDeadline}",{formattedDeadline:yr.a.getFormattedDeadline(Ir()(o))}):""})))),Object(qe.d)(Nr,null,Object(qe.d)("div",{"data-e2e":"SubmitDialog__controls"},Object(qe.d)("div",{css:xr.buttons,"data-e2e":"AttemptViewSubmitControls__buttons"},!d&&Object(qe.d)(Rr.a,{onClick:t,apiStatus:h?Or.c:Or.a,variant:"primary","data-test":"dialog-submit-button",css:xr.button,label:h?Ht()("Submitting..."):m}),!h&&!d&&Object(qe.d)(dn.a,{onClick:n,"data-test":"dialog-cancel-button",variant:"secondary",css:xr.button},Ht()("Cancel")),d&&Object(qe.d)(dn.a,{onClick:n,"data-test":"dialog-cancel-button",variant:"primary",css:xr.button},Ht()("Okay"))))))},Mr,Vr={auditFlowUpgrade:function auditFlowUpgrade(e){return Object(qe.c)(Mr||(Mr=St()(["\n    padding: ",";\n    "," {\n      padding: ",";\n    }\n    a {\n      color: "," !important;\n    }\n  "])),e.spacing(32,0,48),e.breakpoints.down("md"),e.spacing(24,0,48),e.palette.white)}},Ur=function(e){function PeerItemVerificationSubmission(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={isSubmitting:!1,isAgreementComplete:!1,confirmedPreview:!1,showPreviewModal:!1,fullName:"",hasError:!1,showHonorCodeModal:!1,showSubmitModal:!1},t.handleSubmissionClicked=function(){var e=t.props.computedItem.courseId,n=Object(ot.b)(e)||Object(ot.e)(e),i;Object(ot.a)()||!n&&!Object(ot.g)()?t.handleSubmitConfirmation():t.setState({showHonorCodeModal:!0})},t.handleSubmitModalClose=function(){t.setState({showSubmitModal:!1,showPreviewModal:!1})},t.handleHonorCodeRejected=function(){t.setState({showHonorCodeModal:!1,confirmedPreview:!1}),t.props.handleHonorCodeRejected()},t.handleHonorCodeAccepted=function(){t.setState({showHonorCodeModal:!1}),t.handleSubmitConfirmation()},t.handleSubmit=function(){if(t.setState({showSubmitModal:!1}),!t.props.isVerifiable)return void t.props.handleSubmit();Object(ot.a)()?t.setState({hasError:!1}):t.setState({isSubmitting:!0,hasError:!1});var e=null;Object(Ki.a)().then((function(n){return e=n,Object(Ki.b)(e,t.state.fullName)})).then((function(){null!=e&&t.props.handleSubmit(e)})).catch((function(){return t.setState({isSubmitting:!1,hasError:!0})})).done()},t.handleSubmitConfirmation=function(){var e=t.props,n=e.latestAttemptSummary,i=e.isPeerReviewAttemptsLimitsEpicEnabled;!Object(ot.a)()&&i&&n&&(null==n?void 0:n.remainingAttempts)>=0?t.setState({showSubmitModal:!0}):t.handleSubmit()},t.handleClickPreview=function(){t.setState({showPreviewModal:!0,confirmedPreview:!1})},t.scrollToTop=function(){var e=document.querySelector('[data-id="item-scroll-container"]'),t;e&&(null===(t=e.scroll)||void 0===t||t.call(e,{top:0,behavior:"smooth"}))},t.handlePreviewModalClose=function(){t.props.handleSave(!0),t.setState({showPreviewModal:!1,confirmedPreview:!0}),t.scrollToTop()},t.onAgreementComplete=function(e){t.setState({isAgreementComplete:!0,fullName:e})},t.onAgreementIncomplete=function(){t.setState({isAgreementComplete:!1})},t}i()(PeerItemVerificationSubmission,e);var t=PeerItemVerificationSubmission.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props.submissionAppState.submitState===Fi,n=e.submissionAppState.submitState===Fi;e.draftHasLocalChanges&&!this.props.draftHasLocalChanges&&this.setState({confirmedPreview:!1}),t&&!n?this.setState({isSubmitting:!1}):!t&&n&&this.setState({isSubmitting:!0})},t.render=function render(){var e,t=this.props,n=t.submissionAppState,i=t.lastSaveTime,a=t.handleSave,s=t.isVerifiable,o=t.computedItem,c=t.blockSubmit,u=t.capabilitiesWithReasons,d=t.assignmentId,m=t.latestAttemptSummary,p=t.submissionDeadline,h=t.isPeerReviewAttemptsLimitsEpicEnabled,b=t.getShouldDeterLearnerFromSubmitting,f=t.handleAuditStartFreeTrial,g=t.isAuditFlow,v=t.hasGibberishOrPlagiarismInSubmission,S=t.theme,I=t.loadingIntegrityStatus,y=t.showV2SubmitModal,w=t.onV2SubmitModalClose,C=this.state,E=C.isAgreementComplete,P=C.isSubmitting,A=C.hasError,O=C.showHonorCodeModal,R=null==u?void 0:null===(e=u.anonymousPeerReview)||void 0===e?void 0:e.isAllowed,T=Object(ot.b)(o.courseId)||Object(ot.e)(o.courseId),j=(T||Object(ot.g)())&&O,N=T&&b(),x=T&&v,k=Object(ot.a)(),D=Ht()("Preview"),M=this.handleClickPreview;(k||this.state.confirmedPreview&&!N)&&(D=Ht()("Submit"),M=this.handleSubmissionClicked);var V=h?br:Bi;return Object(qe.d)("div",{className:"rc-PeerItemVerificationSubmission",style:{marginTop:S.spacing(32),marginBottom:S.spacing(32)}},(s||k)&&Object(qe.d)(Ti.a,{onAgreementComplete:this.onAgreementComplete,onAgreementIncomplete:this.onAgreementIncomplete,isShownInsideModal:!1}),j&&Object(qe.d)(ji.a,{"data-test":"HonorCodeModalV2",onAccept:this.handleHonorCodeAccepted,onClose:this.handleHonorCodeRejected,courseId:o.courseId,trackingData:{user_id:l.a.get().id,course_id:o.courseId,peer_assignment_id:d}}),R&&Object(qe.d)(Zi.a,null,Ht()("Your submission will be anonymous to fellow learners and your name will be visible to course instructors.")),Object($t.n)(o)&&g&&f?Object(qe.d)("div",{css:Vr.auditFlowUpgrade},Object(qe.d)(Yi.a,{onStartFreeTrial:f})):Object(qe.d)(V,{lastSaveTime:i,isSaving:n.saveState===zi,isSubmitting:P||!!I,onSave:function onSave(){return a()},onSubmit:M,submitMessage:D,isSubmitDisabled:(s||k)&&!E||c,computedItem:o}),A&&Object(qe.d)("div",{className:"align-right caption-text",style:{marginTop:12}},Ht()("An error has occurred while submitting. Please try again.")),!k&&Object(qe.d)(r.Fragment,null,!h&&this.state.showPreviewModal&&Object(qe.d)(vr,{handleClose:this.handlePreviewModalClose}),h&&Object(qe.d)(r.Fragment,null,this.state.showPreviewModal&&Object(qe.d)(vr,{handleClose:this.handlePreviewModalClose}),this.state.showSubmitModal&&Object(qe.d)(Cr,{remainingAttempts:null==m?void 0:m.remainingAttempts,submissionDeadline:p,handleSubmit:this.handleSubmit,handleCancel:this.handleSubmitModalClose}))),k&&y&&Object(qe.d)(_r,{remainingAttempts:null==m?void 0:m.remainingAttempts,isActivelyDeterred:N,isPassivelyDeterred:x,submissionDeadline:p,handleSubmit:this.handleSubmit,handleCancel:w,loadingIntegrityStatus:I,isInvalid:A,isSubmitting:P,isPeerReviewAttemptsLimitsEpicEnabled:h}))},PeerItemVerificationSubmission}(r.Component),Lr=function PeerItemVerificationSubmissionContainer(e){var t=ft(),n=t.getShouldDeterLearnerFromSubmitting,i=t.getHasPlagiarismInSubmission,r=t.getHasGibberishInSubmission,a=t.isChecking,s=Object(Xi.c)(),o=null==s?void 0:s.handleStartFreeTrialClick,c=i()||r();return Object(qe.d)(Ur,_e()({},e,{isAuditFlow:!(null==s||!s.auditUpgradeFlowExperiment.isVariantC()),handleAuditStartFreeTrial:o,getShouldDeterLearnerFromSubmitting:n,hasGibberishOrPlagiarismInSubmission:c,loadingIntegrityStatus:a}))},Hr=Object(hi.b)(Object(c.a)(["CourseStore"],(function(e){var t,n=e.CourseStore.getPartnerId();return{isPeerReviewAttemptsLimitsEpicEnabled:!!n&&Object(Ji.a)(n)}})),Ri.a)(Lr),Br=t("1xaR"),qr=t("BbiL"),Wr=t("4Vr2"),Fr,Gr=function GradingCriteriaPreviewModal(e){var t=e.criteria,n=e.partId,i=e.privilegedRoleViewReviewSchema,a=e.prompt,s=Object(r.useState)(!1),o=Ve()(s,2),c=o[0],u=o[1],d=function onClickModalOpen(e){e.preventDefault(),u(!0)},l=function onClickModalClose(){u(!1)},m="grading-criteria-prompt-".concat(n);if(0===t.length)return null;return(r.createElement("div",{className:"rc-GradingCriteriaPreviewModal"},r.createElement("div",{className:"grading-criteria-preview-controls"},r.createElement("button",_e()({type:"button",onClick:d,className:"button-link"},a&&{"aria-labelledby":m}),gi()("Preview grading criteria")),a&&r.createElement(qr.a,{tagName:"span",id:m},r.createElement(Mn.b,{message:gi()("Preview grading criteria for the prompt: {prompt}."),prompt:r.createElement(ai.a,{content:a,assumeStringIsHtml:!0,display:"inline-block"})}))),c&&r.createElement(yi.a,{handleClose:l,modalName:gi()("Preview grading criteria")},r.createElement("h1",null,gi()("Preview grading criteria")),i&&r.createElement("div",{className:"criteria-warning color-warn-dark"},gi()("You can preview the grading criteria because you have a privileged role in this course. Normal\n                  learners cannot see the grading criteria until they submit a submission.")),t.map((function(e){return r.createElement("div",{className:"criterion card-no-action compact",key:e.get("id")},r.createElement(ai.a,{content:e.get("prompt"),assumeStringIsHtml:!1}))})))))},$r=o.a.compose(Object(c.a)(["PeerPermissionsAndProgressesStore"],(function(e){var t=e.PeerPermissionsAndProgressesStore;return{hasLoaded:"loaded"===t.getState().loadState,capabilitiesWithReasons:t.getState().capabilitiesWithReasons}})),Object(m.a)((function(e){return e.hasLoaded})),Object(Ge.a)((function(e){var t,n=!1,i=null===(t=e.capabilitiesWithReasons)||void 0===t?void 0:t.viewReviewSchema;i&&(n=i.isAllowed&&"privilegedRole"===i.reason);var r=Object(Br.a)(e.reviewSchema);return{partId:e.partId,prompt:e.prompt,criteria:r.getPartsForSubmissionSchemaPart(e.partId),privilegedRoleViewReviewSchema:n}})))(Gr),zr=t("rYOX"),Qr=t("grTl"),Yr=t("JrTX"),Xr=t("jSbv"),Jr,Kr,Zr={notification:function notification(e){return Object(qe.c)({paddingTop:e.spacing(24),paddingBottom:e.spacing(24)})}},ea="peerSubmission/1",ta=3e3,na=function(e){function PeerItemEditView(t,n){var i;return(i=e.call(this,t,n)||this).handleRichTextDtdConversion=function(e){var t=e.definition.parts;return Object.values(t).forEach((function(e){if("richText"===e.typeName){var t=e.definition.richText;"string"!=typeof t&&"cml"===(null==t?void 0:t.typeName)&&(t.definition.dtdId=ea)}})),e},i.handleSubmit=function(e){var t=i.props,n=t.computedItem,r=t.latestSubmissionAndRelated,a=t.courseId,s=t.courseSlug;i.context.executeAction(Yt.f,{itemId:n.id,submission:i.handleRichTextDtdConversion(r.submission),assignmentVersion:r.submissionSchema.assignmentVersion,verifiableId:e,courseId:a,courseSlug:s,userId:l.a.get().id})},i.handleSubmitButtonClicked=function(e){var t=i.props,n=t.courseId,r=t.integrityContext,a=i.state.showSubmitDialog;Object(ot.a)()&&!a?Object(ot.b)(n)||Object(ot.e)(n)?(r.setIsChecking(!0),i.setState({verifiableId:e,isPreviewing:!0}),i.handleSave(!0)):i.showSubmitDialog():i.handleSubmit(e)},i.showSubmitDialog=function(){i.setState({showSubmitDialog:!0})},i.closeSubmitDialog=function(){i.setState({showSubmitDialog:!1})},i.getIntegrityStatus=function(){var e=i.props,t=e.courseId,n=e.latestSubmissionAndRelated,r=e.integrityContext,a=createIntegrityQuery(n);if(a.prompts.length>0){var s,o=lt(t);Le()(a,null===(s=i.state.integrityStatusVariables)||void 0===s?void 0:s.submission)?(r.setIsChecking(!1),i.showSubmitDialog()):(i.setState((function(){return{integrityStatusVariables:{orderedChecks:o,submission:a}}})),r.setIsChecking(!0))}else r.setIsChecking(!1),i.showSubmitDialog()},i.handleIntegrityStatusFetched=function(e){var t=i.props,n=t.integrityContext,r=t.courseId,a=t.eventData,s=t.latestSubmissionAndRelated;n.setIsChecking(!1),ht({courseId:r,eventData:a,integrityContext:n,latestSubmissionAndRelated:s,integrityStatus:e,scrollToTop:i.scrollToTop,showSubmitDialog:i.showSubmitDialog})},i.scrollToTop=function(){var e=document.querySelector('[data-id="item-scroll-container"]'),t;e&&(null===(t=e.scroll)||void 0===t||t.call(e,{top:0,behavior:"smooth"}))},i.handleSave=function(e){var t=i.props,n=t.computedItem,r=t.latestSubmissionAndRelated,a=t.courseId,s=t.isNewDraft,o=t.partnerId;i.autoSaveDraft.cancel(),i.setState({hasSaved:!0,isPreviewing:!!e}),i.context.executeAction(Yt.d,{courseId:a,isNewDraft:s,userId:l.a.get().id,itemId:n.id,submission:i.handleRichTextDtdConversion(r.submission),assignmentVersion:r.submissionSchema.assignmentVersion,partnerId:o})},i.handleAutoSave=function(){var e=i.props,t=e.computedItem,n=e.latestSubmissionAndRelated,r=e.courseId,a=e.isNewDraft,s=e.partnerId;i.setState({hasSaved:!0,isPreviewing:!1}),i.context.executeAction(Yt.a,{courseId:r,isNewDraft:a,userId:l.a.get().id,itemId:t.id,submission:i.handleRichTextDtdConversion(n.submission),assignmentVersion:n.submissionSchema.assignmentVersion,partnerId:s})},i.autoSaveDraft=Be()(i.handleAutoSave,ta),i.updateSubmissionPartGenerator=function(e){return function(t){var n=i.props.latestSubmissionAndRelated,r=E.a.extend(!0,{},n.submission);r.definition.parts[e]=t,i.context.executeAction(Yt.b,{submission:r}),i.autoSaveDraft()}},i.blockSubmitPartGenerator=function(e){return function(t){var n=i.state.blockSubmitParts,r=Object.assign({},n);r[e]=t,i.setState({blockSubmitParts:r})}},i.handleHonorCodeRejected=function(){i.setState({honorCodeRejected:!0}),Object(ot.g)()&&i.scrollToTop()},i.updateSubmissionTitle=function(e){var t=i.props.latestSubmissionAndRelated,n=E.a.extend(!0,{},t.submission);n.definition.title=e,i.context.executeAction(Yt.b,{submission:n})},i.renderPreviewGradingCriteria=function(e,t){var n=i.props.latestSubmissionAndRelated;return Object(qe.d)($r,{reviewSchema:n.reviewSchema,partId:e,prompt:t})},i.state={hasSaved:!1,isPreviewing:!1,blockSubmitParts:{},honorCodeRejected:!1},i}i()(PeerItemEditView,e);var t=PeerItemEditView.prototype;return t.componentDidUpdate=function componentDidUpdate(e){var t=this.props,n=t.submissionAppState,i=t.errorTree,r=i.children,a=i.errors,s=t.courseId,o=t.integrityContext,c=this.state.isPreviewing,u=(null==a?void 0:a.length)>=1||Object.values(r).some((function(e){var t;return(null===(t=e.errors)||void 0===t?void 0:t.length)>=1})),d="saving"===e.submissionAppState.saveState,l="ready"===n.saveState;(Object(ot.b)(s)||Object(ot.e)(s))&&(d&&l&&!u&&c?(this.setState({isPreviewing:!1}),this.getIntegrityStatus()):d&&l&&(o.setIsChecking(!1),u&&this.scrollToTop()))},t.render=function render(){var e,t=this.props,n=t.naptimeSubmission,i=t.naptimeSubmissionSchema,r=t.errorTree,a=t.computedItem,s=t.submissionAppState,c=t.isVerifiable,u=t.lastSaveTime,d=t.showStaleAssignmentVersionError,l=t.courseId,m=t.courseBranchId,p=t.latestSubmissionAndRelated,h=t.draftHasLocalChanges,b=t.capabilitiesWithReasons,f=t.isDegreeLearner,g=t.latestAttemptSummary,v=t.submissionDeadline,S=a.id,I=this.state,y=I.hasSaved,w=I.honorCodeRejected,C=I.integrityStatusVariables,E=I.showSubmitDialog,P=o.a.contains(o.a.values(this.state.blockSubmitParts),!0),A=p.submission,O=A.versionedAssignmentId,R=A.creatorId,T=null!==(e=null==O?void 0:O.split("@"))&&void 0!==e?e:[],j,N=Ve()(T,1)[0],x=!(f||u||a.isSubmitted||a.isStarted);return Object(qe.d)("div",{className:"rc-PeerItemEditView"},Object(qe.d)(rn,{itemId:S,courseBranchId:m,courseId:l,hasSaved:y}),Object(ot.g)()&&x&&Object(qe.d)("div",{css:Zr.notification},Jr||(Jr=Object(qe.d)(et,null))),Object(ot.g)()&&w&&Object(qe.d)("div",{css:Zr.notification},Kr||(Kr=Object(qe.d)(nt,null))),Object(qe.d)(Pt,{queryData:C,onDataLoaded:this.handleIntegrityStatusFetched},Object(qe.d)(Ft,{submissionAppState:s,errorTree:r,isSubmitted:!1},Object(qe.d)(Oi,{showStaleAssignmentVersionError:d,computedItem:a}),Object(qe.d)(pi,{courseId:l,submission:n,submissionSchema:i,errorTree:r,isSubmitted:!1,submissionAppState:s,updateSubmissionTitle:this.updateSubmissionTitle,updateSubmissionPartGenerator:this.updateSubmissionPartGenerator,blockSubmitPartGenerator:this.blockSubmitPartGenerator,renderInlineNode:this.renderPreviewGradingCriteria,itemId:S,versionedAssignmentId:O,creatorId:R,draftHasLocalChanges:h,dtdIdOverride:ea}),Object(qe.d)(Hr,{submissionAppState:s,lastSaveTime:u,handleSave:this.handleSave,handleSubmit:this.handleSubmitButtonClicked,handleHonorCodeRejected:this.handleHonorCodeRejected,blockSubmit:P,isVerifiable:c,computedItem:a,capabilitiesWithReasons:b,draftHasLocalChanges:h,assignmentId:N,latestAttemptSummary:g,submissionDeadline:v,showV2SubmitModal:E,onV2SubmitModalClose:this.closeSubmitDialog}))))},PeerItemEditView}(r.Component);na.contextTypes={executeAction:h.a.func.isRequired};var ia=function PeerItemEditViewComponent(e,t){return Object(qe.d)(gt,null,Object(qe.d)(bt.Consumer,null,(function(n){return Object(qe.d)(na,_e()({},e,{eventData:t._eventData,integrityContext:n}))})))};ia.contextTypes={_eventData:h.a.object};var ra=o.a.compose(Object(We.a)((function(e){return{showStaleAssignmentVersionError:!!e.location.query.showStaleAssignmentVersionError}})),Object(Fe.a)([Xr.a,Yr.a,Qt.a,zt.a,Gt.a,Qr.a,zr.a],(function(e,t,n,i,r,a,s,o){var c,u,d,l=o.computedItem,m=s.getState().displayablePhaseSchedule,p=a.getState();return{latestSubmissionAndRelated:e.getState().latestSubmissionAndRelated,naptimeSubmission:e.getState().naptimeSubmission,naptimeSubmissionSchema:e.getState().naptimeSubmissionSchema,draftHasLocalChanges:e.getState().hasLocalChanges,submissionAppState:t.getState(),isVerifiable:n.isProductVerificationEnabled()&&l&&Object($t.j)(l),courseId:i.getCourseId(),courseSlug:i.getCourseSlug(),courseBranchId:r.getBranchId()||i.getCourseId(),capabilitiesWithReasons:p.capabilitiesWithReasons,submissionDeadline:null==m?void 0:null===(c=m.phaseEnds)||void 0===c?void 0:c.submit,latestAttemptSummary:null===(u=p.submissionProgress)||void 0===u?void 0:u.latestAttemptSummary,isNewDraft:!(null!==(d=p.submissionProgress)&&void 0!==d&&d.latestDraftSummary),partnerId:i.getPartnerId()}})),Object(m.a)((function(e){var t;return e.latestSubmissionAndRelated}),Object(qe.d)(xe.a,{className:"rc-PeerItemEditView"})),Object(Ge.a)((function(e){return Q()(Q()({},e),{},{errorTree:e.latestSubmissionAndRelated.errorTree,lastSaveTime:e.latestSubmissionAndRelated.submission&&e.latestSubmissionAndRelated.submission.createdAt})})))(ia),aa=t("6xos"),sa,oa=function PeerAnonymousReviewNotification(e){var t=e.reviews,n=t.reviews.reduce((function(e,t){return t.isAnonymous?e+1:e}),0);if(0===n)return null;if(n===t.reviews.length)return r.createElement(Zi.a,null,Ht()("Your fellow learners have submitted their reviews anonymously. All names are still visible to course instructors."));return(r.createElement(Zi.a,null,Ht()("Some of your fellow learners have submitted their reviews anonymously. All names are still visible to course instructors.")))},ca=t("qPyB"),ua=t("7Diq"),da=t("C2np"),la=t("o5Sl"),ma=t("j/mg"),pa=t("nsyj"),ha=t("CLNb"),ba=t("T8wf"),fa=t("TSlG"),ga=function(e){function PeerSubmissionWithReviewBody(){return e.apply(this,arguments)||this}i()(PeerSubmissionWithReviewBody,e);var t=PeerSubmissionWithReviewBody.prototype;return t.shouldShowReviews=function shouldShowReviews(e){var t=this.props,n=t.reviewProgress,i=t.reviewSchema,r=t.reviews,a=t.computedItem,s=a.isGraded,c;if(0===(null!=i?o()(i.definition.parts).filter((function(t){return t.submissionSchemaPartId===e})):[]).length||s&&!Object($t.C)(a))return!1;return!!r&&r.length>0&&(!n||n&&n.isComplete)},t.render=function render(){var e=this,t=this.props,n=t.courseId,i=t.computedItem,a=t.submission,s=t.submissionId,o=t.submissionSchema,c=t.reviewSchema,u=t.reviewsSummary,d=t.reviews,l=t.isResubmissionDisabled,m=t.isPeerReviewAttemptsLimitsEpicEnabled,p=Object(Br.a)(c);return r.createElement("div",{className:"rc-PeerSubmissionWithReviewsBody"},!(!o||!a)&&o.parts.map((function(t){return r.createElement(ba.a,{key:t.id},r.createElement(pa.a,{submissionSchemaPart:t,submissionPart:a.parts[t.id]}),e.shouldShowReviews(t.id)&&r.createElement(ha.a,null,r.createElement(ua.a,{reviewSchema:p,reviewsSummary:u,reviews:d,submissionSchemaPartId:t.id,submissionId:s})))})),this.shouldShowReviews()&&r.createElement(ba.a,null,r.createElement(ha.a,null,r.createElement(ua.a,{reviewSchema:p,reviewsSummary:u,reviews:d,submissionSchemaPartId:null,submissionId:s}))),!!s&&!l&&!m&&r.createElement(ma.a,{computedItem:i,submissionId:s,className:"align-right",buttonMessage:Ht()("Edit submission")}),!!s&&!l&&m&&r.createElement(er.a,{container:!0,justifyContent:"flex-end"},r.createElement(la.a,{computedItem:i,buttonMessage:Ht()("Start new attempt")})),null!=s&&r.createElement(da.a,{computedItem:i,courseId:n,submissionId:s}))},PeerSubmissionWithReviewBody}(r.Component),va=Object(hi.b)(Object(c.a)(["PeerViewSubmissionStore","PeerPermissionsAndProgressesStore","CourseStore"],(function(e){var t=e.PeerViewSubmissionStore,n=e.PeerPermissionsAndProgressesStore,i=e.CourseStore,r=t.getState().submissionAndRelated,a,s=t.getState().reviewSubmissionState,o="loaded"===t.getState().loadState,c;o&&null!=s&&(c=s.backboneReviews);var u=n.getState().receivedReviewProgresses,d=u&&u.evaluationIfReady?{typeName:"structured",definition:u.evaluationIfReady.aggregatedReviewsSummary}:null,l=u?{isComplete:!!u.evaluationIfReady,earliestCompletionTime:u.earliestCompletionTime,reviewCount:u.reviewCount,minCompletionReviewCount:u.defaultReceivedReviewRequiredCount}:null,m=i.getPartnerId();return{submission:t.getState().naptimeSubmission,submissionId:t.getState().submissionId,reviews:c,reviewSchema:r&&r.reviewSchema,submissionSchema:t.getState().naptimeSubmissionSchema,reviewsSummary:d,reviewProgress:l,isPeerViewSubmissionStoreLoaded:o,isPeerReviewAttemptsLimitsEpicEnabled:!!m&&Object(Ji.a)(m)}})),Object(m.a)((function(e){return e.isPeerViewSubmissionStoreLoaded}),r.createElement(xe.a,{className:"rc-PeerSubmissionWithReviewsBody"})))(ga),Sa=t("kljU"),Ia=function PeerItemSubmittedView(e){var t=e.lastSaveTime,n=e.computedItem,i=e.title,a=e.submissionId,s=e.courseBranchId,o=e.courseId,c=e.isResubmissionDisabled,u=e.reviews,d=e.isAnonymousPeerReviewEnabled;return(r.createElement("div",{className:"rc-PeerItemSubmittedView rc-AssignmentSubmit"},r.createElement(rn,{itemId:n.id,courseBranchId:s,courseId:o,hasSubmitted:!0}),r.createElement(oa,{reviews:u}),r.createElement(aa.a,{title:i,createdAt:t,shareableLink:d?void 0:r.createElement(ca.a,{computedItem:n,submissionId:a})}),r.createElement(va,{courseId:o,computedItem:n,isResubmissionDisabled:c})))},ya=o.a.compose(Object(c.a)(["PeerViewSubmissionStore",zt.a,Gt.a,Qr.a],(function(e){var t,n,i,r,a=e.PeerViewSubmissionStore,s=e.CourseStore,o=e.SessionStore,c=e.WrappedReducerStore,u,d,l;return a.getState().submissionAndRelated&&(l=a.getState().submissionAndRelated.submission.definition.title,d=a.getState().submissionAndRelated.submission.id,u=a.getState().submissionAndRelated.submission.createdAt),{title:l,submissionId:d,lastSaveTime:u,reviews:null===(t=a.getState())||void 0===t?void 0:null===(n=t.reviewSubmissionState)||void 0===n?void 0:n.reviews,courseId:s.getCourseId(),courseBranchId:o.getBranchId()||s.getCourseId(),isAnonymousPeerReviewEnabled:(null===(i=c.getState().capabilitiesWithReasons)||void 0===i?void 0:null===(r=i.anonymousPeerReview)||void 0===r?void 0:r.isAllowed)||!1}})),Object(m.a)((function(e){return e.submissionId})),d.a.createTrackedContainer((function(){return{namespace:{page:"peer_review_my_project_review"}}})))(Ia),wa,Ca=function(e){function PeerItemSubmit(){return e.apply(this,arguments)||this}var t;return i()(PeerItemSubmit,e),PeerItemSubmit.prototype.render=function render(){var e=this.props,t=e.isSubmitted,n=e.latestSubmissionId,i=e.computedItem,a=e.loadedPeerViewSubmissionId,s=e.isResubmissionDisabled,o=a!==n;return r.createElement(Ne,{isSubmitted:t,editView:r.createElement(ra,{computedItem:i}),submittedView:o?wa||(wa=r.createElement(xe.a,{className:"rc-PeerItemSubmit"})):r.createElement(ya,{computedItem:i,isResubmissionDisabled:s})})},PeerItemSubmit}(r.Component),Ea=o.a.compose(d.a.createTrackedContainer((function(){return{namespace:{page:"peer_review_my_project"}}})),Object(c.a)(["CourseStore","PeerViewSubmissionStore","PeerPermissionsAndProgressesStore"],(function(e){var t=e.CourseStore,n=e.PeerViewSubmissionStore,i=e.PeerPermissionsAndProgressesStore;return{isPeerProgressesLoaded:"loaded"===i.getState().loadState,loadedPeerViewSubmissionId:n.getState().submissionId,isSubmitted:i.getState().isSubmitted,latestSubmissionId:i.getState().latestSubmissionId,courseId:t.getCourseId()}})),Object(m.a)((function(e){var t;return e.isPeerProgressesLoaded}),r.createElement(xe.a,{className:"rc-PeerItemSubmit"})),Object(u.a)((function(e,t){var n=t.computedItem,i=t.courseId,r=t.isSubmitted,a=t.latestSubmissionId,s=t.loadedPeerViewSubmissionId,o;r&&a&&(s!==a&&e.executeAction(ke.d,{userId:l.a.get().id,courseId:i,itemId:n.id,submissionId:a}))})))(Ca),Pa=e.default=Ea},"4uky":function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("EqTq"),a=t("QUzv"),s=t.n(a),o=Object(r.a)("PeerAnonymousNotification"),c=function PeerAnonymousNotification(e){var t=e.children;return(n.createElement("div",{className:o()},t))};e.a=c},"5Lf/":function(module,exports,e){},"5rI8":function(module,exports,e){},"5wfi":function(module,exports,e){e("5Lf/")},"6xos":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),s=t("dcEN"),o=t.n(s),c=t("17x9"),u=t.n(c),d=t("kvW3"),l=t("yhVA"),m=t.n(l),p=t("SVYm"),h=t.n(p),b=function(e){function MySubmissionHeader(){return e.apply(this,arguments)||this}var t;return i()(MySubmissionHeader,e),MySubmissionHeader.prototype.render=function render(){var e=this.props,t=e.title,n=e.createdAt,i=e.shareableLink;return(r.createElement("div",{className:"rc-MySubmissionHeader bt3-clearfix"},r.createElement("div",{className:"headline-4-text"},t),r.createElement("div",{className:"horizontal-box"},!!n&&r.createElement("div",{className:"caption-text color-secondary-text"},r.createElement(d.b,{message:m()("Submitted on {creatorName}"),creatorName:o()(n).format("LL")})),i&&r.createElement("div",{className:"flex-1 align-right caption-text"},i))))},MySubmissionHeader}(r.Component);b.propTypes={title:u.a.string.isRequired,createdAt:u.a.number,shareableLink:u.a.element},e.a=b},"7Diq":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("+KAk"),s=t("X129"),o,c=function DisplayPart(e){var t=e.reviewSchemaPart,n,i=Object(a.a)(t.get("typeName")).DisplayPart;return r.createElement("div",{className:"rc-DisplayPart"},r.createElement(i,e))},u=t("yhVA"),d=t.n(u),l=t("WS07"),m=function(e){function DisplayParts(){return e.apply(this,arguments)||this}var t;return i()(DisplayParts,e),DisplayParts.prototype.render=function render(){var e=this.props,t=e.reviewSchema,n=e.reviewsSummary,i=e.reviews,a=e.submissionSchemaPartId,s=e.submissionId,o=e.assignmentLevelPointsLabel,u=t.getPartsForSubmissionSchemaPart(a);if(0===u.length)return null;return(r.createElement("div",{className:"rc-DisplayParts bgcolor-white"},r.createElement("div",{className:"title horizontal-box align-items-spacebetween label-text color-secondary-text"},r.createElement("span",null,null!=a?d()("Rubric"):d()("Overall Assignment Rubric")),r.createElement("span",null,null===a&&o)),r.createElement("div",{className:"body-1-text"},u.map((function(e){return r.createElement(c,{key:e.get("id"),reviewSchemaPart:e,reviewsSummary:n,reviews:i,submissionId:s})})))))},DisplayParts}(r.Component),p=e.a=m},"9ZYf":function(module,exports,e){},AOca:function(module,exports,e){e("Qo1F")},AbQT:function(module,exports){function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="AbQT"},C2np:function(module,e,t){"use strict";var n=t("q1tI"),i=t("lSNA"),r=t.n(i),a=t("3tO9"),s=t.n(a),o=t("VbXa"),c=t.n(o),u=t("17x9"),d=t.n(u),l=t("HOoY"),m=t("EqTq"),p=t("sQ/U"),h=t("fw5G"),b=t.n(h),f=t("S+eF"),g=t.n(f),v=t("DnuM"),S=Object(v.a)("/api/onDemandPeerComments.v1",{type:"rest"}),I="onDemandSocialProfiles.v1",y=["comment","attachedAssignmentId","creatorId","createdAt","peerSubmissionId","".concat(I,"(userId,externalUserId,fullName,photoUrl,courseRole,isAnonymous)")],w=function getComments(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.submissionId,a=(new b.a).addQueryParam("q","submission").addQueryParam("userId",t.toString()).addQueryParam("peerSubmissionId","".concat(n,"~").concat(i,"~").concat(r)).addQueryParam("fields",y.join(",")).addQueryParam("includes","profiles");return g()(S.get(a.toString())).then((function(e){return{comments:e.elements,userProfiles:e.linked[I]}}))},C=function submitComment(e){var t=e.courseId,n=e.itemId,i=e.submissionId,r=e.comment,a=(new b.a).addQueryParam("fields",y.join(",")).addQueryParam("includes","profiles");return g()(S.post(a.toString(),{data:{comment:r,peerSubmissionId:"".concat(t,"~").concat(n,"~").concat(i)}})).then((function(e){return{comments:e.elements,userProfiles:e.linked[I]}}))},E=t("yhVA"),P=t.n(E),A=t("rn8S"),O=t("wd/R"),R=t.n(O),T=t("m10x"),j=t("ca6j"),N=t("E3EV"),x=Object(m.a)("CommentRow"),k,D=function CommentRow(e){var t=e.commentData,i=t.creator,r=t.comment;return(n.createElement("div",{className:x()},n.createElement("div",{className:x("profile-image-container")},n.createElement(j.a,{profile:i})),n.createElement("div",{className:x("comment-container")},n.createElement("div",{className:x("name-and-time-container")},n.createElement(T.b,{rootClassName:x("full-name",void 0,"pii-hide")},i.isAnonymous?P()("Anonymous Learner"):i.fullName),n.createElement("div",{className:x("comment-time")},R()(r.createdAt).fromNow())),n.createElement("div",{className:x("comment-content")},r.comment.definition.comment))))},M=t("8Ytk"),V=t("AWZ4"),U=t("2P4+"),L=Object(m.a)("CommentTextArea"),H,B=function(e){function CommentTextArea(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={},t.onChange=function(e){var n=e.target.value;t.setState({comment:n})},t.onPostClick=function(){var e=t.props.onPostingComment,n=t.state.comment;n&&e(n).then((function(){t.setState({comment:""})}))},t}var t;return c()(CommentTextArea,e),CommentTextArea.prototype.render=function render(){var e=this.props.submissionId,t=this.state.comment;return n.createElement("div",{className:L()},n.createElement("div",{className:L("profile-image-container",void 0,"pii-hide")},n.createElement(j.a,{profile:{photoUrl:p.a.get().photo_120,fullName:p.a.get().fullName}})),n.createElement("div",{className:L("input-container")},n.createElement(M.a,{label:P()("Enter Peer Review comments"),value:t,componentId:"".concat(e,"~comment"),placeholder:P()("Share your thoughts..."),onChange:this.onChange}),t&&n.createElement("div",{className:L("button-container")},n.createElement(V.b,{type:"secondary",size:"sm",label:P()("Post"),onClick:this.onPostClick}))))},CommentTextArea}(n.Component),q=Object(m.a)("CommentsContainer"),W={LOADING:"LOADING",LOAD_ERROR:"LOAD_ERROR",SUBMITING:"SUBMITING",SUBMIT_ERROR:"SUBMIT_ERROR",READY:"READY"},F=function getNetworkStatusString(e){var t;return{LOADING:P()("Loading..."),LOAD_ERROR:P()("Load error!"),SUBMITING:P()("Submitting..."),SUBMIT_ERROR:P()("Submit error!")}[e]},G=function(e){function CommentsContainer(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).state={commentRowData:[],networkState:W.READY},t.onCommentFetchSuccess=function(e){var n=e.comments,i,a=e.userProfiles.reduce((function(e,t){return s()(s()({},e),{},r()({},t.userId,t))}),{});t.setState({commentRowData:n.map((function(e){return{comment:e,creator:a[e.creatorId]}})),networkState:W.READY})},t.onPostingComment=function(e){var n=t.props,i=n.courseId,r=n.itemId,a=n.submissionId,s=t.context._eventData;return t.setState({networkState:W.SUBMITING}),C({comment:{typeName:"plain",definition:{comment:e}},courseId:i,itemId:r,submissionId:a}).then((function(){l.a.trackComponent(s,{comment_user_id:p.a.get().id,comment:e},"click","post")})).catch((function(){t.setState({networkState:W.SUBMIT_ERROR})})).then(t.fetchComments)},t.fetchComments=function(){var e=t.props,n=e.courseId,i=e.itemId,r=e.submissionId;return w({userId:p.a.get().id,courseId:n,itemId:i,submissionId:r}).then(t.onCommentFetchSuccess).catch((function(){t.setState({networkState:W.LOAD_ERROR})}))},t}c()(CommentsContainer,e);var t=CommentsContainer.prototype;return t.componentDidMount=function componentDidMount(){this.setState({networkState:W.LOADING}),this.fetchComments()},t.componentDidUpdate=function componentDidUpdate(e){var t=this.props,n=t.courseId,i=t.itemId,r=t.submissionId;e.courseId===n&&e.itemId===i&&e.submissionId===r||this.fetchComments()},t.render=function render(){var e=this.props.submissionId,t=this.state,i=t.commentRowData,r=t.networkState;return n.createElement("div",{className:q()},r!==W.READY&&n.createElement("p",null,F(r)),n.createElement("h3",{className:q(void 0,void 0,"headline-1-text")},P()("Comments")),n.createElement("p",{className:q(void 0,void 0,"caption-text")},P()("Comments left for the learner are visible only to that learner and the person who left the comment.")),n.createElement("div",{className:q("input-section")},n.createElement(B,{submissionId:e,onPostingComment:this.onPostingComment})),n.createElement("div",{className:q("comments")},i.map((function(e){return n.createElement(D,{commentData:e,key:"".concat(e.comment.createdAt,"~").concat(e.comment.creatorId)})}))))},CommentsContainer}(n.Component);G.contextTypes={_eventData:d.a.object};var z=G,Q=t("c82m"),Y=t("AOca"),X=function CommentSection(e){var t=e.computedItem,i=e.submissionId,r=e.courseId;return(n.createElement("div",{className:"rc-CommentsSection card-rich-interaction cozy"},n.createElement(z,{courseId:r,itemId:t.id,submissionId:i})))},J=e.a=X},CLNb:function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("eJW0"),a=t.n(r),s=t("5wfi"),o=t.n(s),c=function SubmissionViewCell(e){var t=e.children,i=e.ariaLabel;return t?n.createElement("div",{className:"rc-SubmissionViewCell",role:"region","aria-label":i&&a()("Review prompt: #{ariaLabel}",{ariaLabel:i})},t):null};e.a=c},E3EV:function(module,exports,e){e("0VHx")},EGbX:function(module,exports,e){},Ef0b:function(module,e,t){"use strict";var n=t("fsL8"),i=t.n(n),r=t("yXPU"),a=t.n(r),s=t("S+eF"),o=t.n(s),c=t("F/us"),u=t.n(c),d=t("fAMf"),l=t("StP4"),m=t("i6HE"),p=t("E4RX"),h=t("JAmU"),b=t("uhR6"),f=t("beWW"),g=t("Q3zy"),v=t("fw5G"),S=t.n(v),I=t("DnuM"),y=Object(I.a)("/api/onDemandPeerAssignmentInstructions.v1",{type:"rest"}),w=["instructions"],C=["requiredAuthoredReviewCount","isMentorGraded","assignmentDetails"],E=function getAssignment(e){var t=e.userId,n=e.courseId,i=e.itemId,r=(new S.a).addQueryParam("q","latest").addQueryParam("userId",t.toString()).addQueryParam("courseId",n).addQueryParam("itemId",i).addQueryParam("includes",["gradingMetadata","reviewSchemas","submissionSchemas"].join(",")).addQueryParam("fields",[w,"onDemandPeerAssignmentGradingMetadata.v1(".concat(C.join(","),")"),"onDemandPeerReviewSchemas.v1(reviewSchema)","onDemandPeerSubmissionSchemas.v1(submissionSchema)"].join(","));return o()(y.get(r.toString()))},P=Object(I.a)("/api/onDemandPeerAssignmentPermissions.v1",{type:"rest"}),A=Object(I.a)("/api/onDemandPeerSubmissionProgresses.v1",{type:"rest"}),O="onDemandPeerSubmissionProgresses.v1",R="onDemandPeerReceivedReviewProgresses.v1",T="onDemandPeerDisplayablePhaseSchedules.v1",j=["latestSubmissionSummary","latestDraftSummary","latestAttemptSummary"],N=["evaluationIfReady","earliestCompletionTime","reviewCount","defaultReceivedReviewRequiredCount"],x=["currentPhase","phaseEnds","phaseStarts"],k=["deleteSubmission","listSubmissions","reviewPeers","viewReviewSchema","anonymousPeerReview","".concat(O,"(").concat(j.join(","),")"),"".concat(R,"(").concat(N.join(","),")"),"".concat(T,"(").concat(x.join(","),")")],D=["receivedReviewsProgress","submissionProgress","phaseSchedule"],M=function getPermissionsAndProgresses(e,t,n){var i=new S.a("".concat(e,"~").concat(t,"~").concat(n)).addQueryParam("fields",k.join(",")).addQueryParam("includes",D.join(","));return o()(P.get(i.toString())).then((function(e){return{assignmentPermissions:u()(e.elements).first(),submissionProgresses:u()(e.linked[O]).first(),receivedReviewProgresses:u()(e.linked[R]).first(),displayablePhaseSchedules:u()(e.linked[T]).first()}}))},V=function(){var e=a()(i()().mark((function _callee(e){var t,n,r,a,s,o;return i()().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return n=e.userId,r=e.courseId,a=e.itemId,s=new S.a("".concat(n,"~").concat(r,"~").concat(a)).addQueryParam("fields",j.join(",")),i.next=4,A.get(s.toString());case 4:return o=i.sent,i.abrupt("return",null===(t=o.elements)||void 0===t?void 0:t[0]);case 6:case"end":return i.stop()}}),_callee)})));return function getPeerSubmissionProgresses(t){return e.apply(this,arguments)}}(),U=t("bPpC"),L=t("Hk9X");t.d(e,"b",(function(){return q})),t.d(e,"c",(function(){return G})),t.d(e,"a",(function(){return z})),t.d(e,"d",(function(){return Q}));var H=function loadAssignment(e,t){var n=t.userId,i=t.courseId,r=t.itemId;return e.dispatch(b.a.LOADING_PEER_ASSIGNMENT),E({userId:n,courseId:i,itemId:r}).then((function(t){return e.dispatch(b.a.LOADED_PEER_ASSIGNMENT,{assignment:Object(L.a)(t),loadedItemId:r}),t}))},B=function loadPermissionsAndProgresses(e,t){var n=t.userId,i=t.courseId,r=t.itemId;return e.dispatch(b.a.LOADING_PEER_USER_PERMISSIONS),M(n,i,r).then((function(t){e.dispatch(b.a.LOADED_DISPLAYABLE_PHASE_SCHEDULE,{displayablePhaseSchedule:t.displayablePhaseSchedules});var n=u()(t.assignmentPermissions).chain().pick((function(e){return e.isAllowed})).keys().value();return e.dispatch(b.a.LOADED_PEER_USER_PERMISSIONS,{capabilities:n,capabilitiesWithReasons:t.assignmentPermissions,receivedReviewProgresses:t.receivedReviewProgresses,submissionProgresses:t.submissionProgresses}),t}))},q=function(){var e=a()(i()().mark((function _callee(e,t){var n,r,a,s;return i()().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return n=t.userId,r=t.courseId,a=t.itemId,i.next=3,V({userId:n,courseId:r,itemId:a});case 3:return s=i.sent,e.dispatch(b.a.LOADED_PEER_USER_SUBMISSION_PROGRESSES,{submissionProgresses:s}),i.abrupt("return",s);case 6:case"end":return i.stop()}}),_callee)})));return function loadLatestSubmissionProgresses(t,n){return e.apply(this,arguments)}}(),W=function loadSubmissionDraft(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.permissionsAndProgresses,s=t.submissionSchema,c=t.reviewSchema;return e.dispatch(b.a.PEER_SUBMISSION_DRAFT_LOADING),null==a.submissionProgresses.latestDraftSummary?o()(Object(L.g)(s,c,n)).then((function(t){return e.dispatch(b.a.LOADED_PEER_SUBMISSION_DRAFT,{naptimeSubmissionSchema:s,naptimeSubmission:Object(d.a)(s.submissionSchema,n),latestSubmissionAndRelated:t})})):Object(g.b)({userId:n,courseId:i,itemId:r}).then((function(t){var n=Object(L.d)(t);return e.dispatch(b.a.LOADED_PEER_SUBMISSION_DRAFT,{naptimeSubmission:t.submission,naptimeSubmissionSchema:s,latestSubmissionAndRelated:n})}))},F=function loadLatestSubmission(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.permissionsAndProgresses,s=t.submissionSchema,c=t.reviewSchema,u=t.shouldLoadOwnPeerViewSubmission;return null==a.submissionProgresses.latestSubmissionSummary?W(e,{userId:n,courseId:i,itemId:r,permissionsAndProgresses:a,submissionSchema:s,reviewSchema:c}):u?Object(h.d)(e,{userId:n,courseId:i,itemId:r,submissionId:a.submissionProgresses.latestSubmissionSummary.computed.id}):o()()},G=function loadReviewQueue(e,t){var n=t.userId,i=t.itemId,r=t.courseId,a=t.limit,s=t.start;return e.dispatch(b.a.REVIEW_QUEUE_LOADING),Object(f.a)({userId:n,courseId:r,itemId:i,start:s,limit:a}).then((function(e){return Object(L.b)(e)})).then((function(t){e.dispatch(b.a.REVIEW_QUEUE_LOADED,{data:t,itemId:i})})).catch((function(t){if(403!==t.status)throw t;e.dispatch(b.a.REVIEW_QUEUE_ERROR,{errorType:"mustSubmitBeforeReviewing"})}))},z=function loadInitialPeerData(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.forceRefresh,s=t.shouldLoadOwnPeerViewSubmission,c=e.getStore(U.a).getState(),u="loaded"===c.loadState,d=r!==c.loadedItemId;if(!a&&u&&!d)return o()({});return o.a.all([B(e,{userId:n,courseId:i,itemId:r}),H(e,{userId:n,courseId:i,itemId:r})]).spread((function(t,a){return F(e,{userId:n,courseId:i,itemId:r,permissionsAndProgresses:t,submissionSchema:a.linked["onDemandPeerSubmissionSchemas.v1"][0],reviewSchema:a.linked["onDemandPeerReviewSchemas.v1"][0],shouldLoadOwnPeerViewSubmission:s})}))},Q=function refreshSubmissionAndProgress(e,t){var n=t.userId,i=t.courseId,r=t.courseSlug,a=t.itemId;return z(e,{userId:n,courseId:i,itemId:a,forceRefresh:!0,shouldLoadOwnPeerViewSubmission:!0}).then((function(){return e.executeAction(p.a,{courseId:i,refreshProgress:!0}).then((function(){return Promise.all([e.executeAction(p.a,{courseId:i,refreshProgress:!0}),e.executeAction(m.b,{courseId:i}),e.executeAction(l.b,{courseSlug:r,refetch:!0})])}))}))}},GKzL:function(module,exports,e){var t=e("+lOM"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},IbxQ:function(module,e,t){"use strict";t.d(e,"a",(function(){return s}));var n=t("q1tI"),i=t.n(n),r=t("DuzF"),a="assess/1",s=function useHtmlToCml(e,t){var i,a,s=Object(n.useMemo)((function(){return new r.a}),[]),o,c;return"html"===(null==e?void 0:e.typeName)?o=s.toCML(e.definition,!0,!0):"Submission_HtmlContent"===(null==e?void 0:e.__typename)&&(o=s.toCML(e.value,!0,!0)),{cmlContent:{typeName:"cml",definition:{dtdId:t||(null==e?void 0:e.dtdId)||(null==e?void 0:null===(i=e.definition)||void 0===i?void 0:i.dtdId)||"assess/1",value:o||(null==e?void 0:e.cmlValue)||(null==e?void 0:null===(a=e.definition)||void 0===a?void 0:a.value)}}}}},Nfse:function(module,exports,e){e("SHoU")},"O+1n":function(module,e,t){"use strict";var n=t("S+eF"),i=t.n(n),r=t("sQ/U"),a=t("k8gO"),s=t("welz"),o,c,u=t.n(s).a.Model.extend({});t.d(e,"a",(function(){return d})),t.d(e,"b",(function(){return l}));var d=function fetchVerifiableId(){var e=r.a.get().id;return i.a.resolve("".concat(Object(a.a)(),"~").concat(e))},l=function verifyAssignment(e,t){var n=r.a.get().id;return i.a.resolve(new u({isApprovedForVerificationState:!0,verifiableId:e.split("~")[0],nextVerificationState:"Success",id:e,userId:n,expiresAt:Date.now()+2592e6}))},m=function verifyAssignmentWithViewModel(e){l(e.get("verifiableId")).then((function(){e.trigger("verificationComplete",{hasVerified:!0})})).done()},p=function fetchVerifiableIdAndVerifyAssignment(e){d().then((function(t){return e.set("verifiableId",t),e})).then(m)}},Oejf:function(module,exports){module.exports={name:"alice",parameters:[{name:"aliceEnabled",valid:[!0,!1],value:!1}]}},Q3zy:function(module,e,t){"use strict";t.d(e,"b",(function(){return m})),t.d(e,"c",(function(){return p})),t.d(e,"a",(function(){return h}));var n=t("3tO9"),i=t.n(n),r=t("fw5G"),a=t.n(r),s=t("S+eF"),o=t.n(s),c=t("DnuM"),u=Object(c.a)("/api/onDemandPeerSubmissionDrafts.v1",{type:"rest"}),d=["submission","context","creatorId","attachedAssignmentId","createdAt","upgradeSubmissionToLatestAssignment","blocksSubmit","validationErrors","onDemandPeerReviewSchemas.v1(reviewSchema)","onDemandPeerSubmissionSchemas.v1(submissionSchema)"],l=["reviewSchemas","submissionSchemas"];function responseHandler(e){if(e.elements&&e.elements.length){var t=e.linked["onDemandPeerSubmissionSchemas.v1"]&&e.linked["onDemandPeerSubmissionSchemas.v1"].length&&e.linked["onDemandPeerSubmissionSchemas.v1"][0],n=e.linked["onDemandPeerReviewSchemas.v1"]&&e.linked["onDemandPeerReviewSchemas.v1"].length&&e.linked["onDemandPeerReviewSchemas.v1"][0];if(null==t)throw new Error("No linked submission schema in onDemandPeerSubmissionDraftsApi");return i()(i()({},e.elements[0]),{},{reviewSchema:n,submissionSchema:t})}throw new Error("No elements received in onDemandPeerSubmissionDraftsApi")}var m=function getSubmissionDraft(e){var t=e.userId,n=e.courseId,i=e.itemId,r="".concat(t,"~").concat(n,"~").concat(i),s=new a.a(r).addQueryParam("fields",d.join(",")).addQueryParam("includes",l.join(","));return o()(u.get(s.toString())).then(responseHandler)},p=function updateSubmissionDraft(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.submissionDraftUpdate,s="".concat(t,"~").concat(n,"~").concat(i),c=new a.a(s).addQueryParam("fields",d.join(",")).addQueryParam("includes",l.join(","));return o()(u.put(c.toString(),{data:r})).then(responseHandler)},h=function forceUpgradedSubmissionDraft(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.forceUpgradeToAssignmentId,s="".concat(t,"~").concat(n,"~").concat(i),c=(new a.a).addQueryParam("action","forceUpgradedDraft").addQueryParam("id",s).addQueryParam("forceUpgradeToAssignmentId",r).addQueryParam("fields",d.join(",")).addQueryParam("includes",l.join(","));return o()(u.post(c.toString())).then((function(e){return e[0]}))}},QUzv:function(module,exports,e){e("iUdz")},Qo1F:function(module,exports,e){},SHoU:function(module,exports,e){},SVYm:function(module,exports,e){e("z/Vw")},T8wf:function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("e9Hh"),a=t.n(r),s=function SubmissionViewTable(e){var t=e.children;return(n.createElement("div",{className:"rc-SubmissionViewTable"},t))};e.a=s},TSlG:function(module,exports,e){e("nAcj")},Tqty:function(module,exports,e){e("x39J")},U4Db:function(module,exports,e){},WMAa:function(module,exports,e){e("w2bJ")},WS07:function(module,exports,e){e("rRPC")},X129:function(module,exports,e){e("9ZYf")},Z6wk:function(module,exports,e){},ZSJn:function(module,e,t){"use strict";var n=function AliceEvent(e){var t=e.type,n=e.courseBranchId,i=e.contextType;this.type=t,this.courseBranchId=n,this.contextType=i};e.a=n},Zr0k:function(module,e,t){"use strict";var n=t("RIqP"),i=t.n(n),r=t("fsL8"),a=t.n(r),s=t("yXPU"),o=t.n(s),c=t("Q/np"),u=t("Ef0b"),d=t("DnuM"),l=Object(d.a)("/api/onDemandPeerSubmissionAttempts.v1",{type:"rest"}),m=function startNewAttempt(e){var t=e.itemId,n=e.courseId;return l.post("",{data:{courseId:n,itemId:t}})},p=t("Q3zy"),h=t("5AUN"),b=t("Hk9X"),f=t("uhR6");t.d(e,"b",(function(){return I})),t.d(e,"a",(function(){return C})),t.d(e,"d",(function(){return E})),t.d(e,"c",(function(){return P})),t.d(e,"e",(function(){return A})),t.d(e,"g",(function(){return O})),t.d(e,"f",(function(){return R}));var g=function onSaveSuccess(e){return function(t){return e.dispatch(f.a.PEER_SUBMIT_UPDATE_ALERTS,{severity:"warning"}),e.dispatch(f.a.PEER_SUBMIT_UPDATE_LATEST_SUBMISSION_DRAFT,{latestSubmissionAndRelated:t}),e.dispatch(f.a.PEER_SUBMISSION_APP_STATE_SAVE_SUCCESS),t}},v=function onAutoSaveSuccess(e){return function(t){return e.dispatch(f.a.PEER_SUBMIT_UPDATE_ALERTS,{severity:"warning"}),e.dispatch(f.a.PEER_SUBMIT_UPDATE_LATEST_SUBMISSION_DRAFT,{latestSubmissionAndRelated:t}),e.dispatch(f.a.PEER_SUBMISSION_APP_STATE_AUTO_SAVE_SUCCESS),t}},S=function onSaveFailure(e){return function(t){if(t.responseJSON||t.status)return e.dispatch(f.a.PEER_SUBMISSION_APP_STATE_SAVE_ERROR,{statusCode:t.status,response:t.responseJSON}),null;throw t}},I=function localUpdateSubmission(e,t){var n=t.submission;e.dispatch(f.a.PEER_SUBMIT_LOCAL_UPDATE_DRAFT_SUBMISSION,{submission:n})},y=function(){var e=o()(a()().mark((function _callee(e,t){var n,i,r,s,o,d;return a()().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:n=t.isNewDraft,i=t.itemId,r=t.userId,s=t.courseId,o=t.partnerId,d=!!o&&Object(c.a)(o),n&&d&&e.executeAction(u.b,{itemId:i,userId:r,courseId:s});case 3:case"end":return a.stop()}}),_callee)})));return function refetchSubmissionSummaries(t,n){return e.apply(this,arguments)}}(),w=function updateSubmissionDraft(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.submission;if(null==r.versionedAssignmentId)throw new Error("Error saving draft submission: could not find existing assignment id");return p.c({userId:t,courseId:n,itemId:i,submissionDraftUpdate:{submission:{title:r.definition.title,parts:r.definition.parts},attachedAssignmentId:r.versionedAssignmentId}})},C=function autoSaveSubmission(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.submission,s=t.isNewDraft,o=t.partnerId;return e.dispatch(f.a.PEER_SUBMISSION_APP_STATE_AUTO_SAVING),w({userId:n,courseId:i,itemId:r,submission:a}).then((function(e){return Object(b.d)(e)})).then(v(e),S(e)).then((function(t){return y(e,{userId:n,courseId:i,itemId:r,isNewDraft:s,partnerId:o}),t}))},E=function saveSubmission(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.submission,s=t.isNewDraft,o=t.partnerId;return e.dispatch(f.a.PEER_SUBMISSION_APP_STATE_SAVING),w({userId:n,courseId:i,itemId:r,submission:a}).then((function(e){return Object(b.d)(e)})).then(g(e),S(e)).then((function(t){return y(e,{userId:n,courseId:i,itemId:r,isNewDraft:s,partnerId:o}),t}))},P=function resetSubmission(e,t){var n=t.courseId,i=t.courseSlug,r=t.userId,a=t.itemId,s=t.submissionId;return h.b({userId:r,courseId:n,itemId:a,submissionId:s}).then((function(){return e.executeAction(u.d,{itemId:a,userId:r,courseId:n,courseSlug:i})}))},A=function(){var e=o()(a()().mark((function _callee2(e,t){var n,i,r,s;return a()().wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return n=t.courseId,i=t.courseSlug,r=t.userId,s=t.itemId,e.dispatch(f.a.PEER_SUBMISSION_APP_STATE_SAVING),a.next=4,m({courseId:n,itemId:s});case 4:return e.dispatch(f.a.PEER_SUBMISSION_APP_STATE_SAVE_SUCCESS),a.abrupt("return",e.executeAction(u.d,{itemId:s,userId:r,courseId:n,courseSlug:i}));case 6:case"end":return a.stop()}}),_callee2)})));return function startNewAttempt(t,n){return e.apply(this,arguments)}}(),O=function upgradeSubmission(e,t){var n=t.assignmentVersion,i=t.forceUpgradeToAssignmentVersion,r=t.itemId,a=t.courseId,s=t.courseSlug,o=t.userId,c=t.submission;if(null==c.versionedAssignmentId)throw new Error("Error upgrading assignment: could not find existing assignment id");var d="".concat(c.versionedAssignmentId.split("@")[0],"@").concat(i);return p.a({userId:o,courseId:a,itemId:r,forceUpgradeToAssignmentId:d}).then((function(e){return Object(b.f)(e)})).then((function(e){return w({itemId:r,submission:e,courseId:a,userId:o})})).then((function(e){return Object(b.d)(e)})).catch(S(e)).then((function(){return e.executeAction(u.d,{itemId:r,userId:o,courseId:a,courseSlug:s})}))},R=function submitSubmission(e,t){var n=t.itemId,r=t.submission,a=t.assignmentVersion,s=t.verifiableId,o=t.courseId,c=t.courseSlug,d=t.userId;return e.dispatch(f.a.PEER_SUBMISSION_APP_STATE_SUBMITTING),w({itemId:n,submission:r,courseId:o,userId:d}).then((function(e){return Object(b.d)(e)})).then(g(e),S(e)).then((function(e){var t=!1,n;e&&e.errorTree&&e.errorTree.errors&&(t=!![].concat(i()(e.errorTree.errors),i()(Object.keys(e.errorTree.children).reduce((function(t,n){return[].concat(i()(t),i()(e.errorTree.children[n].errors))}),[]))).some((function(e){return e.blocksSubmit})));if(t||!e)throw new Error("submit blocked by errors");return e})).then((function(e){return h.d({courseId:o,itemId:n,verifiableId:s,draftCreatedAt:e.submission.createdAt})})).then((function(){return e.dispatch(f.a.PEER_SUBMISSION_APP_STATE_SUBMIT_SUCCESS),e.executeAction(u.d,{itemId:n,userId:d,courseId:o,courseSlug:c})})).catch((function(){return e.dispatch(f.a.PEER_SUBMISSION_APP_STATE_SUBMIT_ERROR)}))}},awLj:function(module,exports,e){e("Z6wk")},c82m:function(module,exports,e){e("3w12")},e9Hh:function(module,exports,e){e("3blG")},fAMf:function(module,e,t){"use strict";var n=t("3WF5"),i=t.n(n),r=t("O7iK"),a=t.n(r),s=t("WQ4j"),o=function initializeSubmissionFromSchema(e,t,n){var r;return{title:"",parts:a()(i()(e.parts,(function(e){var t=e.id,i=e.details;return[t,Object(s.a)(i.typeName,n)]}))),invalidParts:{},isDraft:!0,submittedBy:t,submittedAt:Date.now(),id:""}};e.a=o},fiqM:function(module,e,t){"use strict";var n=t("q1tI"),i=t("pVnL"),r=t.n(i),a=t("MnCE"),s=t("+ojs"),o,c,u,d,l=function SvgInfo(e){return n.createElement(s.a,r()({},e,{viewBox:"0 0 48 48"}),o||(o=n.createElement("title",null,"Info")),c||(c=n.createElement("path",{d:"M24,46 C11.869,46 2,36.131 2,24 C2,11.869 11.869,2 24,2 C36.131,2 46,11.869 46,24 C46,36.131 36.131,46 24,46 M24,0 C10.767,0 0,10.767 0,24 C0,37.233 10.767,48 24,48 C37.233,48 48,37.233 48,24 C48,10.767 37.233,0 24,0"})),u||(u=n.createElement("path",{d:"M24,16 C25.105,16 26,15.104 26,14 C26,12.896 25.105,12 24,12 C22.895,12 22,12.896 22,14 C22,15.104 22.895,16 24,16"})),d||(d=n.createElement("polygon",{points:"25.4962 20.0093 20.4962 20.0093 20.4962 22.0093 23.4962 22.0093 23.4962 34.0093 20.4962 34.0093 20.4962 36.0093 28.4962 36.0093 28.4962 34.0093 25.4962 34.0093"})))};(l=Object(a.i)(l)).displayName="SvgInfo";var m=l,p=t("Nfse"),h,b,f=function LightNotification(e){var t=e.translatedMsg;return(n.createElement("div",{className:"rc-LightNotification"},h||(h=n.createElement("div",{className:"icon"},n.createElement(m,{size:24,color:"white"}))),n.createElement("span",{className:"message"},t)))},g=t("yhVA"),v=t.n(g),S=function OffPlatformView(){return n.createElement(f,{translatedMsg:v()("Follow the instructions to complete this activity. Your grade will be updated after review by course staff.")})},I=e.a=S},iUdz:function(module,exports,e){},"j/mg":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("TSYQ"),s=t.n(a),o=t("17x9"),c=t.n(o),u=t("MnCE"),d=t("F/us"),l=t.n(d),m=t("8cuT"),p=t("BVC1"),h=t("sQ/U"),b=t("IDuc"),f=t("Zr0k"),g=t("+2ZD"),v=t("yhVA"),S=t.n(v),I=t("3Vaj"),y=function(e){function SubmissionDeleteModal(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={deletionInProgress:!1},t.handleSubmissionDelete=function(){var e=t.props,n=e.submissionId,i=e.computedItem.id,r=e.courseId,a=e.courseSlug,s=h.a.get().id;t.setState({deletionInProgress:!0}),t.context.executeAction(f.c,{itemId:i,submissionId:n,userId:s,courseId:r,courseSlug:a})},t}var t;return i()(SubmissionDeleteModal,e),SubmissionDeleteModal.prototype.render=function render(){return this.props.showModal?r.createElement(g.a,{className:"rc-SubmissionDeleteModal",handleClose:this.props.onModalClose,modalName:S()("Have you reviewed your feedback?")},r.createElement("h3",{className:"headline-4-text title"},S()("Have you reviewed your feedback?")),r.createElement("p",null,S()("\n              Your feedback on this submission will be deleted when you start editing your project. You can resubmit\n              your project for feedback when you finish editing.\n            ")),r.createElement("div",{className:"c-modal-action-bar"},r.createElement(b.a,{className:"passive",onClick:this.props.onModalClose,trackingName:"edit_project_cancel"},S()("Cancel")),r.createElement("button",{disabled:this.state.deletionInProgress,className:"primary submission-button",onClick:this.handleSubmissionDelete},this.state.deletionInProgress?S()("Loading..."):S()("Edit my submission")))):null},SubmissionDeleteModal}(r.Component);y.contextTypes={executeAction:c.a.func};var w=y,C=function(e){function SubmissionEditButton(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.openModal=function(){t.setState({showModal:!0})},t.closeModal=function(){t.setState({showModal:!1})},t}i()(SubmissionEditButton,e);var t=SubmissionEditButton.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,n=t.hasLoaded,i=t.isSubmitted,r=t.computedItem;n&&i&&!e.isSubmitted&&(this.context.router.push(p.a.join(r.resourcePath,"submit")),this.closeModal())},t.render=function render(){var e=this.props,t=e.hasLoaded,n=e.canDelete,i=e.submissionId,a=e.computedItem,o=e.className,c=e.courseId,u=e.courseSlug,d=e.buttonMessage;if(!t)return null;return(r.createElement("div",null,r.createElement("div",{className:s()("rc-SubmissionEditButton",o)},r.createElement(b.a,{className:"button secondary",disabled:!n,onClick:this.openModal,trackingName:"edit_project"},d)),this.state.showModal&&r.createElement(w,{showModal:!0,computedItem:a,onModalClose:this.closeModal,submissionId:i,courseId:c,courseSlug:u})))},SubmissionEditButton}(r.Component);C.contextTypes={router:c.a.object};var E=e.a=Object(u.b)(Object(m.a)(["PeerPermissionsAndProgressesStore","CourseStore"],(function(e){var t=e.PeerPermissionsAndProgressesStore,n=e.CourseStore,i,r,a,s;return{hasLoaded:"loaded"===t.getState().loadState,canDelete:l()(t.getState().capabilities).contains("deleteSubmission"),isSubmitted:t.getState().isSubmitted,courseId:n.getCourseId(),courseSlug:n.getCourseSlug()}})))(C)},jcHc:function(module,exports,e){e("oQxv")},kljU:function(module,exports,e){e("2RWD")},lrid:function(module,exports,e){e("xQhk")},nAcj:function(module,exports,e){},nsyj:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("TSYQ"),s=t.n(a),o=t("Ev5W"),c,u=function GitRepoView(e){var t=e.submissionPart;return(r.createElement(o.a,{repositoryId:t.gitRepositoryId,launchRole:t.launchRole,courseId:t.courseId,itemId:t.itemId,learnerUserId:t.submitterUserId}))},d=t("fiqM"),l,m=function PlainTextView(e){var t=e.submissionPart;return(r.createElement("span",{className:"rc-PlainTextView"},t.plainText&&r.createElement("p",{className:"body-1-text",style:{whiteSpace:"pre-line",wordWrap:"break-word"}},t.plainText)))},p=t("wPTH"),h=t("PNHL"),b=t("rlpc"),f=t("CLNb"),g=t("beC1"),v=t("yhVA"),S=t.n(v),I=t("awLj"),y,w,C=function(e){function SubmissionPartView(){return e.apply(this,arguments)||this}i()(SubmissionPartView,e);var t=SubmissionPartView.prototype;return t.renderSpecificPart=function renderSpecificPart(){var e=this.props,t=e.submissionPart,n=e.showAutoSubmittedNote;if(!t)return null;switch(t.typeName){case"plainText":return r.createElement(m,{submissionPart:t.definition});case"richText":return r.createElement(p.a,{submissionPart:t.definition});case"url":return r.createElement(b.a,{submissionPart:t.definition});case"fileUpload":return r.createElement(h.a,{submissionPart:t.definition});case"offPlatform":return n&&(y||(y=r.createElement(d.a,null)));case"git":return r.createElement(u,{submissionPart:t.definition});default:return null}},t.render=function render(){var e=this.props,t=e.submissionSchemaPart,n=e.isInvalid,i=s()("rc-SubmissionPartView","bgcolor-white",{invalid:n});return r.createElement(f.a,null,r.createElement("div",{className:i},r.createElement("div",{className:"title label-text color-secondary-text"},S()("Prompt")),r.createElement("div",{className:"prompt caption-text color-secondary-text"},r.createElement(g.a,{content:t.prompt,assumeStringIsHtml:!0})),r.createElement("div",{className:"body-1-text scrollable"},this.renderSpecificPart()),n&&(w||(w=r.createElement("div",{className:"body-2-text color-danger"},"Invalid submission part")))))},SubmissionPartView}(r.Component);C.defaultProps={isInvalid:!1,showAutoSubmittedNote:!1};var E=e.a=C},o5Sl:function(module,e,t){"use strict";var n=t("J4zp"),i=t.n(n),r=t("q1tI"),a=t("MnCE"),s=t("8cuT"),o=t("BVC1"),c=t("vXr1"),u=t("gNwb"),d=t("KBPx"),l=t("lSNA"),m=t.n(l),p=t("AeFk"),h=t("sQ/U"),b=t("7NTc"),f=t("8Hdl"),g=t("ZJgU"),v=t("8xbv"),S=t("pVnL"),I=t.n(S),y=t("VbXa"),w=t.n(y),C=t("17x9"),E=t.n(C),P=t("PStO"),A=function withFluxibleContextAsProps(){return function(e){var t;return(t=function(t){function Wrapper(){return t.apply(this,arguments)||this}var n;return w()(Wrapper,t),Wrapper.prototype.render=function render(){return r.createElement(e,I()({},this.props,this.context))},Wrapper}(r.Component)).displayName="withFluxibleContextAsProps(".concat(e.displayName||e.name||"Component",")"),t.contextTypes={executeAction:E.a.func,executeMutation:E.a.func,getStore:E.a.func},t}},utils_withFluxibleContextAsProps=function(){return function(e){return Object(a.b)(P.a.createContainer((function(){return{}})),A())(e)}},O=t("Zr0k"),R=t("yhVA"),T=t.n(R),j,N={primaryButton:function primaryButton(e){return Object(p.c)(m()({},e.breakpoints.down("xs"),{width:"100%",maxWidth:"none"}))},buttonText:Object(p.c)({height:"24px"}),secondaryButton:function secondaryButton(e){return Object(p.c)(m()({margin:e.spacing(0,24,0)},e.breakpoints.down("xs"),{width:"100%",maxWidth:"none",margin:e.spacing(24,0,0)}))}},x=function StartNewAttemptModal(e){var t=e.handleCancel,n=e.executeAction,a=e.computedItem.id,s=e.courseId,o=e.courseSlug,c=b.a.HeadingGroup,u=b.a.Content,d=b.a.Actions,l=Object(r.useState)(!1),m=i()(l,2),S=m[0],I=m[1],y=function handleStartNewAttempt(){var e=h.a.get().id;I(!0),n(O.e,{itemId:a,userId:e,courseId:s,courseSlug:o})};return Object(p.d)(b.a,{"aria-describedby":"dialog-content",open:!0,onClose:t},Object(p.d)(c,null,T()("Ready to start a new attempt?")),Object(p.d)(u,{id:"dialog-content"},Object(p.d)(f.a,{variant:"body1",component:"p"},T()("Your new attempt will clear your previous submission and peer review feedback. If you cancel and don't attempt again, what you've submitted will count towards your final grade."))),Object(p.d)(d,null,Object(p.d)(g.a,{css:N.primaryButton,disabled:S,size:"medium",variant:"primary",onClick:y,"aria-label":T()("Continue"),"data-test":"continue"},Object(p.d)("span",{css:N.buttonText,"aria-hidden":!0},S?j||(j=Object(p.d)(v.a,null)):T()("Continue"))),Object(p.d)(g.a,{css:N.secondaryButton,size:"medium",variant:"secondary",onClick:t,"data-test":"cancel"},T()("Cancel"))))},k=Object(a.b)(utils_withFluxibleContextAsProps())(x),D=function StartNewAttemptButton(e){var t=e.hasLoaded,n=e.canDelete,a=e.computedItem,s=e.courseId,l=e.courseSlug,m=e.canStartNewAttempt,p=e.startAttemptState,h=e.buttonSize,b=void 0===h?"small":h,f=Object(c.b)(),g=Object(r.useState)(!1),v=i()(g,2),S=v[0],I=v[1],y=Object(d.a)(p),w=function openModal(){I(!0)},C=Object(r.useCallback)((function(){I(!1)}),[]);if(Object(r.useEffect)((function(){t&&"saving"===y&&"ready"===p&&(f.push(o.a.join(a.resourcePath,"submit")),C())}),[t,a.resourcePath,p,y,f,C]),!t)return null;return(r.createElement(r.Fragment,null,r.createElement(u.b,{variant:"secondary",disabled:!n||!m,onClick:w,trackingName:"reattempt_project_submission",size:b},T()("Start new attempt")),S&&r.createElement(k,{computedItem:a,courseId:s,courseSlug:l,handleCancel:C})))},M=e.a=Object(a.b)(Object(s.a)(["PeerPermissionsAndProgressesStore","CourseStore","PeerSubmissionAppStateStore"],(function(e){var t,n,i,r,a,s=e.PeerPermissionsAndProgressesStore,o=e.CourseStore,c=e.PeerSubmissionAppStateStore,u="loaded"===s.getState().loadState,d=!(null!==(t=s.getState().submissionProgress)&&void 0!==t&&t.latestAttemptSummary),l=null===(n=s.getState().submissionProgress)||void 0===n?void 0:null===(i=n.latestAttemptSummary)||void 0===i?void 0:i.remainingAttempts;return{hasLoaded:u,canDelete:((null===(r=s.getState())||void 0===r?void 0:r.capabilities)||[]).includes("deleteSubmission"),courseId:o.getCourseId(),courseSlug:o.getCourseSlug(),canStartNewAttempt:d||!!l&&l>0,startAttemptState:null===(a=c.getState())||void 0===a?void 0:a.saveState}})))(D)},oQxv:function(module,exports,e){},p6xx:function(module,exports,e){},qPyB:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),s=t("eJMc"),o=t.n(s),c=t("DnuM"),u=t("BVC1"),d=t("sQ/U"),l=t("hbUA"),m=t("yhVA"),p=t.n(m),h=Object(c.a)("/api/onDemandPeerSubmissions.v1",{type:"rest"}),b=function(e){function PeerItemShareableLink(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showLink:!1},t}i()(PeerItemShareableLink,e);var t=PeerItemShareableLink.prototype;return t.componentDidMount=function componentDidMount(){var e=this,t=this.props.computedItem;h.post("?action=disableUrlSharing&userId=".concat(d.a.get().id,"&courseId=").concat(t.courseId),{data:{}}).then((function(t){!1===t&&e.setState({showLink:!0})}))},t.render=function render(){var e=this.props,t=e.computedItem,n=e.submissionId,i=this.state.showLink;if(Object(l.t)(t)||!i)return null;var a=u.a.join([t.resourcePath,"review",n]);return(r.createElement(o.a,{to:a,className:"rc-PeerItemShareableLink"},p()("Shareable Link")))},PeerItemShareableLink}(r.Component);e.a=b},rC9M:function(module,exports,e){var t,n,i,r;i=window,r=function(e,t,n){var i=function template(n){var i=[],r,a=n||{};return function(t){i.push('<div class="hide confirm-navigation modal"><div class="modal-header"><h3>'+e.escape(null==(r=t("Confirm Navigation"))?"":r)+'</h3></div><div class="modal-body"><div class="confirm-navigation-message"></div><div>'+e.escape(null==(r=t("Are you sure you want to leave this page?"))?"":r)+'</div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="passive confirm-navigation-stay">'+e.escape(null==(r=t("Stay on this Page"))?"":r)+'</button>&nbsp;&nbsp;<button data-modal-close="data-modal-close" data-modal-action="leave" class="primary confirm-navigation-leave">'+e.escape(null==(r=t("Leave this Page"))?"":r)+"</button></div></div>")}.call(this,"_t"in a?a._t:void 0!==t?t:void 0),i.join("")};return function(e){return e&&"_t"in e&&(t=e._t.merge(t)),i(e)}},t=[e("xgPa"),e("GKzL")],void 0===(n=function(e,t){var n;return r(e,t,n)}.apply(exports,t))||(module.exports=n)},rRPC:function(module,exports,e){},rn8S:function(module,exports,e){e("5rI8")},sldo:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("VkAN"),a=t.n(r),s=t("AeFk"),o=t("q1tI"),c=t.n(o),u=t("ZJgU"),d=t("7NTc"),l=t("8Hdl"),m=t("SJ7i"),p=t("uZaC"),h=t("gNwb"),b=t("u5mk"),f=t("HXet"),g=t.n(f),v,S,I,y,w,C,E=Object(h.d)({type:"BUTTON"})(u.a),P={signature:function signature(e){return Object(s.c)(v||(v=a()(["\n    background-color: ",";\n    padding: ",";\n    margin-bottom: ",";\n  "])),e.palette.gray[100],e.spacing(16),e.spacing(16))}},A=function(e){function HonorCodeModalV2(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={signature:""},t.handleSignatureChange=function(e){var n=e.target.value;t.setState((function(){return{signature:n}}))},t}var t;return i()(HonorCodeModalV2,e),HonorCodeModalV2.prototype.render=function render(){var e=this.props,t=e.onAccept,n=e.onClose,i=e.replaceCustomContent,r=e.trackingData,o=e.theme,c=d.a.HeadingGroup,m=d.a.Content,h=d.a.Actions,b=this.state.signature,f=!!b&&b.length>0,v=g()("Coursera Honor Code");return Object(s.d)(d.a,{"aria-describedby":v,open:!0,variant:"transactional"},Object(s.d)(c,null,v),Object(s.d)(m,{id:"dialog-content"},Object(s.d)(l.a,{variant:"body1"},g()("To protect the integrity of your work and that of fellow learners, the Coursera Honor Code requires you to:")),Object(s.d)("ul",{css:Object(s.c)(S||(S=a()(["\n              padding-left: ",";\n            "])),o.spacing(24))},Object(s.d)("li",null,Object(s.d)(l.a,{variant:"body1"},g()("Submit original work that has not been copied or reproduced from another source"))),Object(s.d)("li",null,Object(s.d)(l.a,{variant:"body1"},g()("Keep assignments private (do not duplicate your answers to share with other learners on or outside of Coursera)"))),Object(s.d)("li",null,Object(s.d)(l.a,{variant:"body1"},g()("Flag assignments you suspect to be plagiarized")))),Object(s.d)(l.a,{variant:"body1",css:Object(s.c)(I||(I=a()(["\n              margin-bottom: ",";\n            "])),o.spacing(16))},Object(s.d)(p.a,{articleId:"209818863",linkText:g()("Learn more about the Coursera Honor Code")})),Object(s.d)("div",{css:P.signature},Object(s.d)(l.a,{variant:"body1"},i(g()("I understand that submitting another’s work as my own can result in zero credit for this assignment. Repeated violations of the Coursera Honor Code may result in removal from this {course} or deactivation of my Coursera account."))),Object(s.d)(l.a,{variant:"body1",css:Object(s.c)(y||(y=a()(["\n                margin: ",";\n              "])),o.spacing(16,0,8,0))},g()("Signature")),Object(s.d)("div",null,Object(s.d)("input",{css:Object(s.c)(w||(w=a()(["\n                  height: ",";\n                "])),o.spacing(32)),"aria-label":g()("Signature"),type:"text",name:"signature",onChange:this.handleSignatureChange})))),Object(s.d)(h,null,Object(s.d)(u.a,{variant:"primary",size:"medium","data-test":"accept-button",onClick:t,disabled:!f},g()("Yes, I understand")),Object(s.d)(E,{trackingName:"declined_honor_code",trackingData:r,"data-test":"decline-button",variant:"secondary",size:"medium",css:Object(s.c)(C||(C=a()(["\n              margin: ",";\n            "])),o.spacing(0,8,0,8)),onClick:n},g()("No, I decline"))))},HonorCodeModalV2}(o.Component);e.a=Object(b.a)(Object(m.a)(A))},w2bJ:function(module,exports,e){},x39J:function(module,exports,e){},xQhk:function(module,exports,e){},xgPa:function(module,exports,e){var t;!function(n){var exports={};function nulls(e){return null!=e&&""!==e}function joinClasses(e){return Array.isArray(e)?e.map(joinClasses).filter(nulls).join(" "):e}Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),exports.merge=function merge(e,t){if(1===arguments.length){for(var n=e[0],i=1;i<e.length;i++)n=merge(n,e[i]);return n}var r=e.class,a=t.class;for(var s in(r||a)&&(r=r||[],a=a||[],Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]),e.class=r.concat(a).filter(nulls)),t)"class"!=s&&(e[s]=t[s]);return e},exports.joinClasses=joinClasses,exports.cls=function cls(e,t){for(var n=[],i=0;i<e.length;i++)t&&t[i]?n.push(exports.escape(joinClasses([e[i]]))):n.push(joinClasses(e[i]));var r=joinClasses(n);return r.length?' class="'+r+'"':""},exports.attr=function attr(e,t,n,i){return"boolean"==typeof t||null==t?t?" "+(i?e:e+'="'+e+'"'):"":0===e.indexOf("data")&&"string"!=typeof t?" "+e+"='"+JSON.stringify(t).replace(/'/g,"&apos;")+"'":n?" "+e+'="'+exports.escape(t)+'"':" "+e+'="'+t+'"'},exports.attrs=function attrs(e,t){var n=[],i=Object.keys(e);if(i.length)for(var r=0;r<i.length;++r){var a=i[r],s=e[a];"class"==a?(s=joinClasses(s))&&n.push(" "+a+'="'+s+'"'):n.push(exports.attr(a,s,!1,t))}return n.join("")},exports.escape=function escape(e){var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return t===""+e?e:t},exports.rethrow=function rethrow(t,n,i,r){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||r))throw t.message+=" on line "+i,t;try{r=r||e("mw/K").readFileSync(n,"utf8")}catch(e){rethrow(t,null,i)}var a=3,s=r.split("\n"),o=Math.max(i-a,0),c=Math.min(s.length,i+a);throw a=s.slice(o,c).map((function(e,t){var n=t+o+1;return(n==i?"  > ":"    ")+n+"| "+e})).join("\n"),t.path=n,t.message=(n||"Jade")+":"+i+"\n"+a+"\n\n"+t.message,t},void 0===(t=function(){return exports}.call(exports,e,exports,module))||(module.exports=t)}(this)},xmcF:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("17x9"),s=t.n(a),o=t("jGbM"),c=t("sQ/U"),u=t("fw5G"),d=t.n(u),l=t("DnuM"),m=t("nZ8s"),p=Object(l.a)("/api/aliceMessages.v1",{type:"rest"}),h=function getMessages(e){var t=e.type,n=e.courseBranchId,i=e.contextType,r;return n?r=(new d.a).addQueryParam("q","byBranchAndEventType").addQueryParam("eventType",t).addQueryParam("branchId",n):i&&(r=(new d.a).addQueryParam("q","byContextAndEventType").addQueryParam("eventType",t).addQueryParam("contextType",i)),p.get(r.toString()).then((function(t){var n;return t.elements.map((function(t){return new m.a(t.id,t.definition&&t.definition.itemId,t.definition&&t.definition.moduleId,t.definition&&t.definition.weekNumber,t.definition&&t.definition.title,t.definition&&t.definition.message,t.definition&&t.definition.dataSourceDescription,t.definition&&t.definition.action,t.definition&&t.definition.epicToShowNamespace,t.definition&&t.definition.epicToShowParameter,e.type)}))}))},b=function publishAliceNotification(e,t){var n=t.event,i=n.type,r,a;return e.getStore("AliceStore").getMessagesForEventType(i)||(e.dispatch("REQUESTING_ALICE_MESSAGES",{eventType:i}),h(n).then((function(t){e.dispatch("CACHE_ALICE_MESSAGES",{eventType:i,messages:t})}))),e.dispatch("PUBLISH_ALICE_NOTIFICATION",{event:n})},f=function clearAliceNotification(e){e.dispatch("CLEAR_ALICE_NOTIFICATION")},g=function dismissAliceNotification(e,t){var n=t.id;e.dispatch("DISMISS_ALICE_NOTIFICATION",{id:n})},v=t("KMW/"),S=t("Oejf"),I=t.n(S),y,w="alice";null===(y=v.a.addDefaults)||void 0===y||y.call(v.a,[I.a]);var C,E={get:function get(e,t){return v.a.get("alice",e,t)},preview:function preview(e,t,n){return v.a.preview("alice",e,t)}};function withAliceNotification(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}};return function(n){var a=n.displayName||n.name,u=function(a){function WithAliceNotificationWrapper(n,i){var r;(r=a.call(this,n,i)||this).publish=function(){var t=e(r.props),n=r.context.executeAction;t?n(b,{event:t}):n(f)};var s=E.get("aliceEnabled",t(n))||c.a.isSuperuser();return r.state={enabled:s},r}i()(WithAliceNotificationWrapper,a);var s=WithAliceNotificationWrapper.prototype;return s.componentDidMount=function componentDidMount(){var e;this.state.enabled&&this.publish()},s.componentDidUpdate=function componentDidUpdate(){var e;this.state.enabled&&this.publish()},s.componentWillUnmount=function componentWillUnmount(){var e=this.state.enabled,t=this.context.executeAction;e&&t(f)},s.render=function render(){return r.createElement(n,Object.assign({},this.props))},WithAliceNotificationWrapper}(r.Component);return u.displayName=a+"WithAliceNotificationConnector",u.contextTypes={executeAction:s.a.func},Object(o.a)(u,n),u}}t.d(e,"a",(function(){return withAliceNotification}))},yUSy:function(module,exports,e){},"z/Vw":function(module,exports,e){}}]);
//# sourceMappingURL=en.30.6f2c4e039843a2285d67.js.map